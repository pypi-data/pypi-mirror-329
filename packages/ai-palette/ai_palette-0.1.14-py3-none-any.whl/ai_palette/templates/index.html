<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Palette</title>
    <!-- ä¸»é¢˜ -->
    <script src="/static/js/theme.js"></script>
    <!-- é…ç½® -->
    <script src="/static/js/tailwind.js"></script>
    <script>
    tailwind.config = {
        darkMode: 'class',
        theme: {
            extend: {}
        }
    }
    </script>
    <!-- æ ·å¼ -->
    <style type="text/tailwindcss">
        @layer components {
            .whitespace-pre-wrap {
                @apply text-slate-400 dark:text-slate-200;
            }

            /* åˆ†éš”çº¿ä¿æŒå—çº§ */
            .whitespace-pre-wrap hr {
                @apply block my-4 border-t border-slate-200 dark:border-slate-700;
            }
        
            .whitespace-pre-wrap br{
                display: inline-block;
                margin-bottom: 0.5rem;
                margin-top: 0.5rem;
            }
            
            .whitespace-pre-wrap p {
                display: inline-block;
                margin-bottom: 0.5rem;
                margin-top: 0.5rem;
            }
        
            .whitespace-pre-wrap li {
                display: inline-block;
                margin-left: 1rem;
                margin-bottom: 0.5rem;
                margin-top: 0.5rem;
            }
        
            .whitespace-pre-wrap h1,
            .whitespace-pre-wrap h2,
            .whitespace-pre-wrap h3,
            .whitespace-pre-wrap h4,
            .whitespace-pre-wrap h5,
            .whitespace-pre-wrap h6 {
                display: inline-block;
            }
        
            .gradient-bg {
                @apply dark:bg-gradient-to-br dark:from-slate-900 dark:to-slate-800 bg-gradient-to-br from-slate-50 to-slate-100;
            }
            .floating-image {
                @apply fixed left-8 top-8 w-[320px] rounded-lg shadow-lg transition-transform duration-300
                       hover:shadow-xl z-50;
                filter: drop-shadow(0 4px 12px rgba(0, 120, 255, 0.2));
            }
            .floating-image:hover {
                @apply -translate-y-1 rotate-1;
                filter: drop-shadow(0 8px 16px rgba(0, 120, 255, 0.3));
            }
            .github-corner:hover .octo-arm {
                animation: octocat-wave 560ms ease-in-out;
            }
            @keyframes octocat-wave {
                0%, 100% { transform: rotate(0) }
                20%, 60% { transform: rotate(-25deg) }
                40%, 80% { transform: rotate(10deg) }
            }
            .input-base {
                @apply w-full rounded-lg border shadow-sm backdrop-blur-sm px-4 py-3
                       dark:border-gray-700/50 dark:bg-gray-800/50 dark:text-gray-100
                       border-gray-200 bg-white/90 text-gray-900
                       dark:hover:border-blue-400/40 dark:hover:bg-gray-800/70
                       hover:border-blue-400/40 hover:bg-white
                       dark:focus:border-blue-400 dark:focus:bg-gray-800/90 dark:focus:ring-2 dark:focus:ring-blue-500/20
                       focus:border-blue-400 focus:bg-white focus:ring-2 focus:ring-blue-500/20 focus:outline-none
                       transition-all duration-200;
            }
            .btn-primary {
                @apply w-full bg-gradient-to-r from-blue-500 to-blue-600
                       text-white py-3 px-4 rounded-lg font-medium
                       hover:opacity-90 active:opacity-80
                       transform active:scale-[0.99]
                       transition-all duration-200
                       shadow-sm hover:shadow-blue-500/10 focus:shadow-md focus:outline-none;
            }
            .label-text {
                @apply block text-sm font-medium mb-1.5
                       dark:text-gray-300 text-gray-700;
            }
            .response-box {
                @apply w-full rounded-lg p-4 min-h-[100px] whitespace-pre-wrap backdrop-blur-sm shadow-sm
                       dark:bg-gray-800/50 dark:border dark:border-gray-700/50 dark:text-gray-100
                       bg-white/90 border border-gray-200 text-gray-900;
            }
            select {
                @apply input-base appearance-none bg-no-repeat cursor-pointer pr-10;
                background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%239ca3af' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
                background-position: right 0.75rem center;
                background-size: 1.5em 1.5em;
            }
            input[type="checkbox"] {
                @apply w-5 h-5 rounded-md cursor-pointer transition-colors duration-200
                       focus:ring-0 focus:ring-offset-0
                       dark:border-gray-700 dark:bg-gray-800 dark:text-blue-500
                       border-gray-300 bg-white text-blue-500;
            }
            ::placeholder {
                @apply dark:text-gray-500 text-gray-400;
            }
            option {
                @apply dark:bg-gray-800 dark:text-gray-100 bg-white text-gray-900;
            }
            .reasoning-content {
                @apply overflow-hidden transition-all duration-300 ease-in-out;
            }
            .reasoning-arrow {
                @apply transform transition-transform duration-300 ease-in-out;
            }
            .breathing-button {
                @apply animate-pulse;
                animation: breathing 2s ease-in-out infinite;
            }
            
            @keyframes breathing {
                0% {
                    box-shadow: 0 0 0 0 rgba(147, 51, 234, 0.7);
                }
                70% {
                    box-shadow: 0 0 0 10px rgba(147, 51, 234, 0);
                }
                100% {
                    box-shadow: 0 0 0 0 rgba(147, 51, 234, 0);
                }
            }
        
            .thinking-label {
                @apply px-2 py-0.5;
                animation: thinkingBreathing 2s ease-in-out infinite;
            }
            
            @keyframes thinkingBreathing {
                0% {
                    color: rgb(244, 114, 182);
                    text-shadow: 0 0 5px rgba(244, 114, 182, 0.5);
                }
                50% {
                    color: rgb(236, 72, 153);
                    text-shadow: 0 0 10px rgba(236, 72, 153, 0.7);
                }
                100% {
                    color: rgb(244, 114, 182);
                    text-shadow: 0 0 5px rgba(244, 114, 182, 0.5);
                }
            }
        
            .thinking-label.thinking-done {
                @apply text-slate-400;
                animation: none;
                text-shadow: none;
            }
        
            .thinking-text {
                @apply text-slate-400;
            }
        
            .code-block {
                @apply font-mono text-sm whitespace-pre;
            }
            .code-block code {
                @apply dark:text-slate-300 text-slate-700 whitespace-pre;
            }
            .drawer-open {
                @apply pr-[600px] transition-all duration-300 ease-in-out;
            }
            
            input:checked + .toggle-label {
                @apply dark:bg-blue-600 bg-blue-600;
            }
            
            input:checked + .toggle-label .toggle-dot {
                transform: translateX(1.5rem);
            }
        }
    </style>

</head>
<body class="dark:bg-slate-900 dark:text-slate-200 bg-slate-50 text-slate-900">
    <!-- æ¬¢è¿æ¨¡æ€æ¡† -->
    <div id="welcomeModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 opacity-0 pointer-events-none transition-opacity duration-300">
        <div class="relative bg-white dark:bg-slate-800 rounded-xl max-w-lg w-full mx-4 p-6 shadow-xl transform transition-transform duration-300 scale-95">
            <div class="absolute top-4 right-4">
                <button onclick="closeWelcomeModal()" class="dark:text-slate-400 text-slate-500 dark:hover:text-slate-300 hover:text-slate-700">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none">
                        <path d="M18 6l-12 12"></path>
                        <path d="M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            <div class="space-y-4">
                <h2 class="text-2xl font-bold dark:text-white text-slate-900">æ¬¢è¿ä½¿ç”¨ AI Palette! ğŸ¨</h2>
                <div class="space-y-2">
                    <p class="dark:text-slate-300 text-slate-600">AI Palette æ˜¯ä¸€ä¸ªç»Ÿä¸€çš„ AI æ¥å£å¹³å°ï¼Œæ”¯æŒå¤šç§å¹³å°ï¼š</p>
                    <ul class="list-disc pl-5 dark:text-slate-300 text-slate-600 space-y-1">
                        <li><span class="font-medium text-blue-500"><a href="https://cloud.siliconflow.cn/i/gQhQNfpv" target="_blank" class="text-blue-500 hover:text-blue-600">ç¡…åŸºæµåŠ¨</a></span> - æ¨èï¼æä¾›ä¸°å¯Œçš„æ¨¡å‹é€‰æ‹©ï¼Œå“åº”é€Ÿåº¦å¿«</li>
                        <li><span class="font-medium">Ollama</span> - æœ¬åœ°éƒ¨ç½²ï¼Œæ— éœ€ API Key</li>
                        <li><span class="font-medium">å…¶ä»–</span> - DeepSeekã€OpenAIã€æ™ºè°±ã€åƒé—®ç­‰ã€‚</li>
                    </ul>
                </div>
                <div class="bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4 space-y-2">
                    <p class="dark:text-slate-300 text-slate-600 font-medium">å¿«é€Ÿå¼€å§‹ï¼š</p>
                    <p class="dark:text-slate-400 text-slate-600">1. é€‰æ‹©å¹³å°ï¼ˆæ¨èä½¿ç”¨ç¡…åŸºæµåŠ¨ï¼Œå…è´¹ç”¨Qwen2.5ï¼‰</p>
                    <p class="dark:text-slate-400 text-slate-600">2. è¾“å…¥ API Keyï¼ˆ<a href="https://cloud.siliconflow.cn/i/gQhQNfpv" target="_blank" class="text-blue-500 hover:text-blue-600">ç‚¹å‡»è·å–</a>ï¼‰</p>
                    <p class="dark:text-slate-400 text-slate-600">3. å¼€å§‹å¯¹è¯ï¼</p>
                </div>
                <div class="bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4">
                    <div class="flex items-center justify-between">
                        <div class="dark:text-slate-300 text-slate-600">
                            <p class="font-medium">æœ‰ä»»ä½•æƒ³æ³•ï¼Ÿ</p>
                            <p class="text-sm mt-1">æ‰«æäºŒç»´ç å…³æ³¨æˆ‘ä»¬ï¼Œè·å–å¸®åŠ©å’Œæ›´æ–°ï¼</p>
                        </div>
                        <img src="/static/image/qrcode.jpg" alt="Connect" class="w-24 h-24 rounded-lg dark:border-slate-600 border-slate-200 border">
                    </div>
                </div>
                <div class="flex justify-end pt-2">
                    <button onclick="closeWelcomeModal()" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-slate-800 focus:ring-offset-white">
                        å¼€å§‹ä½¿ç”¨
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- ä¸»å®¹å™¨ -->
    <div class="flex h-screen">
        <!-- å·¦ä¾§è®¾ç½®é¢æ¿ -->
        <div class="w-80 border-r dark:border-slate-700 border-slate-200 dark:bg-slate-800 bg-white p-6 flex flex-col">
            <div class="mb-6">
                <div class="flex items-center justify-between mb-2">
                    <h1 class="text-2xl font-bold dark:text-white text-slate-800">AI Palette ğŸ¨</h1>
                    <div class="flex">
                        <div class="rounded-md border dark:border-slate-200/20 border-slate-200">
                            <div class="flex text-[10px] font-medium leading-4">
                                <button onclick="toggleTheme('dark')" class="theme-toggle dark-toggle flex w-auto gap-1 rounded-l-md px-2 py-1 focus:outline-none dark:text-slate-300 text-slate-500 dark:hover:bg-slate-700/50 hover:bg-slate-100">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="inline-flex h-3.5 w-3.5">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
                                    </svg>
                                </button>
                                <button onclick="toggleTheme('light')" class="theme-toggle light-toggle flex gap-1 rounded-r-md px-2 py-1 focus:outline-none dark:text-slate-300 text-slate-500 dark:hover:bg-slate-700/50 hover:bg-slate-100">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" class="inline-flex h-3.5 w-3.5" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <p class="dark:text-slate-400 text-slate-600 text-sm">ç»Ÿä¸€ AI æ¥å£ï¼Œä¸€ä¸ªè°ƒç”¨æ»¡è¶³æ‰€æœ‰éœ€æ±‚</p>
            </div>

            <!-- æ¨¡å‹è®¾ç½® -->
            <div class="space-y-4 flex-1">
                <div>
                    <label class="block text-sm font-medium dark:text-slate-300 text-slate-600 mb-1">æ¨¡å‹æä¾›å•†</label>
                    <select id="modelType" onchange="handleModelTypeChange()" class="input-base">
                        <option value="siliconflow">ç¡…åŸºæµåŠ¨</option>
                        <option value="deepseek">DeepSeek</option>
                        <option value="ollama">Ollama</option>
                        <option value="openai">OpenAI</option>
                        <option value="zhipu">æ™ºè°±AI</option>
                        <option value="dashscope">é€šä¹‰åƒé—®</option>
                        <option value="minimax">MiniMax</option>
                        <option value="ernie">ç™¾åº¦æ–‡å¿ƒ</option>
                        <option value="volcengine">ç«å±±å¼•æ“</option>
                        <option value="dual_chain">åŒé“¾æ¨ç†</option>
                    </select>
                </div>

                <div>
                    <label class="block text-sm font-medium dark:text-slate-300 text-slate-600 mb-1">API Key</label>
                    <div class="relative">
                        <input type="password" id="apiKey" class="input-base" 
                            placeholder="è¾“å…¥ä½ çš„ API Key"
                            onblur="handleApiKeyChange()">
                        <button onclick="toggleApiKeyVisibility()" class="absolute right-2 top-1/2 -translate-y-1/2 dark:text-slate-400 text-slate-500 dark:hover:text-slate-300 hover:text-slate-700">
                            <svg id="eyeIcon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none">
                                <path d="M12 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path>
                                <path d="M22 12c-2.667 4.667 -6 7 -10 7s-7.333 -2.333 -10 -7c2.667 -4.667 6 -7 10 -7s7.333 2.333 10 7"></path>
                            </svg>
                        </button>
                    </div>
                    <a id="apiKeyHelp" href="#" target="_blank" class="text-sm text-blue-500 hover:text-blue-600 mt-1 inline-block">
                        è·³è½¬å®˜ç½‘è·å– API Key
                    </a>
                </div>

                <div>
                    <label class="block text-sm font-medium dark:text-slate-300 text-slate-600 mb-1">æ¨¡å‹åç§°</label>
                    <div class="relative">
                        <input 
                            type="text" 
                            id="model" 
                            class="input-base pr-20" 
                            placeholder="é€‰æ‹©æˆ–è¾“å…¥æ¨¡å‹åç§°"
                            oninput="filterModels(this.value)"
                            onclick="showModelDropdown()"
                            autocomplete="off"
                        >
                        <button 
                            onclick="refreshModels()"
                            type="button"
                            class="absolute right-2 top-1/2 -translate-y-1/2 dark:text-slate-400 text-slate-500 dark:hover:text-slate-300 hover:text-slate-700"
                        >
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none">
                                <path d="M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4"></path>
                                <path d="M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"></path>
                            </svg>
                        </button>
                        <!-- æ¨¡å‹åˆ—è¡¨ä¸‹æ‹‰æ¡† -->
                        <div id="modelDropdown" class="hidden absolute left-0 right-0 z-50 mt-1 max-h-60 overflow-auto rounded-lg dark:bg-slate-700 bg-white dark:border-slate-600 border-slate-200 border shadow-lg">
                            <div id="modelList" class="py-1">
                                <!-- æ¨¡å‹é€‰é¡¹å°†é€šè¿‡ JavaScript åŠ¨æ€æ·»åŠ  -->
                            </div>
                        </div>
                    </div>
                </div>

                <div class="space-y-3">
                    <!-- æ·»åŠ é…ç½®åŒé“¾æ¨ç†æŒ‰é’® -->
                    <div class="flex items-center justify-between dark:bg-slate-700/50 bg-slate-50 rounded-lg px-4 py-2">
                        <div class="flex items-center">
                            <label class="text-sm font-medium dark:text-slate-300 text-slate-600">é…ç½®åŒé“¾æ¨ç†</label>
                            <button onclick="showChainInfo()" class="ml-2 text-blue-500 hover:text-blue-600">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                            </button>
                        </div>
                        <button onclick="toggleChainModal()" class="flex items-center justify-center space-x-2 px-3 py-1.5 rounded-lg dark:bg-slate-600 bg-slate-200 dark:text-slate-300 text-slate-600 hover:bg-slate-300 dark:hover:bg-slate-500 transition-colors duration-200">
                            <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                            </svg>
                            <span>é…ç½®</span>
                        </button>
                    </div>

                    <div class="flex items-center justify-between dark:bg-slate-700/50 bg-slate-50 rounded-lg px-4 py-2">
                        <label for="enableStreaming" class="text-sm font-medium dark:text-slate-300 text-slate-600">å¯ç”¨æµå¼è¾“å‡º</label>
                        <div class="relative inline-block w-12 h-6">
                            <input type="checkbox" id="enableStreaming" onchange="handleStreamingChange()" class="hidden">
                            <label for="enableStreaming" class="toggle-label block w-12 h-6 rounded-full dark:bg-slate-600 bg-slate-300 cursor-pointer relative transition-colors duration-300">
                                <span class="toggle-dot absolute top-1 left-1 bg-white w-4 h-4 rounded-full transition-transform duration-300 ease-in-out shadow-sm"></span>
                            </label>
                        </div>
                    </div>

                    <div class="flex items-center justify-between dark:bg-slate-700/50 bg-slate-50 rounded-lg px-4 py-2">
                        <label for="showCodeExamples" class="text-sm font-medium dark:text-slate-300 text-slate-600">æ˜¾ç¤ºè°ƒç”¨ä»£ç ç¤ºä¾‹</label>
                        <div class="relative inline-block w-12 h-6">
                            <input type="checkbox" id="showCodeExamples" onchange="toggleCodeDrawer()" class="hidden">
                            <label for="showCodeExamples" class="toggle-label block w-12 h-6 rounded-full dark:bg-slate-600 bg-slate-300 cursor-pointer relative transition-colors duration-300">
                                <span class="toggle-dot absolute top-1 left-1 bg-white w-4 h-4 rounded-full transition-transform duration-300 ease-in-out shadow-sm"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- åº•éƒ¨é“¾æ¥ -->
            <div class="mt-auto space-y-4">
                <!-- æ¸…é™¤å¯¹è¯å†å² -->
                <div>
                    <button onclick="clearAllMessages()" class="w-full flex items-center justify-center space-x-2 px-4 py-3 rounded-lg bg-red-500/10 dark:text-red-400 text-red-600 hover:bg-red-500/20 dark:hover:bg-red-500/20 transition-colors duration-200 border dark:border-red-900/50 border-red-200">
                        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                        </svg>
                        <span class="text-base">æ¸…ç©ºå¯¹è¯å†å²</span>
                    </button>
                </div>

                <!-- GitHub é“¾æ¥ -->
                <div class="text-center space-x-4">
                    <a href="https://github.com/itshen/ai_palette" class="inline-flex items-center gap-2 text-sm font-medium dark:text-slate-200 text-slate-600 hover:text-blue-500 transition-colors duration-200" target="_blank">
                        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.477 2 2 6.477 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0012 2z"/>
                        </svg>
                        GitHub ä»“åº“
                    </a>
                    <a href="javascript:void(0)" onclick="showWelcomeModal()" class="inline-flex items-center gap-2 text-sm font-medium text-blue-500 hover:text-blue-600 transition-colors duration-200">
                        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-4l-4 4-4-4z" />
                        </svg>
                        æ„è§åé¦ˆ
                    </a>
                </div>
            </div>
        </div>

        <!-- å³ä¾§å¯¹è¯ç•Œé¢ -->
        <div class="flex-1 flex flex-col relative transition-all duration-300" id="chatContainer">
            <!-- åŒé“¾æ¨ç†é…ç½®æ¨¡æ€æ¡† -->
            <div id="chainModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 opacity-0 pointer-events-none transition-opacity duration-300">
                <div class="relative bg-white dark:bg-slate-800 rounded-xl w-[80vw] h-[80vh] mx-4 shadow-xl transform transition-transform duration-300 scale-95 flex flex-col">
                    <!-- æ¨¡æ€æ¡†å¤´éƒ¨ -->
                    <div class="absolute top-4 right-4">
                        <button onclick="toggleChainModal()" class="dark:text-slate-400 text-slate-500 dark:hover:text-slate-300 hover:text-slate-700">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none">
                                <path d="M18 6l-12 12"></path>
                                <path d="M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>

                    <!-- æ¨¡æ€æ¡†å†…å®¹åŒºåŸŸ -->
                    <div class="flex flex-1 p-6 gap-6 overflow-hidden">
                        <!-- å·¦ä¾§åˆ—è¡¨ -->
                        <div class="w-1/4 flex flex-col dark:bg-slate-900 bg-slate-50 rounded-lg p-4">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-lg font-medium dark:text-slate-200 text-slate-900">æ¨ç†é“¾åˆ—è¡¨</h3>
                                <button onclick="addNewChain()" class="p-1.5 dark:hover:bg-slate-700 hover:bg-slate-200 rounded-lg dark:text-slate-400 text-slate-600" style="margin-right: 10px;">
                                    <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                                    </svg>
                                </button>
                            </div>
                            <div class="flex-1 overflow-y-auto">
                                <ul id="chainList" class="space-y-2">
                                    <!-- åˆ—è¡¨é¡¹å°†é€šè¿‡ JavaScript åŠ¨æ€æ·»åŠ  -->
                                </ul>
                            </div>
                        </div>

                        <!-- å³ä¾§ç¼–è¾‘åŒºåŸŸ -->
                        <div class="flex-1 flex flex-col ml-0"> 
                            <!-- å³ä¾§é¡¶éƒ¨æ ‡é¢˜åŒºåŸŸ -->
                            <div class="flex items-center justify-between mb-4">
                                <h2 id="chainTitle" class="text-xl font-medium dark:text-slate-200 text-slate-900 px-2 py-1 rounded cursor-pointer" ondblclick="makeEditable(this)">æœªé€‰æ‹©æ¨ç†é“¾</h2>
                                <div class="flex gap-2 mr-8">
                                    <button onclick="importChain()" class="px-4 py-2 rounded-lg dark:bg-slate-700 bg-slate-100 dark:text-slate-300 text-slate-600 dark:hover:bg-slate-600 hover:bg-slate-200 transition-colors duration-200">
                                        å¯¼å…¥
                                    </button>
                                    <button onclick="exportChain()" class="px-4 py-2 rounded-lg dark:bg-slate-700 bg-slate-100 dark:text-slate-300 text-slate-600 dark:hover:bg-slate-600 hover:bg-slate-200 transition-colors duration-200">
                                        å¯¼å‡º
                                    </button>
                                </div>
                            </div>

                            <!-- å³ä¾§å†…å®¹åŒºåŸŸ -->
                            <div class="flex-1 flex flex-col gap-4">
                                <!-- æ€è€ƒ prompt -->
                                <div class="flex-1">
                                    <label class="block text-sm font-medium dark:text-slate-300 text-slate-600 mb-2">æ€è€ƒ Prompt</label>
                                    <p class="text-xs dark:text-slate-400 text-slate-500 mb-2">éœ€è¦åŒ…å«ç”¨æˆ·è¯·æ±‚å ä½ç¬¦ <a href="#" onclick="insertAtCursor('thinkingPrompt', '[$query$]'); return false;" class="text-blue-500 hover:text-blue-600">[$query$]</a></p>
                                    <!-- æ€è€ƒ prompt çš„æ¨¡å‹é…ç½® -->
                                    <div class="grid grid-cols-3 gap-2 mb-2">
                                        <div>
                                            <select id="thinkingModelType" class="input-base">
                                                <option value="siliconflow">ç¡…åŸºæµåŠ¨</option>
                                                <option value="deepseek">DeepSeek</option>
                                                <option value="ollama">Ollama</option>
                                                <option value="openai">OpenAI</option>
                                                <option value="zhipu">æ™ºè°±AI</option>
                                                <option value="dashscope">é€šä¹‰åƒé—®</option>
                                                <option value="minimax">MiniMax</option>
                                                <option value="ernie">ç™¾åº¦æ–‡å¿ƒ</option>
                                                <option value="volcengine">ç«å±±å¼•æ“</option>
                                            </select>
                                        </div>
                                        <div>
                                            <input type="text" id="thinkingModel" class="input-base" placeholder="æ¨¡å‹åç§°">
                                        </div>
                                        <div>
                                            <input type="password" id="thinkingApiKey" class="input-base" placeholder="API Key">
                                        </div>
                                    </div>
                                    <textarea 
                                        id="thinkingPrompt" 
                                        class="w-full h-[calc(100%-6rem)] rounded-lg border shadow-sm px-4 py-3 dark:bg-slate-900 bg-slate-50 dark:text-slate-200 text-slate-900 dark:border-slate-700 border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/20"
                                        placeholder="è¾“å…¥æ€è€ƒè¿‡ç¨‹çš„ prompt..."
                                        onblur="validateThinkingPrompt(this)"
                                    ></textarea>
                                </div>
                                <p> </p>

                                <!-- ç»“æœ prompt -->
                                <div class="flex-1">
                                    <label class="block text-sm font-medium dark:text-slate-300 text-slate-600 mb-2">ç»“æœ Prompt</label>
                                    <p class="text-xs dark:text-slate-400 text-slate-500 mb-2">éœ€è¦åŒ…å«ï¼šæ€è€ƒå ä½ç¬¦ <a href="#" onclick="insertAtCursor('resultPrompt', '[$thought$]'); return false;" class="text-blue-500 hover:text-blue-600">[$thought$]</a>ã€ç”¨æˆ·è¯·æ±‚å ä½ç¬¦ <a href="#" onclick="insertAtCursor('resultPrompt', '[$query$]'); return false;" class="text-blue-500 hover:text-blue-600">[$query$]</a></p>
                                    <!-- ç»“æœ prompt çš„æ¨¡å‹é…ç½® -->
                                    <div class="grid grid-cols-3 gap-2 mb-2">
                                        <div>
                                            <select id="resultModelType" class="input-base">
                                                <option value="siliconflow">ç¡…åŸºæµåŠ¨</option>
                                                <option value="deepseek">DeepSeek</option>
                                                <option value="ollama">Ollama</option>
                                                <option value="openai">OpenAI</option>
                                                <option value="zhipu">æ™ºè°±AI</option>
                                                <option value="dashscope">é€šä¹‰åƒé—®</option>
                                                <option value="minimax">MiniMax</option>
                                                <option value="ernie">ç™¾åº¦æ–‡å¿ƒ</option>
                                                <option value="volcengine">ç«å±±å¼•æ“</option>
                                            </select>
                                        </div>
                                        <div>
                                            <input type="text" id="resultModel" class="input-base" placeholder="æ¨¡å‹åç§°">
                                        </div>
                                        <div>
                                            <input type="password" id="resultApiKey" class="input-base" placeholder="API Key">
                                        </div>
                                    </div>
                                    <textarea 
                                        id="resultPrompt" 
                                        class="w-full h-[calc(100%-6rem)] rounded-lg border shadow-sm px-4 py-3 dark:bg-slate-900 bg-slate-50 dark:text-slate-200 text-slate-900 dark:border-slate-700 border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/20"
                                        placeholder="è¾“å…¥ç”Ÿæˆç»“æœçš„ prompt..."
                                        onblur="validateResultPrompt(this)"
                                    ></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ä»£ç ç¤ºä¾‹æŠ½å±‰ -->
            <div id="codeDrawer" class="fixed right-0 top-0 h-full w-[600px] transform translate-x-full transition-all duration-300 ease-in-out bg-white dark:bg-slate-800 shadow-xl border-l dark:border-slate-700 border-slate-200 flex flex-col">
                <div class="flex items-center justify-between p-4 border-b dark:border-slate-700 border-slate-200">
                    <h3 class="text-lg font-medium dark:text-slate-200 text-slate-900">ä»£ç ç¤ºä¾‹</h3>
                    <button onclick="toggleCodeDrawer()" class="dark:text-slate-400 text-slate-500 dark:hover:text-slate-300 hover:text-slate-700">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none">
                            <path d="M18 6l-12 12"></path>
                            <path d="M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                <div class="flex-1 overflow-y-auto p-4">
                    <!-- å‰ç«¯ä»£ç ç¤ºä¾‹ -->
                    <div class="mb-8">
                        <h4 class="text-base font-medium dark:text-slate-200 text-slate-900 mb-4">å‰ç«¯è°ƒç”¨ç¤ºä¾‹</h4>
                        <div class="mb-4">
                            <select id="frontendCodeType" onchange="switchCodeExample('frontend')" class="input-base">
                                <option value="curl">cURL</option>
                                <option value="requests">Python 3.x - Requests</option>
                                <option value="fetch">JavaScript (Fetch)</option>
                                <option value="eventsource">JavaScript (EventSource)</option>
                            </select>
                        </div>

                        <div id="frontendExamples">
                            <!-- cURL -->
                            <div id="curlExample" class="code-example">
                                <div class="relative">
                                    <div class="absolute right-2 top-2">
                                        <button onclick="copyCode(this)" class="text-xs px-2 py-1 rounded dark:bg-slate-700 bg-slate-100 dark:text-slate-300 text-slate-600 dark:hover:bg-slate-600 hover:bg-slate-200">
                                            å¤åˆ¶ä»£ç 
                                        </button>
                                    </div>
                                    <pre class="code-block dark:bg-slate-900 bg-slate-50 rounded-lg p-4 text-sm overflow-x-auto">
<code class="language-bash">curl -X POST http://localhost:18000/api/chat \\
-H "Content-Type: application/json" \\
-d '{
    "model_type": "[$MODEL_TYPE$]",  // å½“å‰é€‰æ‹©çš„æ¨¡å‹ç±»å‹
    "model": "[$MODEL$]",  // å½“å‰é€‰æ‹©çš„æ¨¡å‹
    "api_key": "[$API_KEY$]",  // å½“å‰è¾“å…¥çš„ API Key
    "prompt": "Your message here",
    "enable_streaming": [$STREAMING$]  // æ˜¯å¦å¯ç”¨æµå¼è¾“å‡º
}'</code></pre>
                                </div>
                            </div>

                            <!-- Python Requests -->
                            <div id="requestsExample" class="code-example hidden">
                                <div class="relative">
                                    <div class="absolute right-2 top-2">
                                        <button onclick="copyCode(this)" class="text-xs px-2 py-1 rounded dark:bg-slate-700 bg-slate-100 dark:text-slate-300 text-slate-600 dark:hover:bg-slate-600 hover:bg-slate-200">
                                            å¤åˆ¶ä»£ç 
                                        </button>
                                    </div>
                                    <pre class="code-block dark:bg-slate-900 bg-slate-50 rounded-lg p-4 text-sm overflow-x-auto">
<code class="language-python">import requests

response = requests.post(
    'http://localhost:18000/api/chat',
    json={
        'model_type': "[$MODEL_TYPE$]",  # å½“å‰é€‰æ‹©çš„æ¨¡å‹ç±»å‹
        'model': "[$MODEL$]",  # å½“å‰é€‰æ‹©çš„æ¨¡å‹
        'api_key': "[$API_KEY$]",  # å½“å‰è¾“å…¥çš„ API Key
        'prompt': 'Your message here',
        'enable_streaming': True if '[$STREAMING$]' == 'true' else False  # æ˜¯å¦å¯ç”¨æµå¼è¾“å‡º
    }
)

print(response.json()['response'])</code></pre>
                                </div>
                            </div>
                            
                            <!-- JavaScript (Fetch) -->
                            <div id="fetchExample" class="code-example hidden">
                                <div class="relative">
                                    <div class="absolute right-2 top-2">
                                        <button onclick="copyCode(this)" class="text-xs px-2 py-1 rounded dark:bg-slate-700 bg-slate-100 dark:text-slate-300 text-slate-600 dark:hover:bg-slate-600 hover:bg-slate-200">
                                            å¤åˆ¶ä»£ç 
                                        </button>
                                    </div>
                                    <pre class="code-block dark:bg-slate-900 bg-slate-50 rounded-lg p-4 text-sm overflow-x-auto">
<code class="language-javascript">const response = await fetch('/api/chat', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({
        model_type: "[$MODEL_TYPE$]",  // å½“å‰é€‰æ‹©çš„æ¨¡å‹ç±»å‹
        model: "[$MODEL$]",  // å½“å‰é€‰æ‹©çš„æ¨¡å‹
        api_key: "[$API_KEY$]",  // å½“å‰è¾“å…¥çš„ API Key
        prompt: 'Your message here',
        enable_streaming: True if '[$STREAMING$]' == 'true' else False  // æ˜¯å¦å¯ç”¨æµå¼è¾“å‡º
    })
});

const data = await response.json();
console.log(data.response);</code></pre>
                                </div>
                            </div>
                            
                            <!-- JavaScript (EventSource) -->
                            <div id="eventsourceExample" class="code-example hidden">
                                <div class="relative">
                                    <div class="absolute right-2 top-2">
                                        <button onclick="copyCode(this)" class="text-xs px-2 py-1 rounded dark:bg-slate-700 bg-slate-100 dark:text-slate-300 text-slate-600 dark:hover:bg-slate-600 hover:bg-slate-200">
                                            å¤åˆ¶ä»£ç 
                                        </button>
                                    </div>
                                    <pre class="code-block dark:bg-slate-900 bg-slate-50 rounded-lg p-4 text-sm overflow-x-auto">
<code class="language-javascript">const params = new URLSearchParams({
    model_type: "[$MODEL_TYPE$]",  // å½“å‰é€‰æ‹©çš„æ¨¡å‹ç±»å‹
    model: "[$MODEL$]",  // å½“å‰é€‰æ‹©çš„æ¨¡å‹
    api_key: "[$API_KEY$]",  // å½“å‰è¾“å…¥çš„ API Key
    prompt: 'Your message here',
    enable_streaming: true  // æµå¼è¾“å‡ºå§‹ç»ˆå¯ç”¨
});

const eventSource = new EventSource(\`/api/chat?\${params}\`);

eventSource.onmessage = (event) => {
    const data = JSON.parse(event.data);
    console.log(data.content);
};

eventSource.onerror = () => {
    eventSource.close();
};</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- åç«¯ä»£ç ç¤ºä¾‹ -->
                    <div>
                        <h4 class="text-base font-medium dark:text-slate-200 text-slate-900 mb-4">åç«¯è°ƒç”¨ç¤ºä¾‹</h4>
                        <div class="relative">
                            <div class="absolute right-2 top-2">
                                <button onclick="copyCode(this)" class="text-xs px-2 py-1 rounded dark:bg-slate-700 bg-slate-100 dark:text-slate-300 text-slate-600 dark:hover:bg-slate-600 hover:bg-slate-200">
                                    å¤åˆ¶ä»£ç 
                                </button>
                            </div>
                            <pre class="code-block dark:bg-slate-900 bg-slate-50 rounded-lg p-4 text-sm overflow-x-auto">
<code class="language-python">from ai_palette import AIChat

# åˆå§‹åŒ–èŠå¤©å®ä¾‹
chat = AIChat(
    provider="[$MODEL_TYPE$]",  # å½“å‰é€‰æ‹©çš„æ¨¡å‹ç±»å‹
    model="[$MODEL$]",  # å½“å‰é€‰æ‹©çš„æ¨¡å‹
    api_key="[$API_KEY$]",  # å½“å‰è¾“å…¥çš„ API Key
    enable_streaming=True if '[$STREAMING$]' == 'true' else False  # æ˜¯å¦å¯ç”¨æµå¼è¾“å‡º
)

# å‘é€æ¶ˆæ¯
response = chat.ask("Your message here")
print(response)

# æµå¼è¾“å‡º
for chunk in chat.ask("Your message here"):
    print(chunk["content"], end="", flush=True)</code></pre>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- æ¶ˆæ¯åˆ—è¡¨ -->
            <div class="flex-1 overflow-y-auto p-4" id="messageList">
                <!-- å¯¹è¯å»ºè®® -->
                <div id="suggestionBox" class="mb-4">
                    <div class="flex flex-wrap gap-2 text-xs">
                        <button onclick="usePromptAndSend(this)" class="rounded-lg dark:bg-slate-800 bg-white px-3 py-1.5 dark:hover:bg-blue-600 hover:bg-blue-50 dark:hover:text-slate-200 hover:text-blue-600 dark:text-slate-300 text-slate-600 dark:border-slate-700 border-slate-200 border">
                            å¸®æˆ‘åˆ¶å®šä¸€ä»½ä¸€å‘¨å¥åº·é¥®é£Ÿè®¡åˆ’
                        </button>
                        <button onclick="usePromptAndSend(this)" class="rounded-lg dark:bg-slate-800 bg-white px-3 py-1.5 dark:hover:bg-blue-600 hover:bg-blue-50 dark:hover:text-slate-200 hover:text-blue-600 dark:text-slate-300 text-slate-600 dark:border-slate-700 border-slate-200 border">
                            å¦‚ä½•ç¼“è§£å·¥ä½œå‹åŠ›å’Œæƒ…ç»ª
                        </button>
                        <button onclick="usePromptAndSend(this)" class="rounded-lg dark:bg-slate-800 bg-white px-3 py-1.5 dark:hover:bg-blue-600 hover:bg-blue-50 dark:hover:text-slate-200 hover:text-blue-600 dark:text-slate-300 text-slate-600 dark:border-slate-700 border-slate-200 border">
                            æ¨èä¸€äº›å®¤å†…æ¤ç‰©å…»æŠ¤å°æŠ€å·§
                        </button>
                        <button onclick="usePromptAndSend(this)" class="rounded-lg dark:bg-slate-800 bg-white px-3 py-1.5 dark:hover:bg-blue-600 hover:bg-blue-50 dark:hover:text-slate-200 hover:text-blue-600 dark:text-slate-300 text-slate-600 dark:border-slate-700 border-slate-200 border">
                            åˆ†äº«ä¸€äº›æé«˜ç¡çœ è´¨é‡çš„æ–¹æ³•
                        </button>
                        <button onclick="usePromptAndSend(this)" class="rounded-lg dark:bg-slate-800 bg-white px-3 py-1.5 dark:hover:bg-blue-600 hover:bg-blue-50 dark:hover:text-slate-200 hover:text-blue-600 dark:text-slate-300 text-slate-600 dark:border-slate-700 border-slate-200 border">
                            æ¨èå‡ é“ç®€å•ç¾å‘³çš„å®¶å¸¸èœ
                        </button>
                        <button onclick="usePromptAndSend(this)" class="rounded-lg dark:bg-slate-800 bg-white px-3 py-1.5 dark:hover:bg-blue-600 hover:bg-blue-50 dark:hover:text-slate-200 hover:text-blue-600 dark:text-slate-300 text-slate-600 dark:border-slate-700 border-slate-200 border">
                            å¦‚ä½•æ•´ç†å’Œæ”¶çº³å°æˆ·å‹ç©ºé—´
                        </button>
                        <button onclick="usePromptAndSend(this)" class="rounded-lg dark:bg-slate-800 bg-white px-3 py-1.5 dark:hover:bg-blue-600 hover:bg-blue-50 dark:hover:text-slate-200 hover:text-blue-600 dark:text-slate-300 text-slate-600 dark:border-slate-700 border-slate-200 border">
                            åˆ†äº«ä¸€äº›çœé’±å°å¦™æ‹›
                        </button>
                    </div>
                </div>
            </div>

            <!-- è¾“å…¥æ¡† -->
            <div class="p-4 border-t dark:border-slate-700 border-slate-200">
                <form onsubmit="sendMessage(); return false;">
                    <div class="relative">
                        <textarea 
                            id="prompt" 
                            class="input-base pr-24 resize-none"
                            rows="3"
                            placeholder="è¾“å…¥ä½ æƒ³é—®çš„é—®é¢˜..."
                        ></textarea>
                        <button 
                            type="submit"
                            class="absolute bottom-3 right-3 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-slate-800 focus:ring-offset-white"
                        >
                            å‘é€
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!-- æ¨ç†é“¾è¯´æ˜æ¨¡æ€æ¡† -->
    <div id="chainInfoModal" class="fixed inset-0 hidden z-50">
        <!-- æ¯›ç»ç’ƒèƒŒæ™¯ -->
        <div class="absolute inset-0 bg-black/20 backdrop-blur-sm transition-opacity duration-300 opacity-0"></div>
        
        <!-- æ¨¡æ€æ¡†å†…å®¹ -->
        <div class="relative min-h-screen flex items-center justify-center p-4">
            <div class="relative w-full max-w-3xl transform transition-all duration-300 scale-95 opacity-0">
                <div class="relative bg-white/80 dark:bg-slate-800/80 backdrop-blur-md rounded-2xl shadow-xl">
                    <div class="p-6">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-xl font-semibold dark:text-slate-200">æ¨ç†é“¾åŠŸèƒ½è¯´æ˜</h3>
                            <button onclick="hideChainInfo()" class="text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                                </svg>
                            </button>
                        </div>
                        
                        <div class="space-y-4 dark:text-slate-300 max-h-[calc(100vh-12rem)] overflow-y-auto">
                            <p class="text-base">æ¨ç†é“¾æ˜¯ä¸€ä¸ªå¼ºå¤§çš„åŠŸèƒ½ï¼Œå®ƒå…è®¸ä½ ä½¿ç”¨ä¸¤ä¸ªæ¨¡å‹è¿›è¡Œä¸¤é˜¶æ®µæ¨ç†ï¼šä¸€ä¸ªç”¨äºæ·±åº¦æ€è€ƒï¼Œä¸€ä¸ªç”¨äºç”Ÿæˆæœ€ç»ˆç»“æœã€‚è¿™å¯¹äºéœ€è¦å¤æ‚æ¨ç†çš„ä»»åŠ¡ç‰¹åˆ«æœ‰ç”¨ã€‚</p>
                            
                            <div class="bg-slate-100 dark:bg-slate-700 p-4 rounded-lg">
                                <h4 class="font-semibold mb-2">å®é™…æ¡ˆä¾‹</h4>
                                <div class="space-y-4">
                                    <div>
                                        <p class="font-medium">æ¡ˆä¾‹1ï¼šæ•°å­¦é—®é¢˜åˆ†æ</p>
                                        <p class="text-sm mt-1">æ€è€ƒpromptï¼š</p>
                                        <pre class="text-sm bg-slate-200 dark:bg-slate-600 p-2 rounded mt-1">è®©æˆ‘ä»¬ä¸€æ­¥æ­¥åˆ†æè¿™ä¸ªæ•°å­¦é—®é¢˜ï¼š[$query$]ã€‚è¯·åˆ—å‡ºè§£é¢˜æ€è·¯å’Œå…³é”®æ­¥éª¤ã€‚</pre>
                                        <p class="text-sm mt-1">ç»“æœpromptï¼š</p>
                                        <pre class="text-sm bg-slate-200 dark:bg-slate-600 p-2 rounded mt-1">åŸºäºä»¥ä¸‹è§£é¢˜æ€è·¯ï¼š[$thought$]ï¼Œè¯·ç”¨é€šä¿—æ˜“æ‡‚çš„è¯­è¨€å›ç­”é—®é¢˜ï¼š[$query$]</pre>
                                    </div>
                                    
                                    <div>
                                        <p class="font-medium">æ¡ˆä¾‹2ï¼šä»£ç ä¼˜åŒ–å»ºè®®</p>
                                        <p class="text-sm mt-1">æ€è€ƒpromptï¼š</p>
                                        <pre class="text-sm bg-slate-200 dark:bg-slate-600 p-2 rounded mt-1">åˆ†æè¿™æ®µä»£ç ï¼š[$query$]ã€‚è¯·ä»æ€§èƒ½ã€å¯è¯»æ€§ã€å®‰å…¨æ€§ç­‰æ–¹é¢è¿›è¡Œæ·±å…¥æ€è€ƒï¼Œæ‰¾å‡ºå¯èƒ½çš„ä¼˜åŒ–ç‚¹ã€‚</pre>
                                        <p class="text-sm mt-1">ç»“æœpromptï¼š</p>
                                        <pre class="text-sm bg-slate-200 dark:bg-slate-600 p-2 rounded mt-1">åŸºäºä»¥ä¸‹åˆ†æï¼š[$thought$]ï¼Œæˆ‘å°†ä¸ºä»£ç ï¼š[$query$] æä¾›å…·ä½“çš„ä¼˜åŒ–å»ºè®®å’Œæ”¹è¿›ä»£ç ã€‚</pre>
                                    </div>
                                    
                                    <div>
                                        <p class="font-medium">æ¡ˆä¾‹3ï¼šæ–‡ç« æ”¹å†™</p>
                                        <p class="text-sm mt-1">æ€è€ƒpromptï¼š</p>
                                        <pre class="text-sm bg-slate-200 dark:bg-slate-600 p-2 rounded mt-1">åˆ†æè¿™æ®µæ–‡å­—ï¼š[$query$]ã€‚è¯·ä»å†…å®¹ç»“æ„ã€ç”¨è¯ç”¨è¯­ã€è¡¨è¾¾æ–¹å¼ç­‰æ–¹é¢è¿›è¡Œæ€è€ƒï¼Œæ‰¾å‡ºå¯ä»¥æ”¹è¿›çš„åœ°æ–¹ã€‚</pre>
                                        <p class="text-sm mt-1">ç»“æœpromptï¼š</p>
                                        <pre class="text-sm bg-slate-200 dark:bg-slate-600 p-2 rounded mt-1">æ ¹æ®ä»¥ä¸‹åˆ†æï¼š[$thought$]ï¼Œæˆ‘å°†å¯¹æ–‡ç« ï¼š[$query$] è¿›è¡Œé‡å†™å’Œä¼˜åŒ–ã€‚</pre>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mt-4">
                                <h4 class="font-semibold mb-2">ä½¿ç”¨æç¤º</h4>
                                <ul class="list-disc list-inside space-y-2">
                                    <li>åœ¨æ€è€ƒpromptä¸­ä½¿ç”¨ <code class="bg-slate-200 dark:bg-slate-600/80 px-1 rounded">[$query$]</code> å¼•ç”¨ç”¨æˆ·è¾“å…¥</li>
                                    <li>åœ¨ç»“æœpromptä¸­ä½¿ç”¨ <code class="bg-slate-200 dark:bg-slate-600/80 px-1 rounded">[$thought$]</code> å¼•ç”¨æ€è€ƒç»“æœ</li>
                                    <li>å¯ä»¥ä¸ºä¸¤ä¸ªé˜¶æ®µé…ç½®ä¸åŒçš„æ¨¡å‹ï¼Œä¾‹å¦‚ä½¿ç”¨æ›´å¼ºå¤§çš„æ¨¡å‹è¿›è¡Œæ€è€ƒ</li>
                                    <li>å»ºè®®åœ¨æ€è€ƒpromptä¸­åŠ å…¥å…·ä½“çš„æ€è€ƒæ–¹å‘å’Œæ­¥éª¤æŒ‡å¯¼</li>
                                    <li>ç»“æœpromptåº”è¯¥æ˜ç¡®å¦‚ä½•åˆ©ç”¨æ€è€ƒç»“æœç”Ÿæˆæœ€ç»ˆç­”æ¡ˆ</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="/static/js/app.js"></script>
</body>
</html> 