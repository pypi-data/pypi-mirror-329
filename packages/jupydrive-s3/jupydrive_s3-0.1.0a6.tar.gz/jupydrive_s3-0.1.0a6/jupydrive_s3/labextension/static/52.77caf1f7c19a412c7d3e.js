"use strict";(self.webpackChunkjupydrive_s3=self.webpackChunkjupydrive_s3||[]).push([[52],{1614:(e,t,r)=>{r.d(t,{rQ:()=>m,GS:()=>o,_W:()=>d,kH:()=>l,GE:()=>S,Cg:()=>T,Br:()=>k,ri:()=>C});var n=r(4994),s=r(9311);const i={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},o=e=>({applyToStack:e=>{e.add(((e,t)=>async r=>{const{request:i}=r;if(n.Kd.isInstance(i)&&!("content-length"in i.headers)){const e="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";"function"!=typeof t?.logger?.warn||t.logger instanceof s.N4?console.warn(e):t.logger.warn(e)}return e({...r})}),i)}}),a={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},c={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},d=e=>({applyToStack:t=>{var r;t.add(function(e){return(t,r)=>async n=>{try{return await t(n)}catch(s){if(e.followRegionRedirects&&301===s?.$metadata?.httpStatusCode){try{const t=s.$response.headers["x-amz-bucket-region"];r.logger?.debug(`Redirecting from ${await e.region()} to ${t}`),r.__s3RegionRedirect=t}catch(e){throw new Error("Region redirect failed: "+e)}return t(n)}throw s}}}(e),c),t.addRelativeTo((r=e,(e,t)=>async n=>{const s=await r.region(),i=r.region;t.__s3RegionRedirect&&(r.region=async()=>(r.region=i,t.__s3RegionRedirect));const o=await e(n);if(t.__s3RegionRedirect&&s!==await r.region())throw new Error("Region was not restored following S3 region redirect.");return o}),a)}}),u={tags:["S3"],name:"s3ExpiresMiddleware",override:!0,relation:"after",toMiddleware:"deserializerMiddleware"},l=e=>({applyToStack:e=>{e.addRelativeTo(((e,t)=>async r=>{const i=await e(r),{response:o}=i;if(n.cS.isInstance(o)&&o.headers.expires){o.headers.expiresstring=o.headers.expires;try{(0,s.xE)(o.headers.expires)}catch(e){t.logger?.warn(`AWS SDK Warning for ${t.clientName}::${t.commandName} response parsing (${o.headers.expires}): ${e}`),delete o.headers.expires}}return i}),u)}});class h{constructor(e={}){this.data=e,this.lastPurgeTime=Date.now()}get(e){const t=this.data[e];if(t)return t}set(e,t){return this.data[e]=t,t}delete(e){delete this.data[e]}async purgeExpired(){const e=Date.now();if(!(this.lastPurgeTime+h.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>e))for(const t in this.data){const r=this.data[t];if(!r.isRefreshing){const n=await r.identity;n.expiration&&n.expiration.getTime()<e&&delete this.data[t]}}}}h.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4;class f{constructor(e,t=!1,r=Date.now()){this._identity=e,this.isRefreshing=t,this.accessed=r}get identity(){return this.accessed=Date.now(),this._identity}}class g{constructor(e,t=new h){this.createSessionFn=e,this.cache=t}async getS3ExpressIdentity(e,t){const r=t.Bucket,{cache:n}=this,s=n.get(r);return s?s.identity.then((e=>(e.expiration?.getTime()??0)<Date.now()?n.set(r,new f(this.getIdentity(r))).identity:((e.expiration?.getTime()??0)<Date.now()+g.REFRESH_WINDOW_MS&&!s.isRefreshing&&(s.isRefreshing=!0,this.getIdentity(r).then((e=>{n.set(r,new f(Promise.resolve(e)))}))),e))):n.set(r,new f(this.getIdentity(r))).identity}async getIdentity(e){await this.cache.purgeExpired().catch((e=>{console.warn("Error while clearing expired entries in S3ExpressIdentityCache: \n"+e)}));const t=await this.createSessionFn(e);if(!t.Credentials?.AccessKeyId||!t.Credentials?.SecretAccessKey)throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:t.Credentials.AccessKeyId,secretAccessKey:t.Credentials.SecretAccessKey,sessionToken:t.Credentials.SessionToken,expiration:t.Credentials.Expiration?new Date(t.Credentials.Expiration):void 0}}}g.REFRESH_WINDOW_MS=6e4;var p=r(1763);r(7434);const y="X-Amz-S3session-Token",w=y.toLowerCase();class m extends p.BB{async signWithCredentials(e,t,r){const n=v(t);return e.headers[w]=t.sessionToken,b(this,n),this.signRequest(e,r??{})}async presignWithCredentials(e,t,r){const n=v(t);return delete e.headers[w],e.headers[y]=t.sessionToken,e.query=e.query??{},e.query[y]=t.sessionToken,b(this,n),this.presign(e,r)}}function v(e){return{accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey,expiration:e.expiration}}function b(e,t){const r=setTimeout((()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")}),10),n=e.credentialProvider;e.credentialProvider=()=>(clearTimeout(r),e.credentialProvider=n,Promise.resolve(t))}const E={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},S=e=>({applyToStack:t=>{t.add((e=>(t,r)=>async s=>{if(r.endpointV2){const t=r.endpointV2,i="sigv4-s3express"===t.properties?.authSchemes?.[0]?.name;if(("S3Express"===t.properties?.backend||"Directory"===t.properties?.bucketType)&&(r.isS3ExpressBucket=!0),i){const t=s.input.Bucket;if(t){const i=await e.s3ExpressIdentityProvider.getS3ExpressIdentity(await e.credentials(),{Bucket:t});r.s3ExpressIdentity=i,n.Kd.isInstance(s.request)&&i.sessionToken&&(s.request.headers[w]=i.sessionToken)}}}return t(s)})(e),E)}}),C=(e,{session:t})=>{const[r,n]=t;return{...e,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,followRegionRedirects:e.followRegionRedirects??!1,s3ExpressIdentityProvider:e.s3ExpressIdentityProvider??new g((async e=>r().send(new n({Bucket:e,SessionMode:"ReadWrite"})))),bucketEndpoint:e.bucketEndpoint??!1}},A=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),$={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},T=e=>({applyToStack:t=>{t.addRelativeTo((e=>t=>async r=>{const s=await t(r),{response:i}=s;if(!n.cS.isInstance(i))return s;const{statusCode:o,body:a}=i;if(o<200||o>=300)return s;const c=await A(a,e),d=await(u=c,l=e,A(u,l).then((e=>l.utf8Encoder(e))));var u,l;if(0===c.length){const e=new Error("S3 aborted request");throw e.name="InternalError",e}return d&&d.match("<Error>")&&(i.statusCode=400),i.body=c,s})(e),$)}}),R={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"},x={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},k=e=>({applyToStack:t=>{t.add(function({bucketEndpoint:e}){return t=>async r=>{const{input:{Bucket:n}}=r;if(!e&&"string"==typeof n&&!("string"==typeof(s=n)&&0===s.indexOf("arn:")&&s.split(":").length>=6)&&n.indexOf("/")>=0){const e=new Error(`Bucket name shouldn't contain '/', received '${n}'`);throw e.name="InvalidBucketName",e}var s;return t({...r})}}(e),x),t.addRelativeTo(function(e){return(t,r)=>async n=>{if(e.bucketEndpoint){const e=r.endpointV2;if(e){const t=n.input.Bucket;if("string"==typeof t)try{const r=new URL(t);e.url=r}catch(e){const n=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${t} could not be parsed as URL.`;throw"NoOpLogger"===r.logger?.constructor?.name?console.warn(n):r.logger?.warn?.(n),e}}}return t(n)}}(e),R)}})},8582:(e,t,r)=>{r.d(t,{W:()=>s});var n=r(1614);class s{constructor(e){this.sigv4Signer=new n.rQ(e),this.signerOptions=e}async sign(e,t={}){if("*"===t.signingRegion){if("node"!==this.signerOptions.runtime)throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(e,t)}return this.sigv4Signer.sign(e,t)}async signWithCredentials(e,t,r={}){if("*"===r.signingRegion){if("node"!==this.signerOptions.runtime)throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().signWithCredentials(e,t,r)}return this.sigv4Signer.signWithCredentials(e,t,r)}async presign(e,t={}){if("*"===t.signingRegion){if("node"!==this.signerOptions.runtime)throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(e,t)}return this.sigv4Signer.presign(e,t)}async presignWithCredentials(e,t,r={}){if("*"===r.signingRegion)throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(e,t,r)}getSigv4aSigner(){if(!this.sigv4aSigner){let e=null;try{if(e=null,"function"!=typeof e)throw new Error}catch(e){throw e.message=`${e.message}\nPlease check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. \nYou must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. \nFor more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,e}this.sigv4aSigner=new e({...this.signerOptions,signingAlgorithm:1})}return this.sigv4aSigner}}},1945:(e,t,r)=>{r.d(t,{NC:()=>a,kv:()=>d});var n=r(4994),s=r(5901);function i(e=0){return new Promise(((t,r)=>{e&&setTimeout((()=>{const t=new Error(`Request did not complete within ${e} ms`);t.name="TimeoutError",r(t)}),e)}))}const o=Boolean("undefined"!=typeof Request&&"keepalive"in new Request("https://[::1]"));class a{static create(e){return"function"==typeof e?.handle?e:new a(e)}constructor(e){"function"==typeof e?this.configProvider=e().then((e=>e||{})):(this.config=e??{},this.configProvider=Promise.resolve(this.config))}destroy(){}async handle(e,{abortSignal:t}={}){this.config||(this.config=await this.configProvider);const r=this.config.requestTimeout,a=!0===this.config.keepAlive;if(t?.aborted){const e=new Error("Request aborted");return e.name="AbortError",Promise.reject(e)}let c=e.path;const d=(0,s.G)(e.query||{});d&&(c+=`?${d}`),e.fragment&&(c+=`#${e.fragment}`);let u="";null==e.username&&null==e.password||(u=`${e.username??""}:${e.password??""}@`);const{port:l,method:h}=e,f=`${e.protocol}//${u}${e.hostname}${l?`:${l}`:""}${c}`,g="GET"===h||"HEAD"===h?void 0:e.body,p={body:g,headers:new Headers(e.headers),method:h};g&&(p.duplex="half"),"undefined"!=typeof AbortController&&(p.signal=t),o&&(p.keepalive=a);const y=new Request(f,p),w=[fetch(y).then((e=>{const t=e.headers,r={};for(const e of t.entries())r[e[0]]=e[1];return null!=e.body?{response:new n.cS({headers:r,reason:e.statusText,statusCode:e.status,body:e.body})}:e.blob().then((t=>({response:new n.cS({headers:r,reason:e.statusText,statusCode:e.status,body:t})})))})),i(r)];return t&&w.push(new Promise(((e,r)=>{t.onabort=()=>{const e=new Error("Request aborted");e.name="AbortError",r(e)}}))),Promise.race(w)}updateHttpClientConfig(e,t){this.config=void 0,this.configProvider=this.configProvider.then((r=>(r[e]=t,r)))}httpHandlerConfigs(){return this.config??{}}}var c=r(8503);const d=e=>"function"==typeof Blob&&e instanceof Blob?async function(e){const t=await function(e){return new Promise(((t,r)=>{const n=new FileReader;n.onloadend=()=>{if(2!==n.readyState)return r(new Error("Reader aborted too early"));const e=n.result??"",s=e.indexOf(","),i=s>-1?s+1:e.length;t(e.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)}))}(e),r=(0,c.E)(t);return new Uint8Array(r)}(e):async function(e){const t=[],r=e.getReader();let n=!1,s=0;for(;!n;){const{done:e,value:i}=await r.read();i&&(t.push(i),s+=i.length),n=e}const i=new Uint8Array(s);let o=0;for(const e of t)i.set(e,o),o+=e.length;return i}(e)},3695:(e,t,r)=>{r.d(t,{m:()=>n});const n=e=>"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e)},2517:(e,t,r)=>{r.d(t,{ko:()=>h,rC:()=>d,rD:()=>f,Co:()=>g});const n=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,s=/(\d+\.){3}\d+/,i=/\.\./,o=(e,t,r)=>{const n=async()=>{const n=r[e]??r[t];return"function"==typeof n?n():n};return"credentialScope"===e||"CredentialScope"===t?async()=>{const e="function"==typeof r.credentials?await r.credentials():r.credentials;return e?.credentialScope??e?.CredentialScope}:"endpoint"===e||"endpoint"===t?async()=>{const e=await n();if(e&&"object"==typeof e){if("url"in e)return e.url.href;if("hostname"in e){const{protocol:t,hostname:r,port:n,path:s}=e;return`${t}//${r}${n?":"+n:""}${s}`}}return e}:n};var a=r(6624);const c=e=>"object"==typeof e?"url"in e?(0,a.D)(e.url):e:(0,a.D)(e),d=async(e,t,r,n)=>{if(!r.endpoint){const e=await(async e=>{})(r.serviceId);e&&(r.endpoint=()=>Promise.resolve(c(e)))}const s=await u(e,t,r);if("function"!=typeof r.endpointProvider)throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},u=async(e,t,r)=>{const a={},c=t?.getEndpointParameterInstructions?.()||{};for(const[t,n]of Object.entries(c))switch(n.type){case"staticContextParams":a[t]=n.value;break;case"contextParams":a[t]=e[n.name];break;case"clientContextParams":case"builtInParams":a[t]=await o(n.name,t,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(n))}return 0===Object.keys(c).length&&Object.assign(a,r),"s3"===String(r.serviceId).toLowerCase()&&await(async e=>{const t=e?.Bucket||"";if("string"==typeof e.Bucket&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),(e=>{const[t,r,n,,,s]=e.split(":"),i="arn"===t&&e.split(":").length>=6,o=Boolean(i&&r&&n&&s);if(i&&!o)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return o})(t)){if(!0===e.ForcePathStyle)throw new Error("Path-style addressing cannot be used with ARN buckets")}else r=t,(!n.test(r)||s.test(r)||i.test(r)||-1!==t.indexOf(".")&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);var r;return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e})(a),a};var l=r(7218);const h={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:r(8254).Ou.name},f=(e,t)=>({applyToStack:r=>{r.addRelativeTo((({config:e,instructions:t})=>(r,n)=>async s=>{const i=await d(s.input,{getEndpointParameterInstructions:()=>t},{...e},n);n.endpointV2=i,n.authSchemes=i.properties?.authSchemes;const o=n.authSchemes?.[0];if(o){n.signing_region=o.signingRegion,n.signing_service=o.signingName;const e=(0,l.u)(n),t=e?.selectedHttpAuthScheme?.httpAuthOption;t&&(t.signingProperties=Object.assign(t.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return r({...s})})({config:e,instructions:t}),h)}}),g=e=>{const t=e.tls??!0,{endpoint:r}=e,n=null!=r?async()=>c(await(0,l.t)(r)()):void 0,s=!!r;return{...e,endpoint:n,tls:t,isCustomEndpoint:s,useDualstackEndpoint:(0,l.t)(e.useDualstackEndpoint??!1),useFipsEndpoint:(0,l.t)(e.useFipsEndpoint??!1)}}},8254:(e,t,r)=>{r.d(t,{TM:()=>a,Ou:()=>o});const n=(e,t)=>r=>async n=>{const{response:s}=await r(n);try{return{response:s,output:await t(s,e)}}catch(e){if(Object.defineProperty(e,"$response",{value:s}),!("$metadata"in e)){const t="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";e.message+="\n  "+t,void 0!==e.$responseBodyText&&e.$response&&(e.$response.body=e.$responseBodyText)}throw e}},s=(e,t)=>(r,n)=>async s=>{const i=n.endpointV2?.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!i)throw new Error("No valid endpoint provider available.");const o=await t(s.input,{...e,endpoint:i});return r({...s,request:o})},i={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},o={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function a(e,t,r){return{applyToStack:a=>{a.add(n(e,r),i),a.add(s(e,t),o)}}}},4994:(e,t,r)=>{r.d(t,{Kd:()=>i,cS:()=>o,eS:()=>n,oJ:()=>a,jt:()=>s});const n=e=>{let t=e.httpHandler;return{setHttpHandler(e){t=e},httpHandler:()=>t,updateHttpClientConfig(e,r){t.updateHttpClientConfig(e,r)},httpHandlerConfigs:()=>t.httpHandlerConfigs()}},s=e=>({httpHandler:e.httpHandler()});r(3298);class i{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers}clone(){const e=new i({...this,headers:{...this.headers}});var t;return e.query&&(e.query=(t=e.query,Object.keys(t).reduce(((e,r)=>{const n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}}),{}))),e}}class o{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers}}function a(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}},5901:(e,t,r)=>{r.d(t,{G:()=>s});var n=r(2531);function s(e){const t=[];for(let r of Object.keys(e).sort()){const s=e[r];if(r=(0,n.o)(r),Array.isArray(s))for(let e=0,i=s.length;e<i;e++)t.push(`${r}=${(0,n.o)(s[e])}`);else{let e=r;(s||"string"==typeof s)&&(e+=`=${(0,n.o)(s)}`),t.push(e)}}return t.join("&")}},1763:(e,t,r)=>{r.d(t,{BB:()=>q});var n=r(8004),s=r(7218),i=r(2531),o=r(4424);const a="X-Amz-Date",c="X-Amz-Signature",d="X-Amz-Security-Token",u="authorization",l=a.toLowerCase(),h=[u,l,"date"],f=c.toLowerCase(),g="x-amz-content-sha256",p=d.toLowerCase(),y={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},w=/^proxy-/,m=/^sec-/,v="AWS4-HMAC-SHA256",b="AWS4-HMAC-SHA256-PAYLOAD",E="aws4_request",S={},C=[],A=(e,t,r)=>`${e}/${t}/${r}/${E}`,$=(e,t,r)=>{const n=new e(t);return n.update((0,o.F)(r)),n.digest()},T=({headers:e},t,r)=>{const n={};for(const s of Object.keys(e).sort()){if(null==e[s])continue;const i=s.toLowerCase();(i in y||t?.has(i)||w.test(i)||m.test(i))&&(!r||r&&!r.has(i))||(n[i]=e[s].trim().replace(/\s+/g," "))}return n};var R=r(3695);const x=async({headers:e,body:t},r)=>{for(const t of Object.keys(e))if(t.toLowerCase()===g)return e[t];if(null==t)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if("string"==typeof t||ArrayBuffer.isView(t)||(0,R.m)(t)){const e=new r;return e.update((0,o.F)(t)),(0,n.n)(await e.digest())}return"UNSIGNED-PAYLOAD"};var k,I=r(2637);class P{format(e){const t=[];for(const r of Object.keys(e)){const n=(0,I.a)(r);t.push(Uint8Array.from([n.byteLength]),n,this.formatHeaderValue(e[r]))}const r=new Uint8Array(t.reduce(((e,t)=>e+t.byteLength),0));let n=0;for(const e of t)r.set(e,n),n+=e.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":const r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":const s=new Uint8Array(9);return s[0]=5,s.set(e.value.bytes,1),s;case"binary":const i=new DataView(new ArrayBuffer(3+e.value.byteLength));i.setUint8(0,6),i.setUint16(1,e.value.byteLength,!1);const o=new Uint8Array(i.buffer);return o.set(e.value,3),o;case"string":const a=(0,I.a)(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);const d=new Uint8Array(c.buffer);return d.set(a,3),d;case"timestamp":const u=new Uint8Array(9);return u[0]=8,u.set(_.fromNumber(e.value.valueOf()).bytes,1),u;case"uuid":if(!M.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const l=new Uint8Array(17);return l[0]=9,l.set((0,n.a)(e.value.replace(/\-/g,"")),1),l}}}!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(k||(k={}));const M=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class _{constructor(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>0x8000000000000000||e<-0x8000000000000000)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const t=new Uint8Array(8);for(let r=7,n=Math.abs(Math.round(e));r>-1&&n>0;r--,n/=256)t[r]=n;return e<0&&D(t),new _(t)}valueOf(){const e=this.bytes.slice(0),t=128&e[0];return t&&D(e),parseInt((0,n.n)(e),16)*(t?-1:1)}toString(){return String(this.valueOf())}}function D(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,0===e[t]);t--);}const O=({headers:e,query:t,...r})=>({...r,headers:{...e},query:t?N(t):void 0}),N=e=>Object.keys(e).reduce(((t,r)=>{const n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}}),{}),U=e=>{e="function"==typeof e.clone?e.clone():O(e);for(const t of Object.keys(e.headers))h.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e};class q{constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:i,uriEscapePath:o=!0}){this.headerFormatter=new P,this.service=n,this.sha256=i,this.uriEscapePath=o,this.applyChecksum="boolean"!=typeof e||e,this.regionProvider=(0,s.t)(r),this.credentialProvider=(0,s.t)(t)}async presign(e,t={}){const{signingDate:r=new Date,expiresIn:n=3600,unsignableHeaders:s,unhoistableHeaders:i,signableHeaders:o,signingRegion:u,signingService:l}=t,h=await this.credentialProvider();this.validateResolvedCredentials(h);const f=u??await this.regionProvider(),{longDate:g,shortDate:p}=j(r);if(n>604800)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const y=A(p,f,l??this.service),w=((e,t={})=>{const{headers:r,query:n={}}="function"==typeof e.clone?e.clone():O(e);for(const e of Object.keys(r)){const s=e.toLowerCase();"x-amz-"!==s.slice(0,6)||t.unhoistableHeaders?.has(s)||(n[e]=r[e],delete r[e])}return{...e,headers:r,query:n}})(U(e),{unhoistableHeaders:i});h.sessionToken&&(w.query[d]=h.sessionToken),w.query["X-Amz-Algorithm"]=v,w.query["X-Amz-Credential"]=`${h.accessKeyId}/${y}`,w.query[a]=g,w.query["X-Amz-Expires"]=n.toString(10);const m=T(w,s,o);return w.query["X-Amz-SignedHeaders"]=L(m),w.query[c]=await this.getSignature(g,y,this.getSigningKey(h,f,p,l),this.createCanonicalRequest(w,m,await x(e,this.sha256))),w}async sign(e,t){return"string"==typeof e?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:r=new Date,priorSignature:s,signingRegion:i,signingService:o}){const a=i??await this.regionProvider(),{shortDate:c,longDate:d}=j(r),u=A(c,a,o??this.service),l=await x({headers:{},body:t},this.sha256),h=new this.sha256;h.update(e);const f=(0,n.n)(await h.digest()),g=[b,d,u,s,f,l].join("\n");return this.signString(g,{signingDate:r,signingRegion:a,signingService:o})}async signMessage(e,{signingDate:t=new Date,signingRegion:r,signingService:n}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:r,signingService:n,priorSignature:e.priorSignature}).then((t=>({message:e.message,signature:t})))}async signString(e,{signingDate:t=new Date,signingRegion:r,signingService:s}={}){const i=await this.credentialProvider();this.validateResolvedCredentials(i);const a=r??await this.regionProvider(),{shortDate:c}=j(t),d=new this.sha256(await this.getSigningKey(i,a,c,s));return d.update((0,o.F)(e)),(0,n.n)(await d.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:r,unsignableHeaders:n,signingRegion:s,signingService:i}={}){const o=await this.credentialProvider();this.validateResolvedCredentials(o);const a=s??await this.regionProvider(),c=U(e),{longDate:d,shortDate:h}=j(t),f=A(h,a,i??this.service);c.headers[l]=d,o.sessionToken&&(c.headers[p]=o.sessionToken);const y=await x(c,this.sha256);!((e,t)=>{e=e.toLowerCase();for(const r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1})(g,c.headers)&&this.applyChecksum&&(c.headers[g]=y);const w=T(c,n,r),m=await this.getSignature(d,f,this.getSigningKey(o,a,h,i),this.createCanonicalRequest(c,w,y));return c.headers[u]=`${v} Credential=${o.accessKeyId}/${f}, SignedHeaders=${L(w)}, Signature=${m}`,c}createCanonicalRequest(e,t,r){const n=Object.keys(t).sort();return`${e.method}\n${this.getCanonicalPath(e)}\n${(({query:e={}})=>{const t=[],r={};for(const n of Object.keys(e).sort()){if(n.toLowerCase()===f)continue;t.push(n);const s=e[n];"string"==typeof s?r[n]=`${(0,i.o)(n)}=${(0,i.o)(s)}`:Array.isArray(s)&&(r[n]=s.slice(0).reduce(((e,t)=>e.concat([`${(0,i.o)(n)}=${(0,i.o)(t)}`])),[]).sort().join("&"))}return t.map((e=>r[e])).filter((e=>e)).join("&")})(e)}\n${n.map((e=>`${e}:${t[e]}`)).join("\n")}\n\n${n.join(";")}\n${r}`}async createStringToSign(e,t,r){const s=new this.sha256;s.update((0,o.F)(r));const i=await s.digest();return`${v}\n${e}\n${t}\n${(0,n.n)(i)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){const t=[];for(const r of e.split("/"))0!==r?.length&&"."!==r&&(".."===r?t.pop():t.push(r));const r=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return(0,i.o)(r).replace(/%2F/g,"/")}return e}async getSignature(e,t,r,s){const i=await this.createStringToSign(e,t,s),a=new this.sha256(await r);return a.update((0,o.F)(i)),(0,n.n)(await a.digest())}getSigningKey(e,t,r,s){return(async(e,t,r,s,i)=>{const o=await $(e,t.secretAccessKey,t.accessKeyId),a=`${r}:${s}:${i}:${(0,n.n)(o)}:${t.sessionToken}`;if(a in S)return S[a];for(C.push(a);C.length>50;)delete S[C.shift()];let c=`AWS4${t.secretAccessKey}`;for(const t of[r,s,i,E])c=await $(e,c,t);return S[a]=c})(this.sha256,e,r,t,s||this.service)}validateResolvedCredentials(e){if("object"!=typeof e||"string"!=typeof e.accessKeyId||"string"!=typeof e.secretAccessKey)throw new Error("Resolved credential object is not valid")}}const j=e=>{const t=(r=e,(e=>"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e)(r).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");var r;return{longDate:t,shortDate:t.slice(0,8)}},L=e=>Object.keys(e).sort().join(";")},9311:(e,t,r)=>{r.d(t,{Kj:()=>d,uB:()=>f,N4:()=>n,$H:()=>p,TJ:()=>ee,Px:()=>l,J1:()=>y,JV:()=>N,Mw:()=>te,Y0:()=>C,Xk:()=>A,lK:()=>$,tN:()=>T,Yd:()=>le,xA:()=>de,rm:()=>he,lT:()=>se,Tj:()=>ge,yG:()=>w,t_:()=>q,xE:()=>H,uv:()=>ue,un:()=>be,yI:()=>Ee,xW:()=>I,V0:()=>k,jr:()=>re});class n{trace(){}debug(){}info(){}warn(){}error(){}}const s=(e,t)=>{const r=[];if(e&&r.push(e),t)for(const e of t)r.push(e);return r},i=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,o=()=>{let e=[],t=[],r=!1;const n=new Set,d=r=>(e.forEach((e=>{r.add(e.middleware,{...e})})),t.forEach((e=>{r.addRelativeTo(e.middleware,{...e})})),r.identifyOnResolve?.(h.identifyOnResolve()),r),u=e=>{const t=[];return e.before.forEach((e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...u(e))})),t.push(e),e.after.reverse().forEach((e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...u(e))})),t},l=(r=!1)=>{const n=[],o=[],d={};var l;return e.forEach((e=>{const t={...e,before:[],after:[]};for(const e of s(t.name,t.aliases))d[e]=t;n.push(t)})),t.forEach((e=>{const t={...e,before:[],after:[]};for(const e of s(t.name,t.aliases))d[e]=t;o.push(t)})),o.forEach((e=>{if(e.toMiddleware){const t=d[e.toMiddleware];if(void 0===t){if(r)return;throw new Error(`${e.toMiddleware} is not found when adding ${i(e.name,e.aliases)} middleware ${e.relation} ${e.toMiddleware}`)}"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}})),(l=n,l.sort(((e,t)=>a[t.step]-a[e.step]||c[t.priority||"normal"]-c[e.priority||"normal"]))).map(u).reduce(((e,t)=>(e.push(...t),e)),[])},h={add:(t,r={})=>{const{name:o,override:a,aliases:c}=r,d={step:"initialize",priority:"normal",middleware:t,...r},u=s(o,c);if(u.length>0){if(u.some((e=>n.has(e)))){if(!a)throw new Error(`Duplicate middleware name '${i(o,c)}'`);for(const t of u){const r=e.findIndex((e=>e.name===t||e.aliases?.some((e=>e===t))));if(-1===r)continue;const n=e[r];if(n.step!==d.step||d.priority!==n.priority)throw new Error(`"${i(n.name,n.aliases)}" middleware with ${n.priority} priority in ${n.step} step cannot be overridden by "${i(o,c)}" middleware with ${d.priority} priority in ${d.step} step.`);e.splice(r,1)}}for(const e of u)n.add(e)}e.push(d)},addRelativeTo:(e,r)=>{const{name:o,override:a,aliases:c}=r,d={middleware:e,...r},u=s(o,c);if(u.length>0){if(u.some((e=>n.has(e)))){if(!a)throw new Error(`Duplicate middleware name '${i(o,c)}'`);for(const e of u){const r=t.findIndex((t=>t.name===e||t.aliases?.some((t=>t===e))));if(-1===r)continue;const n=t[r];if(n.toMiddleware!==d.toMiddleware||n.relation!==d.relation)throw new Error(`"${i(n.name,n.aliases)}" middleware ${n.relation} "${n.toMiddleware}" middleware cannot be overridden by "${i(o,c)}" middleware ${d.relation} "${d.toMiddleware}" middleware.`);t.splice(r,1)}}for(const e of u)n.add(e)}t.push(d)},clone:()=>d(o()),use:e=>{e.applyToStack(h)},remove:r=>"string"==typeof r?(r=>{let i=!1;const o=e=>{const t=s(e.name,e.aliases);if(t.includes(r)){i=!0;for(const e of t)n.delete(e);return!1}return!0};return e=e.filter(o),t=t.filter(o),i})(r):(r=>{let i=!1;const o=e=>{if(e.middleware===r){i=!0;for(const t of s(e.name,e.aliases))n.delete(t);return!1}return!0};return e=e.filter(o),t=t.filter(o),i})(r),removeByTag:r=>{let i=!1;const o=e=>{const{tags:t,name:o,aliases:a}=e;if(t&&t.includes(r)){const e=s(o,a);for(const t of e)n.delete(t);return i=!0,!1}return!0};return e=e.filter(o),t=t.filter(o),i},concat:e=>{const t=d(o());return t.use(e),t.identifyOnResolve(r||t.identifyOnResolve()||(e.identifyOnResolve?.()??!1)),t},applyToStack:d,identify:()=>l(!0).map((e=>{const t=e.step??e.relation+" "+e.toMiddleware;return i(e.name,e.aliases)+" - "+t})),identifyOnResolve:e=>("boolean"==typeof e&&(r=e),r),resolve:(e,t)=>{for(const r of l().map((e=>e.middleware)).reverse())e=r(e,t);return r&&console.log(h.identify()),e}};return h},a={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},c={high:3,normal:2,low:1};class d{constructor(e){this.middlewareStack=o(),this.config=e}send(e,t,r){const n="function"!=typeof t?t:void 0,s="function"==typeof t?t:r,i=e.resolveMiddleware(this.middlewareStack,this.config,n);if(!s)return i(e).then((e=>e.output));i(e).then((e=>s(null,e.output)),(e=>s(e))).catch((()=>{}))}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}var u=r(7967);const l=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return u.Mu.mutate(e);if(!e)return u.Mu.mutate(new Uint8Array);const r=t.streamCollector(e);return u.Mu.mutate(await r)};var h=r(3298);class f{constructor(){this.middlewareStack=o()}static classBuilder(){return new g}resolveMiddlewareWithContext(e,t,r,{middlewareFn:n,clientName:s,commandName:i,inputFilterSensitiveLog:o,outputFilterSensitiveLog:a,smithyContext:c,additionalContext:d,CommandCtor:u}){for(const s of n.bind(this)(u,e,t,r))this.middlewareStack.use(s);const l=e.concat(this.middlewareStack),{logger:f}=t,g={logger:f,clientName:s,commandName:i,inputFilterSensitiveLog:o,outputFilterSensitiveLog:a,[h.Vf]:{...c},...d},{requestHandler:p}=t;return l.resolve((e=>p.handle(e.request,r||{})),g)}}class g{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t,r={}){return this._smithyContext={service:e,operation:t,...r},this}c(e={}){return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(e=(e=>e),t=(e=>e)){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}build(){const e=this;let t;return t=class extends f{static getEndpointParameterInstructions(){return e._ep}constructor(...[t]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=t??{},e._init(this)}resolveMiddleware(r,n,s){return this.resolveMiddlewareWithContext(r,n,s,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}}const p="***SensitiveInformation***",y=(e,t)=>{for(const r of Object.keys(e)){const n=e[r],s=async function(e,t,r){const s=new n(e);if("function"==typeof t)this.send(s,t);else{if("function"!=typeof r)return this.send(s,t);if("object"!=typeof t)throw new Error("Expected http options but got "+typeof t);this.send(s,t||{},r)}},i=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[i]=s}},w=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},m=Math.ceil(2**127*(2-2**-23)),v=e=>{const t=(e=>{if(null!=e){if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&_.warn(M(`Expected number but observed string: ${e}`)),t}if("number"==typeof e)return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}})(e);if(void 0!==t&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>m)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},b=e=>{if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},E=(e,t)=>{const r=b(e);if(void 0!==r&&S(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},S=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},C=(e,t)=>{if(null==e){if(t)throw new TypeError(`Expected a non-null value for ${t}`);throw new TypeError("Expected a non-null value")}return e},A=e=>{if(null==e)return;if("object"==typeof e&&!Array.isArray(e))return e;const t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},$=e=>{if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return _.warn(M(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},T=e=>{if(null==e)return;const t=A(e),r=Object.entries(t).filter((([,e])=>null!=e)).map((([e])=>e));if(0===r.length)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},R=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,x=e=>{const t=e.match(R);if(null===t||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},k=e=>b("string"==typeof e?x(e):e),I=e=>(e=>E(e,32))("string"==typeof e?x(e):e),P=e=>(e=>E(e,16))("string"==typeof e?x(e):e),M=e=>String(new TypeError(e).stack||e).split("\n").slice(0,5).filter((e=>!e.includes("stackTraceWarning"))).join("\n"),_={warn:console.warn},D=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function N(e){const t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),i=e.getUTCHours(),o=e.getUTCMinutes(),a=e.getUTCSeconds(),c=s<10?`0${s}`:`${s}`,d=i<10?`0${i}`:`${i}`,u=o<10?`0${o}`:`${o}`,l=a<10?`0${a}`:`${a}`;return`${D[n]}, ${c} ${O[r]} ${t} ${d}:${u}:${l} GMT`}const U=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),q=e=>{if(null==e)return;if("string"!=typeof e)throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=U.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[r,n,s,i,o,a,c,d,u]=t,l=P(Q(n)),h=X(s,"month",1,12),f=X(i,"day",1,31),g=B(l,h,f,{hours:o,minutes:a,seconds:c,fractionalMilliseconds:d});return"Z"!=u.toUpperCase()&&g.setTime(g.getTime()-Z(u)),g},j=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),L=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),F=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),H=e=>{if(null==e)return;if("string"!=typeof e)throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=j.exec(e);if(t){const[e,r,n,s,i,o,a,c]=t;return B(P(Q(s)),W(n),X(r,"day",1,31),{hours:i,minutes:o,seconds:a,fractionalMilliseconds:c})}if(t=L.exec(e),t){const[e,r,n,s,i,o,a,c]=t;return V(B(z(s),W(n),X(r,"day",1,31),{hours:i,minutes:o,seconds:a,fractionalMilliseconds:c}))}if(t=F.exec(e),t){const[e,r,n,s,i,o,a,c]=t;return B(P(Q(c)),W(r),X(n.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:o,fractionalMilliseconds:a})}throw new TypeError("Invalid RFC-7231 date-time value")},B=(e,t,r,n)=>{const s=t-1;return G(e,s,r),new Date(Date.UTC(e,s,r,X(n.hours,"hour",0,23),X(n.minutes,"minute",0,59),X(n.seconds,"seconds",0,60),Y(n.fractionalMilliseconds)))},z=e=>{const t=(new Date).getUTCFullYear(),r=100*Math.floor(t/100)+P(Q(e));return r<t?r+100:r},V=e=>e.getTime()-(new Date).getTime()>15768e8?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,W=e=>{const t=O.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},K=[31,28,31,30,31,30,31,31,30,31,30,31],G=(e,t,r)=>{let n=K[t];if(1===t&&J(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${O[t]} in ${e}: ${r}`)},J=e=>e%4==0&&(e%100!=0||e%400==0),X=(e,t,r,n)=>{const s=(e=>(e=>E(e,8))("string"==typeof e?x(e):e))(Q(e));if(s<r||s>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return s},Y=e=>null==e?0:1e3*(e=>v("string"==typeof e?x(e):e))("0."+e),Z=e=>{const t=e[0];let r=1;if("+"==t)r=1;else{if("-"!=t)throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);r=-1}return r*(60*Number(e.substring(1,3))+Number(e.substring(4,6)))*60*1e3},Q=e=>{let t=0;for(;t<e.length-1&&"0"===e.charAt(t);)t++;return 0===t?e:e.slice(t)};class ee extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,ee.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}}const te=(e,t={})=>{Object.entries(t).filter((([,e])=>void 0!==e)).forEach((([t,r])=>{null!=e[t]&&""!==e[t]||(e[t]=r)}));const r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},re=e=>({output:t,parsedBody:r,errorCode:n})=>{(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{const s=ne(e),i=s.httpStatusCode?s.httpStatusCode+"":void 0,o=new r({name:t?.code||t?.Code||n||i||"UnknownError",$fault:"client",$metadata:s});throw te(o,t)})({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},ne=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),se=e=>{switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},ie=e=>{const t=[];for(const r in h.dB){const n=h.dB[r];void 0!==e[n]&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(e){this._checksumAlgorithms.push(e)},checksumAlgorithms(){return this._checksumAlgorithms}}},oe=e=>{const t={};return e.checksumAlgorithms().forEach((e=>{t[e.algorithmId()]=e.checksumConstructor()})),t},ae=e=>{let t=e.retryStrategy;return{setRetryStrategy(e){t=e},retryStrategy:()=>t}},ce=e=>{const t={};return t.retryStrategy=e.retryStrategy(),t},de=e=>({...ie(e),...ae(e)}),ue=e=>({...oe(e),...ce(e)}),le=e=>Array.isArray(e)?e:[e],he=e=>{const t="#text";for(const r in e)e.hasOwnProperty(r)&&void 0!==e[r][t]?e[r]=e[r][t]:"object"==typeof e[r]&&null!==e[r]&&(e[r]=he(e[r]));return e},fe=function(){const e=Object.getPrototypeOf(this).constructor,t=new(Function.bind.apply(String,[null,...arguments]));return Object.setPrototypeOf(t,e.prototype),t};function ge(e,t,r){let n,s,i;if(void 0===t&&void 0===r)n={},i=e;else{if(n=e,"function"==typeof t)return s=t,i=r,pe(n,s,i);i=t}for(const e of Object.keys(i))Array.isArray(i[e])?ye(n,null,i,e):n[e]=i[e];return n}fe.prototype=Object.create(String.prototype,{constructor:{value:fe,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(fe,String);const pe=(e,t,r)=>ge(e,Object.entries(r).reduce(((e,[r,n])=>(Array.isArray(n)?e[r]=n:e[r]="function"==typeof n?[t,n()]:[t,n],e)),{})),ye=(e,t,r,n)=>{if(null!==t){let s=r[n];"function"==typeof s&&(s=[,s]);const[i=we,o=me,a=n]=s;return void(("function"==typeof i&&i(t[a])||"function"!=typeof i&&i)&&(e[n]=o(t[a])))}let[s,i]=r[n];if("function"==typeof i){let t;const r=void 0===s&&null!=(t=i()),o="function"==typeof s&&!!s(void 0)||"function"!=typeof s&&!!s;r?e[n]=t:o&&(e[n]=i())}else{const t=void 0===s&&null!=i,r="function"==typeof s&&!!s(i)||"function"!=typeof s&&!!s;(t||r)&&(e[n]=i)}},we=e=>null!=e,me=e=>e;function ve(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}const be=(e,t,r,n,s,i)=>{if(null==t||void 0===t[r])throw new Error("No value provided for input HTTP label: "+r+".");{const t=n();if(t.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(s,i?t.split("/").map((e=>ve(e))).join("/"):ve(t))}return e},Ee=e=>e.toISOString().replace(".000Z","Z")},3298:(e,t,r)=>{var n,s,i,o,a;r.d(t,{dB:()=>o,Ue:()=>i,Vf:()=>c}),function(e){e.HEADER="header",e.QUERY="query"}(n||(n={})),function(e){e.HEADER="header",e.QUERY="query"}(s||(s={})),function(e){e.HTTP="http",e.HTTPS="https"}(i||(i={})),function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"}(o||(o={})),function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"}(a||(a={}));const c="__smithy_context";var d,u;!function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"}(d||(d={})),function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"}(u||(u={}))},6624:(e,t,r)=>{r.d(t,{D:()=>n});const n=e=>{if("string"==typeof e)return n(new URL(e));const{hostname:t,pathname:r,port:s,protocol:i,search:o}=e;let a;return o&&(a=function(e){const t={};if(e=e.replace(/^\?/,""))for(const r of e.split("&")){let[e,n=null]=r.split("=");e=decodeURIComponent(e),n&&(n=decodeURIComponent(n)),e in t?Array.isArray(t[e])?t[e].push(n):t[e]=[t[e],n]:t[e]=n}return t}(o)),{hostname:t,port:s?parseInt(s):void 0,protocol:i,path:r,query:a}}},8503:(e,t,r)=>{r.d(t,{E:()=>c,n:()=>u});const n={},s=new Array(64);for(let e=0,t="A".charCodeAt(0),r="Z".charCodeAt(0);e+t<=r;e++){const r=String.fromCharCode(e+t);n[r]=e,s[e]=r}for(let e=0,t="a".charCodeAt(0),r="z".charCodeAt(0);e+t<=r;e++){const r=String.fromCharCode(e+t),i=e+26;n[r]=i,s[i]=r}for(let e=0;e<10;e++){n[e.toString(10)]=e+52;const t=e.toString(10),r=e+52;n[t]=r,s[r]=t}n["+"]=62,s[62]="+",n["/"]=63,s[63]="/";const i=6,o=8,a=63,c=e=>{let t=e.length/4*3;"=="===e.slice(-2)?t-=2:"="===e.slice(-1)&&t--;const r=new ArrayBuffer(t),s=new DataView(r);for(let t=0;t<e.length;t+=4){let r=0,a=0;for(let s=t,o=t+3;s<=o;s++)if("="!==e[s]){if(!(e[s]in n))throw new TypeError(`Invalid character ${e[s]} in base64 string.`);r|=n[e[s]]<<(o-s)*i,a+=i}else r>>=i;const c=t/4*3;r>>=a%o;const d=Math.floor(a/o);for(let e=0;e<d;e++){const t=(d-e-1)*o;s.setUint8(c+e,(r&255<<t)>>t)}}return new Uint8Array(r)};var d=r(2637);function u(e){let t;t="string"==typeof e?(0,d.a)(e):e;const r="object"==typeof t&&"number"==typeof t.length,n="object"==typeof t&&"number"==typeof t.byteOffset&&"number"==typeof t.byteLength;if(!r&&!n)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let c="";for(let e=0;e<t.length;e+=3){let r=0,n=0;for(let s=e,i=Math.min(e+3,t.length);s<i;s++)r|=t[s]<<(i-s-1)*o,n+=o;const d=Math.ceil(n/i);r<<=d*i-n;for(let e=1;e<=d;e++){const t=(d-e)*i;c+=s[(r&a<<t)>>t]}c+="==".slice(0,4-d)}return c}},7434:(e,t,r)=>{r.d(t,{cV:()=>s,Qm:()=>n});const n=(e,t,r)=>{if(t in e){if("true"===e[t])return!0;if("false"===e[t])return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}};var s;!function(e){e.ENV="env",e.CONFIG="shared config entry"}(s||(s={}))},8004:(e,t,r)=>{r.d(t,{a:()=>i,n:()=>o});const n={},s={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),n[e]=t,s[t]=e}function i(e){if(e.length%2!=0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){const n=e.slice(r,r+2).toLowerCase();if(!(n in s))throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`);t[r/2]=s[n]}return t}function o(e){let t="";for(let r=0;r<e.byteLength;r++)t+=n[e[r]];return t}},7218:(e,t,r)=>{r.d(t,{u:()=>s,t:()=>i});var n=r(3298);const s=e=>e[n.Vf]||(e[n.Vf]={}),i=e=>{if("function"==typeof e)return e;const t=Promise.resolve(e);return()=>t}},7967:(e,t,r)=>{r.d(t,{Mu:()=>o,Bk:()=>a,c9:()=>l});var n=r(8503),s=r(5792),i=r(2637);class o extends Uint8Array{static fromString(e,t="utf-8"){if("string"==typeof e)return function(e,t){return"base64"===t?o.mutate((0,n.E)(e)):o.mutate((0,i.a)(e))}(e,t);throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(e){return Object.setPrototypeOf(e,o.prototype),e}transformToString(e="utf-8"){return function(e,t="utf-8"){return"base64"===t?(0,n.n)(e):(0,s.P)(e)}(this,e)}}const a=(e,t)=>{const{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:i,streamHasher:o}=t,a=void 0!==r&&void 0!==n&&void 0!==s&&void 0!==i&&void 0!==o,c=a?o(s,e):void 0,d=e.getReader();return new ReadableStream({async pull(e){const{value:t,done:s}=await d.read();if(s){if(e.enqueue("0\r\n"),a){const t=r(await c);e.enqueue(`${i}:${t}\r\n`),e.enqueue("\r\n")}e.close()}else e.enqueue(`${(n(t)||0).toString(16)}\r\n${t}\r\n`)}})};var c=r(1945),d=r(8004);const u="The stream has already been transformed.",l=e=>{if(!h(e)&&!f(e))throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${e?.__proto__?.constructor?.name||e}`);let t=!1;const r=async()=>{if(t)throw new Error(u);return t=!0,await(0,c.kv)(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async e=>{const t=await r();if("base64"===e)return(0,n.n)(t);if("hex"===e)return(0,d.n)(t);if(void 0===e||"utf8"===e||"utf-8"===e)return(0,s.P)(t);if("function"==typeof TextDecoder)return new TextDecoder(e).decode(t);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(u);if(t=!0,h(e))return(e=>{if("function"!=typeof e.stream)throw new Error("Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.\nIf you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body");return e.stream()})(e);if(f(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})},h=e=>"function"==typeof Blob&&e instanceof Blob,f=e=>"function"==typeof ReadableStream&&e instanceof ReadableStream},2531:(e,t,r)=>{r.d(t,{o:()=>n});const n=e=>encodeURIComponent(e).replace(/[!'()*]/g,s),s=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`},2637:(e,t,r)=>{r.d(t,{a:()=>n});const n=e=>(new TextEncoder).encode(e)},4424:(e,t,r)=>{r.d(t,{F:()=>s});var n=r(2637);const s=e=>"string"==typeof e?(0,n.a)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)},5792:(e,t,r)=>{r.d(t,{P:()=>n});const n=e=>{if("string"==typeof e)return e;if("object"!=typeof e||"number"!=typeof e.byteOffset||"number"!=typeof e.byteLength)throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)}}}]);