---

name: measurement_angular_velocity
version: 2023
system_type: standard
category: measurement
controlled: no
distribution: A
experimental: false
description: |
  Three dimensional angular velocity relative to and expressed in a user-defined reference frame.

fields:
- name: header
  type: type_header
  description: >
    Standard ASPN measurement header.
- name: time_of_validity
  type: type_timestamp
  description: >
    Time at which the measurement is considered to be valid.

- name: reference_frame
  enum:
  - ECI: |
      Angular velocity with respect to earth-centered inertial frame, expressed in an earth-centered
      inertial frame. See also ECi coordinate frame definition for x, y, and z definitions.
  - ECEF: |
      Angular velocity with respect to earth-fixed frame expressed in earth-centered, earth-fixed
      (ECEF) frame. See also ECEF coordinate frame definition for x, y, and z definitions.
  - NED: |
      Angular velocity with respect to earth-fixed frame expressed in the North-East-Down (NED),
      local level frame. See also NED coordinate frame definition for N, E, and D definitions.
  - SENSOR: |
      Angular velocity with respect to an inertial frame expressed in sensor coordinate frame.
      Sensor coordinate frame is defined in sensor metadataHeader.
  length: 8
  description: >
    Defines measurement reference.

- name: IMU_type
  enum:
  - INTEGRATED: |
      delta rotation measurements. Angular rate integrated over last measurement period expressed in
      radians. Time of validity is the end of the integration period. Integration period is from the
      previous measurement to the current measurement.
  - SAMPLED: |
      sampled rotation rates. Angular rate is sampled and expressed in rad/s.
  length: 4
  description: IMU type

- name: meas
  type: float64[3]
  units: various
  description: Angular velocity in 3 axes per enumerated definition.

- name: covariance
  type: float64[3, 3]
  units: various
  description: Measurement error covariance.

- name: error_model
  enum:
  - NONE: No additional error model provided (num_error_model_params = 0).
  length: 32
  description: >
    Defines an optional error model for other than zero-mean, additive, white Gaussian noise (AWGN).

- name: num_error_model_params
  type: uint16
  description: >
    Number of parameters required for the error model chosen.

- name: error_model_params
  type: float64[num_error_model_params]
  units: various
  description: Error model parameters that characterize the optional error model.

- name: num_integrity
  type: uint8
  description: >
    Number of integrity values.

- name: integrity
  type: type_integrity[num_integrity]
  description: >
    Measurement integrity.  Includes the integrity method used and an integrity value (which is to
    be interpreted based upon the integrity method).  The intent of allowing num_integrity > 1 is to
    report multiple integrity values based on multiple integrity methods.
