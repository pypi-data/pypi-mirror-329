[tool.runbot]
coverage = false
include-current-project = true
modules = ["labadis_test", "labadis_crm_test"]

[[tool.runbot.log-filters]]
regex = ".*global-regex-warning-1.*"

[[tool.runbot.log-filters]]
name = "global-regex-warning-2"
min-match = 1 # default can be false
max-match = 1 # default can be false
regex = ".*global-regex-warning-2.*"


[[tool.runbot.step]]
# Warmup step
name = "Warmup"
modules = ["labadis_config"]
action = "install"
log-filters = [".*Post install test regex-warnings.*"]

[[tool.runbot.step]]
# Actual run step
name = "Do tests"
coverage = true
test-tags = [
    "+at-install",
    "-post-install"
]

[[tool.runbot.step.log-filters]]
name = "global-regex-warning-2"
min-match = 1 # default can be false
max-match = 1 # default can be false
regex = ".*global-regex-warning-2.*"

[[tool.runbot.step]]
# post test step, do post_install
name = "Post install test"
coverage = true
modules = ["labadis_crm_test"]
test-tags = [
    "-at-install",
    "+post-install"
]
log-filters = [{name="ddd", min-match=2, regex=".*Post install test regex-warnings.*"}]