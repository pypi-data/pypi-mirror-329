"use strict";(self.webpackChunk_datalayer_ui=self.webpackChunk_datalayer_ui||[]).push([[9521],{9521:(e,n,t)=>{t.d(n,{P:()=>V});var r=t(16909),o=t(34441),l=t(46830);const i="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;var c=t(10866),u=t(60066);const a=!0;function s(e){if(!e.defaultPrevented)for(const n of Object.values(d).reverse())if(n(e)===a||e.defaultPrevented)break}const d={};let f=0;var v=t(83654),p=t(71768),m=t(61992);const h=({overlayRef:e,returnFocusRef:n,initialFocusRef:t,onEscape:o,ignoreClickRefs:l,onClickOutside:i,preventFocusOnOpen:c})=>{const u=(0,m.i)(e);return function({initialFocusRef:e,returnFocusRef:n,containerRef:t,preventFocusOnOpen:o}){(0,r.useEffect)((()=>{if(o)return;const r=n.current;if(e&&e.current)e.current.focus();else if(t.current){const e=(0,v.hT)(t.current).next().value;null==e||e.focus()}return function(){null==r||r.focus()}}),[e,n,t,o])}({containerRef:u,returnFocusRef:n,initialFocusRef:t,preventFocusOnOpen:c}),(({containerRef:e,ignoreClickRefs:n,onClickOutside:t})=>{const o=(0,r.useMemo)((()=>f++),[]),l=(0,r.useCallback)((r=>{var o;return r instanceof MouseEvent&&r.button>0||null!==(o=e.current)&&void 0!==o&&o.contains(r.target)||n&&n.some((({current:e})=>null==e?void 0:e.contains(r.target)))?a:void t(r)}),[e,n,t]);(0,r.useEffect)((()=>(0===Object.keys(d).length&&document.addEventListener("mousedown",s,{capture:!0}),function(e,n){d[e]=n}(o,l),()=>{!function(e){delete d[e]}(o),0===Object.keys(d).length&&document.removeEventListener("mousedown",s,{capture:!0})})),[o,l])})({containerRef:u,ignoreClickRefs:l,onClickOutside:i}),(0,p.o)((e=>{o(e),e.preventDefault()})),{ref:u}};var y=t(52280),E=t(46744);const b="__primerPortalRoot__",g="__default__",w={};const k=({children:e,onMount:n,containerName:t})=>{const o=r.useRef(null);if(!o.current){const e=document.createElement("div");e.style.position="relative",e.style.zIndex="1",o.current=e}const l=o.current;return i((()=>{let e=t;void 0===e&&(e=g,function(){const e=w[g];if(!e||!document.body.contains(e)){let e=document.getElementById(b);if(!(e instanceof Element)){e=document.createElement("div"),e.setAttribute("id",b),e.style.position="absolute",e.style.top="0",e.style.left="0";const n=document.querySelector("[data-portal-root]");n?n.appendChild(e):document.body.appendChild(e)}!function(e,n=g){w[n]=e}(e)}}());const r=w[e];if(!r)throw new Error(`Portal container '${t}' is not yet registered. Container must be registered with registerPortal before use.`);return r.appendChild(l),null==n||n(),()=>{r.removeChild(l)}}),[l]),(0,E.createPortal)(e,l)};var R=t(17780),C=t(31085);function O(){return O=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},O.apply(null,arguments)}const x={xsmall:"192px",small:"256px",medium:"320px",large:"432px",xlarge:"600px",auto:"auto",initial:"auto","fit-content":"fit-content"},A={small:"256px",medium:"320px",large:"480px",xlarge:"640px",xxlarge:"960px",auto:"auto"},L=l.ZP.div.withConfig({displayName:"Overlay__StyledOverlay",componentId:"sc-51280t-0"})(["background-color:",";box-shadow:",";position:absolute;min-width:192px;max-width:",";height:",";max-height:",";width:",";border-radius:12px;overflow:",";animation:overlay-appear ","ms ",";@keyframes overlay-appear{0%{opacity:0;}100%{opacity:1;}}visibility:var(--styled-overlay-visibility);:focus{outline:none;}@media (forced-colors:active){outline:solid 1px transparent;}",";"],(0,c.U2)("colors.canvas.overlay"),(0,c.U2)("shadows.overlay.shadow"),(e=>e.maxWidth&&A[e.maxWidth]),(e=>x[e.height||"auto"]),(e=>e.maxHeight&&x[e.maxHeight]),(e=>A[e.width||"auto"]),(e=>e.overflow?e.overflow:"hidden"),200,(0,c.U2)("animation.easeOutCubic"),R.Z),F=r.forwardRef((({onClickOutside:e,role:n="none",initialFocusRef:t,returnFocusRef:o,ignoreClickRefs:l,onEscape:u,visibility:a="visible",height:s="auto",width:d="auto",top:f,left:v,right:p,bottom:m,anchorSide:E,portalContainerName:b,preventFocusOnOpen:g,position:w,style:R={},...x},A)=>{const F=(0,r.useRef)(null);(0,y.z)(A,F);const{theme:S}=(0,C.Fg)(),P=parseInt((0,c.U2)("space.2")(S).replace("px","")),T=(0,c.U2)("animation.easeOutCubic")(S);h({overlayRef:F,returnFocusRef:o,onEscape:u,ignoreClickRefs:l,onClickOutside:e,initialFocusRef:t,preventFocusOnOpen:g}),(0,r.useEffect)((()=>{var e;"initial"===s&&null!==(e=F.current)&&void 0!==e&&e.clientHeight&&(F.current.style.height=`${F.current.clientHeight}px`)}),[s]),i((()=>{var e;const{x:n,y:t}=function(e){return null!=e&&e.endsWith("bottom")?{x:0,y:-1}:null!=e&&e.endsWith("top")?{x:0,y:1}:null!=e&&e.endsWith("right")?{x:-1,y:0}:null!=e&&e.endsWith("left")?{x:1,y:0}:{x:0,y:0}}(E);(n||t)&&null!==(e=F.current)&&void 0!==e&&e.animate&&"hidden"!==a&&F.current.animate({transform:[`translate(${P*n}px, ${P*t}px)`,"translate(0, 0)"]},{duration:200,easing:T})}),[E,P,T,a]);const N=void 0===v&&void 0===p?{left:0}:{left:v};return r.createElement(k,{containerName:b},r.createElement(L,O({height:s,width:d,role:n},x,{ref:F,style:{...N,right:p,top:f,bottom:m,position:w,"--styled-overlay-visibility":a,...R}})))}));var S=t(81582);var P=t(57848);function T(){return T=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},T.apply(null,arguments)}const N=({renderAnchor:e,anchorRef:n,anchorId:t,children:o,open:l,onOpen:c,onClose:a,height:s,width:d,overlayProps:f,focusTrapSettings:v,focusZoneSettings:p,side:h="outside-bottom",align:y="start",alignmentOffset:E,anchorOffset:b,className:g})=>{const w=(0,m.i)(n),[k,R]=function(){const[e,n]=(0,r.useState)(null),t=(0,r.useRef)(null);t.current=e;const o=(0,r.useCallback)((e=>{t.current=e,n(e)}),[t]);return[t,o]}(),C=(0,P.M)(t),O=(0,r.useCallback)((()=>null==a?void 0:a("click-outside")),[a]),x=(0,r.useCallback)((()=>null==a?void 0:a("escape")),[a]),A=(0,r.useCallback)((e=>{e.defaultPrevented||!l&&["ArrowDown","ArrowUp"," ","Enter"].includes(e.key)&&(null==c||c("anchor-key-press",e),e.preventDefault())}),[l,c]),L=(0,r.useCallback)((e=>{e.defaultPrevented||0!==e.button||(l?null==a||a("anchor-click"):null==c||c("anchor-click"))}),[l,c,a]),{position:N}=function(e,n=[]){const t=(0,m.i)(null==e?void 0:e.floatingElementRef),o=(0,m.i)(null==e?void 0:e.anchorElementRef),[l,c]=r.useState(void 0),a=r.useCallback((()=>{t.current instanceof Element&&o.current instanceof Element?c((0,u.NC)(t.current,o.current,e)):c(void 0)}),[t,o,...n]);return i(a,[a]),function(e,n){const t=(0,r.useRef)(e);i((()=>{t.current=e})),i((()=>{const e=document.documentElement;if(!e)return;const n=new ResizeObserver((e=>{t.current(e)}));return n.observe(e),()=>{n.disconnect()}}),[n])}(a),{floatingElementRef:t,anchorElementRef:o,position:l}}({anchorElementRef:w,floatingElementRef:k,side:h,align:y,alignmentOffset:E,anchorOffset:b},[k.current]);return(0,r.useEffect)((()=>{!l&&k.current&&R(null)}),[l,k,R]),(0,S.v)({containerRef:k,disabled:!l||!N,...p}),function(e,n=[]){const t=(0,m.i)(null==e?void 0:e.containerRef),o=(0,m.i)(null==e?void 0:e.initialFocusRef),l=null==e?void 0:e.disabled,i=r.useRef(),c=r.useRef(null);function a(){var n;null===(n=i.current)||void 0===n||n.abort(),null!=e&&e.returnFocusRef&&e.returnFocusRef.current instanceof HTMLElement?e.returnFocusRef.current.focus():null!=e&&e.restoreFocusOnCleanUp&&c.current instanceof HTMLElement&&(c.current.focus(),c.current=null)}c.current||null!=e&&e.disabled||(c.current=document.activeElement),r.useEffect((()=>{if(t.current instanceof HTMLElement){var e;if(!l)return i.current=(0,u.eI)(t.current,null!==(e=o.current)&&void 0!==e?e:void 0),()=>{a()};a()}}),[t,o,l,...n])}({containerRef:k,disabled:!l||!N,...v}),r.createElement(r.Fragment,null,e&&e({ref:w,id:C,"aria-haspopup":"true","aria-expanded":l,tabIndex:0,onClick:L,onKeyDown:A}),l?r.createElement(F,T({returnFocusRef:w,onClickOutside:O,ignoreClickRefs:[w],onEscape:x,ref:R,role:"none",visibility:N?"visible":"hidden",height:s,width:d,top:(null==N?void 0:N.top)||0,left:(null==N?void 0:N.left)||0,anchorSide:null==N?void 0:N.anchorSide,className:g},f),o):null)};N.displayName="AnchoredOverlay";const _=(e,n,t,o)=>{r.useEffect((()=>{const r=t.current,l=o.current,i=t=>{e&&"Tab"===t.key&&(null==n||n("tab"))};return null==r||r.addEventListener("keydown",i),null==l||l.addEventListener("keydown",i),()=>{null==r||r.removeEventListener("keydown",i),null==l||l.removeEventListener("keydown",i)}}),[e,n,t,o])},M=(e,n,t,o)=>{r.useEffect((()=>{const r=o.current,l=r=>{e&&n&&"ArrowLeft"===r.key&&(null==t||t("arrow-left"))};return null==r||r.addEventListener("keydown",l),()=>{null==r||r.removeEventListener("keydown",l)}}),[e,t,o,n])},I=(e,n,t)=>{r.useEffect((()=>{const r=n.current,o=t.current,l=n=>{if(!e||!r)return;const t=(0,v.hT)(r);if("ArrowDown"===n.key){const e=t.next().value;setTimeout((()=>null==e?void 0:e.focus()))}else if("ArrowUp"===n.key){const e=[...t],n=e[e.length-1];setTimeout((()=>n.focus()))}};return null==o||o.addEventListener("keydown",l),()=>null==o?void 0:o.addEventListener("keydown",l)}),[e,n,t])};var U=t(67095),j=t(82898),D=t(81158),H=t(41626);function K(){return K=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},K.apply(null,arguments)}const W=r.createContext({renderAnchor:null,open:!1}),z=({anchorRef:e,open:n,onOpenChange:t,children:o})=>{const l=(0,r.useContext)(W),[i,c]=function(e,n){const[t,o]=(0,r.useState)(!1);return[null!=e?e:t,(0,r.useCallback)((e=>{o(e),n&&n(e)}),[n])]}(n,t),u=r.useCallback((()=>c(!0)),[c]),a=r.useCallback((e=>{var n;switch(c(!1),e){case"tab":case"item-select":null===(n=l.onClose)||void 0===n||n.call(l,e)}}),[c,l]),s=r.Children.toArray(o).find((e=>r.isValidElement(e)&&(e.type===Z||e.type===B))),d=r.isValidElement(s)?s.props.id:void 0,f=(0,m.i)(e),v=(0,P.M)(d);let p=null;const h=r.Children.map(o,(e=>{if(e.type===H.u){const n=e.props.children;return n.type===Z&&(p=t=>{const o=r.cloneElement(n,{...t});return r.cloneElement(e,{children:o,ref:f})}),null}if(e.type===B){const n=e.props.children;return void 0!==n&&n.type===H.u?null!==n.props.children&&(p=t=>{const o=n.props.children,l=r.cloneElement(o,{...t}),i=r.cloneElement(n,{children:l});return r.cloneElement(e,{children:i,ref:f})}):p=n=>r.cloneElement(e,n),null}return e.type===Z?(p=n=>r.cloneElement(e,n),null):e}));return r.createElement(W.Provider,{value:{anchorRef:f,renderAnchor:p,anchorId:v,open:i,onOpen:u,onClose:a,isSubmenu:void 0!==l.isSubmenu}},h)};z.displayName="Menu";const B=r.forwardRef((({children:e,...n},t)=>{const{onOpen:l,isSubmenu:i}=r.useContext(W),c=(0,r.useCallback)((n=>{var t,r;null===(t=(r=e.props).onKeyDown)||void 0===t||t.call(r,n),i&&"ArrowRight"===n.key&&!n.defaultPrevented&&(null==l||l("anchor-key-press"))}),[e,i,l]),u=(0,r.useContext)(j.O),a=(0,r.useMemo)((()=>i?{...u,defaultTrailingVisual:r.createElement(o.XCv,null),afterSelect:()=>null==l?void 0:l("anchor-click")}:u),[i,l,u]);return r.createElement(j.O.Provider,{value:a},r.cloneElement(e,{...n,ref:t,onKeyDown:c}))})),Z=r.forwardRef((({...e},n)=>r.createElement(B,{ref:n},r.createElement(D.r,K({type:"button",trailingAction:o.AS7},e))))),$=({children:e,align:n="start",side:t,"aria-labelledby":o,...l})=>{const{anchorRef:i,renderAnchor:c,anchorId:u,open:a,onOpen:s,onClose:d,isSubmenu:f=!1}=r.useContext(W),p=r.useRef(null);((e,n,t,o,l)=>{((e,n,t)=>{const[o,l]=r.useState(void 0);r.useEffect((function(){const e=t.current,n=e=>{0!==e.detail&&l("mouse-click")},r=e=>{["Space","Enter","ArrowDown","ArrowUp"].includes(e.code)&&l(e.code)};return null==e||e.addEventListener("click",n),null==e||e.addEventListener("keydown",r),()=>{null==e||e.removeEventListener("click",n),null==e||e.removeEventListener("keydown",r)}}),[t]),r.useEffect((function(){if(!e||!n.current)return;const r=(0,v.hT)(n.current);if("mouse-click"===o){if(!t.current)throw new Error("For focus management, please attach anchorRef");t.current.focus()}else if(o&&["ArrowDown","Space","Enter"].includes(o)){const e=r.next().value;setTimeout((()=>null==e?void 0:e.focus()))}else if("ArrowUp"===o){const e=[...r],n=e[e.length-1];setTimeout((()=>n.focus()))}else{const e=r.next().value;setTimeout((()=>null==e?void 0:e.focus()))}}),[e,o,t])})(e,t,o),((e,n)=>{const t=(0,m.i)(n);r.useEffect((function(){if(!e||!t.current)return;const n=t.current;[...(0,v.hT)(n)].map((e=>{var n;if(e.getAttribute("aria-keyshortcuts"))return;const t=null===(n=e.textContent)||void 0===n?void 0:n.toLowerCase()[0];t&&e.setAttribute("aria-keyshortcuts",t)}))}),[e,t]),r.useEffect((function(){if(!e||!t.current)return;const n=t.current,r=e=>{var t;const r=document.activeElement;if("INPUT"===r.tagName||"TEXTAREA"===r.tagName)return;if(e.ctrlKey||e.altKey||e.metaKey)return;if(!o(e))return;e.stopPropagation();const l=e.key.toLowerCase();let i;const c=[...(0,v.hT)(n)].filter((e=>{var n;const t=null===(n=e.getAttribute("aria-keyshortcuts"))||void 0===n?void 0:n.split(" ").map((e=>e.toLowerCase()));return t&&t.includes(l)})),u=c.indexOf(r);i=u===c.length-1?c[0]:c.find(((e,n)=>n>u)),null===(t=i)||void 0===t||t.focus()};return n.addEventListener("keydown",r),()=>n.removeEventListener("keydown",r)}),[e,t]);const o=e=>1===e.key.length&&/[a-z\d]/i.test(e.key)})(e,t),_(e,n,t,o),I(e,t,o),M(e,l,n,t)})(a,d,p,i,f);const[h,y]=(0,r.useState)(null);return(0,r.useEffect)((()=>{if(i.current){const e=i.current.getAttribute("aria-labelledby");e&&y(e)}}),[i]),r.createElement(N,{anchorRef:i,renderAnchor:c,anchorId:u,open:a,onOpen:s,onClose:d,align:n,side:null!=t?t:f?"outside-right":"outside-bottom",overlayProps:l,focusZoneSettings:{focusOutBehavior:"wrap"}},r.createElement("div",{ref:p},r.createElement(j.O.Provider,{value:{container:"ActionMenu",listRole:"menu",listLabelledBy:o||h||u,selectionAttribute:"aria-checked",afterSelect:()=>null==d?void 0:d("item-select")}},e)))};$.displayName="Overlay",z.displayName="ActionMenu";const V=Object.assign(z,{Button:Z,Anchor:B,Overlay:$,Divider:U.i})}}]);