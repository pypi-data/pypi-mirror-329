"use strict";(self.webpackChunk_datalayer_ui=self.webpackChunk_datalayer_ui||[]).push([[453,5003],{20419:(e,t,n)=>{n.d(t,{E:()=>X});var r=n(18683),o=n(98754),i=n(9387),a=n(75987),l=n(89895),s=n(37706),c=n(62097),d=n(89492),u=n(71784),m=n(67004),p=n(63711),f=n(14377),g=n(69882),h=n(83303),y=n(7384),v=n(30574),w=n(29028),E=n(47798),b=n(39756),x=n(11796),T=n(70639),C=n(89915),k=n(53054),V=n(38921),A=n(16950),S=n(98238),I=n(79246),R=n(72490),P=n(14809),N=n(60818),_=n(45222),M=n(18241),L=n(17055),j=n(75087),H=n(17402),D=n(50059),K=n(90117),F=n(60531),$=n(94247),z=n(71791),B=n(16476);const J=1e3,O=new Array,U=".datalayer/ping.ipynb";function q(e){const{CellSidebar:t,commandRegistry:n,extensions:a=O,kernelId:l,serviceManager:p,model:g,nbgrader:h,onSessionConnectionChanged:y}=e,[v,x]=(0,i.useState)(!0),[T,C]=(0,i.useState)(new Array),k=(0,B.Ay)(),A=(0,i.useMemo)((()=>e.id||(0,H.YG)()),[e.id]),S=(0,i.useMemo)((()=>e.path||U),[e.path]),I=(0,i.useMemo)((()=>new G({commandRegistry:n})),[n]),M=(0,i.useMemo)((()=>new $.KQ(A,h,I.commandRegistry,{editorFactory:I.editorServices.factoryService.newInlineEditor},t)),[t,A,I,h]),[L,j]=(0,i.useState)(null);(0,i.useEffect)((()=>{const e=new s.A({model:new c.X}),t=new P.x0,n=new d.C({context:{widget:t},providers:[new u.G],timeout:J}),r=new m.$({completer:e,reconciliator:n});return e.hide(),P.x0.attach(e,document.body),j(r),()=>{r.dispose(),e.dispose(),t.dispose()}}),[]);const[q,X]=(0,i.useState)(null);(0,i.useEffect)((()=>{const e=new w.k({name:"Notebook",label:"Notebook",modelName:"notebook",fileTypes:["notebook"],defaultFor:["notebook"],preferKernel:!0,autoStartDefault:!1,canStartKernel:!1,shutdownOnClose:!1,rendermime:I.rendermime,contentFactory:M,mimeTypeService:I.editorServices.mimeTypeService,notebookConfig:{...E.a.defaultNotebookConfig,recordTiming:!0}});return X(e),()=>{e.dispose(),X((t=>t===e?null:t))}}),[M,I]);const[Y,Q]=(0,i.useState)(null);(0,i.useEffect)((()=>{const t=L?new b.G({namespace:A}):null,n=L?(0,z.Ay)(I.commandRegistry,L,t,e.path):null;return Q(t),()=>{n?.dispose(),t?.dispose(),Q((e=>e===t?null:e))}}),[L,A,I.commandRegistry,e.path]);const[Z,ee]=(0,i.useState)(null);(0,i.useEffect)((()=>{const e=new W(g),t=new f.o({factory:e,manager:p,path:S,kernelPreference:{shouldStart:!1,canStart:!1,autoStartDefault:!1,shutdownOnDispose:!1}});return function(e,t,n,r){const o=!n;e.sessionContext._initialize=async()=>{const t=e.sessionContext.sessionManager;await t.ready,await t.refreshRunning();const r=(0,V.I6)(t.running(),(t=>t.kernel?.id===(e.sessionContext.kernelPreference.id??"")));if(r)try{const o=t.connectTo({model:{...r,path:n??r.path,name:n??r.name},kernelConnectionOptions:{handleComms:!0}});e.sessionContext._handleNewSession(o),this._kernel?.connection?.dispose()}catch(t){return e.sessionContext._handleSessionError(t),Promise.reject(t)}return await e.sessionContext._startIfNecessary()},e.dispose=()=>{e.isDisposed||(e._isDisposed=!0,e.sessionContext.dispose(),e._disposed.emit(void 0),R.Signal.clearData(this))},o&&(e._populate=async()=>{if(e._isPopulated=!0,e._isReady=!0,e._populatedPromise.resolve(void 0),e.isDisposed)return;const t=e._model.defaultKernelName||e.sessionContext.kernelPreference.name;e.sessionContext.kernelPreference={...e.sessionContext.kernelPreference,name:t,language:e._model.defaultKernelLanguage},e.sessionContext.initialize().then((t=>{t&&e._dialogs.selectKernel(e.sessionContext.sessionContext)}))},e.initialize=async n=>{e.model.dirty=!1;const r=(new Date).toISOString(),o={path:t,name:t,type:"notebook",content:void 0,writable:!0,created:r,last_modified:r,mimetype:"application/x-ipynb+json",format:"json"};e._updateContentsModel(o),await e._populate(),e.model.sharedModel.clearUndoHistory()}),e.sessionContext.sessionChanged.connect(((e,t)=>{const n=t.newValue;console.log("Current Jupyter Session Connection.",n),r?.(n??void 0)})),e.sessionContext.kernelChanged.connect(((e,t)=>{const n=t.newValue;console.log("Current Jupyter Kernel Connection.",n),n&&!n.handleComms&&(console.log("Updating the current Kernel Connection to enforce Comms support.",n.handleComms),n.handleComms=!0)})),e.sessionContext.ready.then((()=>{r?.(e?.sessionContext.session??void 0)})),e.initialize(!n)}(t,A,S!==U?S:void 0,y),ee(t),()=>{t.dispose(),e.dispose(),ee((e=>e===t?null:e))}}),[A,p,g,y,S]),(0,i.useEffect)((()=>{Z&&l&&Z.sessionContext.changeKernel({id:l})}),[Z,l]);const[te,ne]=(0,i.useState)(null);(0,i.useEffect)((()=>{let e=null;return Z&&(e=q?.createNew(Z)??null,e&&(e.content.modelChanged.connect(((e,t)=>{e.model&&k.changeModel({id:A,notebookModel:e.model})})),e.content.activeCellChanged.connect(((e,t)=>{if(null===t)k.activeCellChange({id:A,cellModel:void 0});else if(k.activeCellChange({id:A,cellModel:t}),!Z.model.readOnly){const e=document.getElementById("right-panel-id");if(e){const n=(0,r.jsx)(o.A,{mt:3,children:(0,r.jsx)(F.r,{notebookId:A,cell:t,nbgrader:h})}),i=(0,_.createPortal)(n,e);k.setPortalDisplay({id:A,portalDisplay:{portal:i,pinned:!1}})}}})),e.sessionContext.statusChanged.connect(((e,t)=>{k.changeKernelStatus({id:A,kernelStatus:t})})),C(a.map((t=>(t.init({notebookId:A,commands:I.commandRegistry,panel:e}),t.createNew(e,Z),t.component??(0,r.jsx)(r.Fragment,{}))))),x(!1))),ne(e),e||C([]),()=>{try{e?.dispose()}catch(e){}ne((t=>t===e?null:t))}}),[Z,L,a,I.commandRegistry,h,k,q]),(0,i.useEffect)((()=>{let e=!0;return te&&(Y&&(Y.has(te)||Y.add(te).catch((e=>{console.error(`Failed to track the notebook panel '${A}'.`)}))),L&&te.context.sessionContext.ready.then((()=>{if(!e)return;const t=te.content.activeCell?.editor,n=new u.G,r=new d.C({context:{widget:te,editor:t,session:te.context.sessionContext.session},providers:[n],timeout:J});L.editor=t,L.reconciliator=r,te.content.activeCellChanged.connect(((e,t)=>{t&&t.ready.then((()=>{L.editor=t?.editor}))}))}))),()=>{e=!1,L&&(L.editor=null,L.reconciliator=new d.C({context:{widget:new P.x0},providers:[new u.G],timeout:J}))}}),[L,te,Y]);const re=(0,i.useCallback)((e=>{I.commandRegistry.processKeydownEvent(e)}),[I.commandRegistry]);return(0,r.jsxs)(r.Fragment,{children:[T.map(((e,t)=>(0,r.jsx)(o.A,{children:e},`${e}-${t}`))),v?(0,r.jsx)(K.a,{},"notebook-loader"):te?(0,r.jsx)(o.A,{sx:{height:"100%"},onKeyDownCapture:re,children:(0,r.jsx)(D.j,{id:A,children:te},"notebook-container")}):(0,r.jsx)(N.l,{variant:"critical",description:"Unable to create the notebook view.",hideTitle:!0},"notebook-error")]})}class G{_commandRegistry;_editorServices;_rendermime;constructor(e={}){this._commandRegistry=e.commandRegistry??new A.J;const t=new l.T9;for(const e of l.T9.getDefaultLanguages())t.addLanguage(e);t.addLanguage({name:"ipythongfm",mime:"text/x-ipythongfm",load:async()=>(await Promise.all([n.e(6636),n.e(9946),n.e(2899),n.e(5949)]).then(n.bind(n,15949))).markdown({codeLanguages:e=>t.findBest(e)})});const r=C.dn.filter((e=>"text/javascript"!==e.mimeTypes[0]));r.push(h.rendererFactory),r.push(g.rendererFactory),this._rendermime=new k.K({initialFactories:r,latexTypesetter:new v.p,markdownParser:(0,y.createMarkdownParser)(t)});const o=new l.mN(t),i=new l.k8;for(const e of l.k8.getDefaultThemes())i.addTheme(e);const a=new l.Ez({extensions:(()=>{const e=new l.AG;for(const t of l.AG.getDefaultExtensions({themes:i}))e.addExtension(t);return e.addExtension({name:"shared-model-binding",factory:e=>{const t=e.model.sharedModel;return l.AG.createImmutableExtension((0,l.rX)({ytext:t.ysource,undoManager:t.undoManager??void 0}))}}),e})(),languages:t});this._editorServices={factoryService:a,mimeTypeService:o}}get commandRegistry(){return this._commandRegistry}get editorServices(){return this._editorServices}get rendermime(){return this._rendermime}}class W extends T.p{model;constructor(e){super(),this.model=e}createNew(e){return this.model}}function X(e){const{CellSidebar:t,Toolbar:n,cellSidebarMargin:l=120,children:s,collaborationServer:c,commandRegistry:d,extensions:u,height:m="100vh",maxHeight:f="100vh",id:g,nbformat:h,nbgrader:y=!1,onNotebookModelChanged:v,onSessionConnection:w,path:E,readonly:b=!1,serviceManager:T,startDefaultKernel:C=!1,url:k}=e,V=function(e){const{kernels:t,requestedKernelId:n,startDefaultKernel:r=!1}=e,[o,a]=(0,i.useState)(void 0);return(0,i.useEffect)((()=>{let e,o=!0;return(async()=>{let i;if(await t.ready,n)for(const e of t.running())if(e.id===n){i=n;break}!i&&r&&o&&(console.log("Starting new kernel."),e=await t.startNew(),o?i=e.id:e.dispose()),o&&a(i)})(),()=>{o=!1,e?.dispose()}}),[t,n,r]),o}({requestedKernelId:e.kernelId,kernels:T.kernels,startDefaultKernel:C}),A=function(e){const{collaborationServer:t,nbformat:n,readonly:r=!1,url:o}=e,[l,s]=(0,i.useState)(null);return(0,i.useEffect)((()=>{let e=!0;const i=new I.DisposableSet;if(t){let e=null,n=new S.PromiseDelegate,o=!0,l=null;const c=t=>{t.code>1e3&&(console.error("Connection with the room has been closed unexpectedly.",t),e?.disconnect(),4002===t.code&&(e?.destroy(),n.reject("Connection closed."),n=new S.PromiseDelegate,o&&Promise.all([u(),n.promise,(0,H.yy)(500)]).catch((e=>{console.error("Failed to setup collaboration connection.",e)}))))},d=t=>{t&&(e?.off("sync",d),n.resolve(void 0))},u=async()=>{l=new a.Xn;const{ydoc:n,awareness:o}=l;let i="",u="";const m={};if("jupyter"==t.type){const{path:e,serverSettings:n}=t,r=await(0,L.e_)("json","notebook",e,n);i=p.URLExt.join(n.wsUrl,L.Ir),u=`${r.format}:${r.type}:${r.fileId}`,m.sessionId=r.sessionId,n.token&&(m.token=n.token)}else if("datalayer"==t.type){const{baseURL:e,roomName:n,token:r}=t;u=n;const o=p.URLExt.join(e,"/api/spacer/v1/rooms");i=o.replace(/^http/,"ws"),m.sessionId=await(0,j._)({url:p.URLExt.join(o,u),token:r}),m.token=r}if(m.sessionId){e=new M.$R(i,u,n,{disableBc:!0,params:m,awareness:o}),e.on("sync",d),e.on("connection-close",c),console.log("Collaboration is setup with websocket provider.");const t=new x.x({collaborationEnabled:!0,disableDocumentWideUndoRedo:!0,sharedModel:l});t.readOnly=r,s(t)}};Promise.all([u(),n.promise]).then((()=>{if(e){const t=()=>{(e.synced?Promise.resolve():n.promise).finally((()=>{e.off("sync",d),e.off("connection-close",c),e.disconnect(),e.destroy()}))};o?i.add(Object.freeze({dispose:t,isDisposed:!1})):t()}})).catch((e=>{console.error("Failed to setup collaboration connection.",e)}))}else{const t=e=>{const t=new x.x;e&&(e.cells.forEach((e=>{e.metadata.editable=!r})),t.fromJSON(e)),t.readOnly=r,s(t)};!n&&o?async function(e){return fetch(e).then((e=>e.text())).then((e=>JSON.parse(e)))}(o).then((n=>{e&&t(n)})):t(n)}return()=>{e=!1,i.dispose()}}),[t,n,r,o]),l}({collaborationServer:c,nbformat:h,readonly:b,url:k});return(0,i.useEffect)((()=>{v?.(A)}),[A,v]),(0,r.jsxs)(o.A,{style:{height:m,width:"100%",position:"relative"},id:"dla-Jupyter-Notebook",children:[n&&(0,r.jsx)(n,{notebookId:g}),(0,r.jsxs)(o.A,{className:"dla-Box-Notebook",sx:{height:m,maxHeight:f,width:"100%",overflowY:"hidden","& .datalayer-NotebookPanel-header":{minHeight:"50px"},"& .jp-Notebook":{flex:"1 1 auto !important",height:"100%",overflowY:"scroll"},"& .jp-NotebookPanel":{height:"100% !important",width:"100% !important"},"& .jp-Toolbar":{display:"none",zIndex:0},"& .jp-Toolbar .jp-HTMLSelect.jp-DefaultStyle select":{fontSize:"14px"},"& .jp-Toolbar > .jp-Toolbar-responsive-opener":{display:"none"},"& .jp-Toolbar-kernelName":{display:"none"},"& .jp-Cell":{width:`calc(100% - ${l}px)`},"& .jp-Notebook-footer":{width:`calc(100% - ${l+82}px)`},"& .jp-Cell .jp-CellHeader":{position:"absolute",top:"-5px",left:`${l+10}px`,height:"auto"},"& .jp-Cell .dla-CellSidebar-Container":{padding:"4px 8px",width:`${l+10}px`,marginLeft:"auto"},"& .jp-CodeMirrorEditor":{cursor:"text !important"},".dla-Box-Notebook":{position:"relative"}},children:[s,A&&T&&(0,r.jsx)(q,{CellSidebar:t,commandRegistry:d,id:g,extensions:u,model:A,nbgrader:y,serviceManager:T,kernelId:V,onSessionConnectionChanged:w,path:E})]})]})}},7384:(e,t,n)=>{n.r(t),n.d(t,{createMarkdownParser:()=>c,default:()=>d});var r=n(98238),o=n(63711),i=n(89895),a=n(5279);new r.Token("@jupyterlab/mermaid:IMermaidManager","a manager for rendering mermaid text-based diagrams");const l=new r.Token("@jupyterlab/mermaid:IMermaidMarkdown","a manager for rendering mermaid text-based diagrams in markdown fenced code blocks"),s="```~~~";function c(e,t){return{render:n=>u.render(n,e,t)}}const d={id:"@jupyterlab/markedparser-extension:plugin",description:"Provides the Markdown parser.",autoStart:!0,provides:a.co,requires:[i.SW],optional:[l],activate:(e,t,n)=>c(t,{blocks:n?[n]:[]})};var u;!function(e){let t=null,i=null,a=[],l=null,c={},d=new o.LruCache;async function u(e){if(i)return i;if(t)return await t.promise;a=(null==e?void 0:e.blocks)||[],a=a.sort(((e,t)=>{var n,r;return(null!==(n=e.rank)&&void 0!==n?n:1/0)-(null!==(r=t.rank)&&void 0!==r?r:1/0)})),t=new r.PromiseDelegate;const[{marked:o,Renderer:l},s]=await Promise.all([n.e(4020).then(n.bind(n,64020)),m()]);for(const e of s)o.use(e);return c={async:!0,gfm:!0,walkTokens:f,renderer:p(l)},i=o,t.resolve(i),i}async function m(){return Promise.all([(async()=>(await n.e(8009).then(n.bind(n,48009))).gfmHeadingId())(),(async()=>(await n.e(2167).then(n.bind(n,52167))).mangle())()])}function p(e){const t=new e,n=t.code;return t.code=(e,r)=>{for(const t of a)if(t.languages.includes(r)){const n=t.render(e);if(null!=n)return n}const o=`${r}${s}${e}${s}`,i=d.get(o);return null!=i?i:n.call(t,e,r)},t}async function f(e){if("code"===e.type){if(e.lang)for(const t of a)if(t.languages.includes(e.lang))return void await t.walk(e.text);await async function(e){const{lang:t,text:n}=e;if(!t||!l)return;const r=`${t}${s}${n}${s}`;if(d.get(r))return;const o=document.createElement("div");try{await l.highlight(n,l.findBest(t),o);const e=`<pre><code class="language-${t}">${o.innerHTML}</code></pre>`;d.set(r,e)}catch(e){console.error(`Failed to highlight ${t} code`,e)}finally{o.remove()}}(e)}}e.render=async function(e,t,n){return l=t,i||(i=await u(n)),i(e,c)},e.initializeMarked=u}(u||(u={}))},93054:(e,t,n)=>{n.d(t,{O7:()=>u});var r=n(9387),o=n(29187);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(null,arguments)}const a=e=>r.createElement(o.M,i({containerWidth:"full",padding:"none",columnGap:"none",rowGap:"none",_slotsConfig:{header:l,footer:d}},e));a.displayName="Root",a.displayName="SplitPageLayout";const l=({padding:e="normal",divider:t="line",...n})=>r.createElement(o.M.Header,i({padding:e,divider:t},n));l.displayName="Header",l.displayName="SplitPageLayout.Header";const s=({width:e="large",padding:t="normal",...n})=>r.createElement(o.M.Content,i({width:e,padding:t},n));s.displayName="Content",s.displayName="SplitPageLayout.Content";const c=({position:e="start",sticky:t=!0,padding:n="normal",divider:a="line",...l})=>r.createElement(o.M.Pane,i({position:e,sticky:t,padding:n,divider:a},l));c.displayName="Pane",c.displayName="SplitPageLayout.Pane";const d=({padding:e="normal",divider:t="line",...n})=>r.createElement(o.M.Footer,i({padding:e,divider:t},n));d.displayName="Footer",d.displayName="SplitPageLayout.Footer";const u=Object.assign(a,{Header:l,Content:s,Pane:c,Footer:d})},43049:(e,t,n)=>{n.d(t,{G:()=>B});var r=n(73990),o=n(49064),i=n(9387),a=n(22462),l=n(79026),s=n(20938),c=n(76818),d=n(44983),u=n(2020),m=n(41896),p=n(92209),f=n(27432),g=n(78602);function h(e){var t,n,r;const o=e.getAttribute("aria-label"),i=e.getAttribute("aria-labelledby");return o||(i?null!==(t=null===(n=document.getElementById(i))||void 0===n?void 0:n.textContent)&&void 0!==t?t:"":null!==(r=e.textContent)&&void 0!==r?r:"")}var y=n(27907),v=n(98530),w=n(19560);function E(e,t){const n=e.closest("[role=tree]");if(!n)return;const r=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,(e=>e instanceof HTMLElement&&"treeitem"===e.getAttribute("role")?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP));let o=r.firstChild();for(;o!==e;)o=r.nextNode();let i="next"===t?r.nextNode():r.previousNode();for(;i instanceof HTMLElement&&null!==(a=i.parentElement)&&void 0!==a&&a.closest("[role=treeitem][aria-expanded=false]");){var a;i="next"===t?r.nextNode():r.previousNode()}return i instanceof HTMLElement?i:void 0}function b(e){const t=e.querySelector("[role=treeitem]");return t instanceof HTMLElement?t:void 0}function x(e){const t=e.closest("[role=group]"),n=null==t?void 0:t.closest("[role=treeitem]");return n instanceof HTMLElement?n:void 0}const T={height:32};function C(e,t){var n,r;const o=(0,v.B)(e),{height:i}=null!==(n=null==t?void 0:t.getBoundingClientRect())&&void 0!==n?n:T,a=null!==(r=null==o?void 0:o.clientHeight)&&void 0!==r?r:window.innerHeight;return Math.floor(a/i)}var k=n(78184),V=n(81626);const A=i.createContext({announceUpdate:()=>{},expandedStateCache:{current:new Map}}),S=i.createContext({itemId:"",level:1,isSubTreeEmpty:!1,setIsSubTreeEmpty:()=>{},isExpanded:!1,setIsExpanded:()=>{},leadingVisualId:"",trailingVisualId:""}),I=a.Ay.ul.withConfig({displayName:"TreeView__UlBox",componentId:"sc-4ex6b6-0"})(["list-style:none;padding:0;margin:0;.PRIVATE_TreeView-item{outline:none;&:focus-visible > div,&.focus-visible > div{box-shadow:inset 0 0 0 2px ",";@media (forced-colors:active){outline:2px solid HighlightText;outline-offset:-2;}}&[data-has-leading-action]{--has-leading-action:1;}}.PRIVATE_TreeView-item-container{--level:1;--toggle-width:1rem;--min-item-height:2rem;position:relative;display:grid;--leading-action-width:calc(var(--has-leading-action,0) * 1.5rem);--spacer-width:calc(calc(var(--level) - 1) * (var(--toggle-width) / 2));grid-template-columns:var(--spacer-width) var(--leading-action-width) var(--toggle-width) 1fr;grid-template-areas:'spacer leadingAction toggle content';width:100%;font-size:",";color:",";border-radius:",";cursor:pointer;&:hover{background-color:",";@media (forced-colors:active){outline:2px solid transparent;outline-offset:-2px;}}@media (pointer:coarse){--toggle-width:1.5rem;--min-item-height:2.75rem;}&:has(.PRIVATE_TreeView-item-skeleton):hover{background-color:transparent;cursor:default;@media (forced-colors:active){outline:none;}}}&[data-omit-spacer='true'] .PRIVATE_TreeView-item-container{grid-template-columns:0 0 0 1fr;}.PRIVATE_TreeView-item[aria-current='true'] > .PRIVATE_TreeView-item-container{background-color:",";&::after{content:'';position:absolute;top:calc(50% - 0.75rem);left:-",";width:0.25rem;height:1.5rem;background-color:",";border-radius:",";@media (forced-colors:active){background-color:HighlightText;}}}.PRIVATE_TreeView-item-toggle{grid-area:toggle;display:flex;justify-content:center;align-items:flex-start;padding-top:calc(var(--min-item-height) / 2 - ","px / 2);height:100%;color:",";}.PRIVATE_TreeView-item-toggle--hover:hover{background-color:",";}.PRIVATE_TreeView-item-toggle--end{border-top-left-radius:",";border-bottom-left-radius:",";}.PRIVATE_TreeView-item-content{grid-area:content;display:flex;height:100%;padding:0 ",";gap:",";line-height:var(--custom-line-height,var(--text-body-lineHeight-medium,1.4285));padding-top:calc((var(--min-item-height) - var(--custom-line-height,1.3rem)) / 2);padding-bottom:calc((var(--min-item-height) - var(--custom-line-height,1.3rem)) / 2);}.PRIVATE_TreeView-item-content-text{flex:1 1 auto;width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}.PRIVATE_TreeView-item-visual{display:flex;align-items:center;color:",";height:var(--custom-line-height,1.3rem);}.PRIVATE_TreeView-item-leading-action{display:flex;color:",";grid-area:leadingAction;}.PRIVATE_TreeView-item-level-line{width:100%;height:100%;border-right:1px solid;border-color:",";}@media (hover:hover){.PRIVATE_TreeView-item-level-line{border-color:transparent;}&:hover .PRIVATE_TreeView-item-level-line,&:focus-within .PRIVATE_TreeView-item-level-line{border-color:",";}}.PRIVATE_TreeView-directory-icon{display:grid;color:",";}.PRIVATE_VisuallyHidden{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0;}",""],(0,u.Jt)("colors.accent.fg"),(0,u.Jt)("fontSizes.1"),(0,u.Jt)("colors.fg.default"),(0,u.Jt)("radii.2"),(0,u.Jt)("colors.actionListItem.default.hoverBg"),(0,u.Jt)("colors.actionListItem.default.selectedBg"),(0,u.Jt)("space.2"),(0,u.Jt)("colors.accent.fg"),(0,u.Jt)("radii.2"),12,(0,u.Jt)("colors.fg.muted"),(0,u.Jt)("colors.treeViewItem.chevron.hoverBg"),(0,u.Jt)("radii.2"),(0,u.Jt)("radii.2"),(0,u.Jt)("space.2"),(0,u.Jt)("space.2"),(0,u.Jt)("colors.fg.muted"),(0,u.Jt)("colors.fg.muted"),(0,u.Jt)("colors.border.subtle"),(0,u.Jt)("colors.border.subtle"),(0,u.Jt)("colors.treeViewItem.directory.fill"),g.A),R=({"aria-label":e,"aria-labelledby":t,children:n,flat:r,className:o})=>{const a=i.useRef(null),l=i.useRef(!1),[s,c]=i.useState(""),u=i.useCallback((e=>{c(e)}),[]),m=(0,i.useCallback)((()=>{l.current=!0}),[]);(0,i.useEffect)((()=>{function e(){l.current=!1}return document.addEventListener("mouseup",e),()=>{document.removeEventListener("mouseup",e)}}),[]),function({containerRef:e,mouseDownRef:t}){(0,y.G)({containerRef:e,bindKeys:w.z0.ArrowVertical|w.z0.ArrowHorizontal|w.z0.HomeAndEnd|w.z0.Backspace|w.z0.PageUpDown,preventScroll:!0,getNextFocusable:(e,t,n)=>{var r;if(t instanceof HTMLElement){try{if(t.closest("dialog:modal"))return}catch{}return null!==(r=function(e,t){switch(`${function(e){if("treeitem"!==e.getAttribute("role"))throw new Error("Element is not a treeitem");switch(e.getAttribute("aria-expanded")){case"true":return"open";case"false":return"closed";default:return"end"}}(e)} ${t.key}`){case"open ArrowRight":return b(e);case"open ArrowLeft":case"closed ArrowRight":case"end ArrowRight":return;case"closed ArrowLeft":case"end ArrowLeft":return x(e)}switch(t.key){case"ArrowUp":return E(e,"previous");case"ArrowDown":return E(e,"next");case"Backspace":return x(e);case"Home":return function(e){const t=e.closest("[role=tree]"),n=null==t?void 0:t.querySelector("[role=treeitem]");return n instanceof HTMLElement?n:void 0}(e);case"End":return function(e){const t=e.closest("[role=tree]"),n=Array.from((null==t?void 0:t.querySelectorAll("[role=treeitem]"))||[]);if(0===n.length)return;let r=n.length-1,o=n[r];for(;r>0&&o instanceof HTMLElement&&null!==(i=o.parentElement)&&void 0!==i&&i.closest("[role=treeitem][aria-expanded=false]");){var i;r-=1,o=n[r]}return o instanceof HTMLElement?o:void 0}(e);case"PageUp":return function(e){const t=e.closest('[role="tree"]');if(!t)return;const n=Array.from(t.querySelectorAll('[role="treeitem"]'));if(0===n.length)return;const r=C(t,n[0].firstElementChild),o=Math.floor(n.indexOf(e)/r),i=n.indexOf(e)-r*o;return n[Math.max(0,(o-1)*r+i)]}(e);case"PageDown":return function(e){const t=e.closest('[role="tree"]');if(!t)return;const n=Array.from(t.querySelectorAll('[role="treeitem"]'));if(0===n.length)return;const r=C(t,n[0].firstElementChild),o=Math.floor(n.indexOf(e)/r),i=n.indexOf(e)-r*o;return n[Math.min(n.length-1,(o+1)*r+i)]}(e)}}(t,n))&&void 0!==r?r:t}},focusInStrategy:()=>{var n,r,o;if(t.current)return;const i=null===(n=e.current)||void 0===n?void 0:n.querySelector("[aria-current]"),a=null===(r=e.current)||void 0===r?void 0:r.querySelector('[role="treeitem"]');return i instanceof HTMLElement?i:document.activeElement instanceof HTMLElement&&null!==(o=e.current)&&void 0!==o&&o.contains(document.activeElement)&&"treeitem"===document.activeElement.getAttribute("role")?document.activeElement:a instanceof HTMLElement?a:void 0}})}({containerRef:a,mouseDownRef:l}),function({containerRef:e,onFocusChange:t}){const n=i.useRef(""),r=i.useRef(0),o=i.useRef(t),{safeSetTimeout:a,safeClearTimeout:l}=(0,p.A)();i.useEffect((()=>{o.current=t}),[t]);const s=i.useCallback((t=>{if(!t)return;if(!e.current)return;const n=e.current,r=Array.from(n.querySelectorAll('[role="treeitem"]')),i=r.findIndex((e=>e===document.activeElement));let a=(s=i,(l=r).map(((e,t)=>l[(s+t)%l.length])));var l,s;1===t.length&&(a=a.slice(1));const c=a.find((e=>h(e).toLowerCase().startsWith(t.toLowerCase())));c&&o.current(c)}),[e]);i.useEffect((()=>{if(!e.current)return;const t=e.current;function o(e){!e.key||e.key.length>1||" "===e.key||e.ctrlKey||e.altKey||e.metaKey||(n.current+=e.key,s(n.current),l(r.current),r.current=a((()=>n.current=""),300),e.preventDefault(),e.stopPropagation())}return t.addEventListener("keydown",o),()=>t.removeEventListener("keydown",o)}),[e,s,l,a])}({containerRef:a,onFocusChange:e=>{e instanceof HTMLElement&&e.focus()}});const f=i.useRef(null);return null===f.current&&(f.current=new Map),i.createElement(A.Provider,{value:{announceUpdate:u,expandedStateCache:f}},i.createElement(i.Fragment,null,i.createElement(d.A,{role:"status","aria-live":"polite","aria-atomic":"true"},s),i.createElement(I,{ref:a,role:"tree","aria-label":e,"aria-labelledby":t,"data-omit-spacer":r,onMouseDown:m,className:o},n)))};R.displayName="Root",R.displayName="TreeView";const P=i.forwardRef((({id:e,containIntrinsicSize:t,current:n=!1,defaultExpanded:a,expanded:l,onExpandedChange:s,onSelect:c,children:d,className:u,"aria-label":p,"aria-labelledby":g},h)=>{const[y,v]=(0,f.H)(d,{leadingAction:F,leadingVisual:D,trailingVisual:K}),{expandedStateCache:w}=i.useContext(A),E=(0,m.B)(),b=(0,m.B)(),x=(0,m.B)(),[T,C]=function({name:e="custom",defaultValue:t,value:n,onChange:r}){const[o,a]=i.useState(null!=n?n:t),l=i.useRef(null),s=i.useRef(r);i.useEffect((()=>{s.current=r})),null===l.current&&(l.current=void 0!==n);const c=i.useCallback((e=>{var t;const n="function"==typeof e?e(o):e;!1===l.current&&a(n),null===(t=s.current)||void 0===t||t.call(s,n)}),[o]);return i.useEffect((()=>{l.current,l.current}),[e,n]),!0===l.current?[n,c]:[o,c]}({name:e,defaultValue:()=>{var t,r,o;return null!==(t=null!==(r=null===(o=w.current)||void 0===o?void 0:o.get(e))&&void 0!==r?r:a)&&void 0!==t?t:n},value:l,onChange:s}),{level:k}=i.useContext(S),{hasSubTree:V,subTree:I,childrenWithoutSubTree:R}=function(e){return i.useMemo((()=>{const t=i.Children.toArray(e).find((e=>i.isValidElement(e)&&e.type===_));return{subTree:t,childrenWithoutSubTree:i.Children.toArray(e).filter((e=>!(i.isValidElement(e)&&e.type===_))),hasSubTree:Boolean(t)}}),[e])}(v),[P,M]=i.useState(!V),[L,j]=i.useState(!1),H=i.useCallback((t=>{var n;C(t),null===(n=w.current)||void 0===n||n.set(e,t)}),[e,C,w]),$=i.useCallback((e=>{H(!T),null==e||e.stopPropagation()}),[T,H]),z=i.useCallback((e=>{switch(e.key){case"Enter":case" ":c?c(e):$(e),e.stopPropagation();break;case"ArrowRight":if(e.altKey||e.metaKey)return;e.preventDefault(),e.stopPropagation(),H(!0);break;case"ArrowLeft":if(e.altKey||e.metaKey)return;e.preventDefault(),e.stopPropagation(),H(!1)}}),[c,H,$]);return i.createElement(S.Provider,{value:{itemId:e,level:k+1,isSubTreeEmpty:P,setIsSubTreeEmpty:M,isExpanded:T,setIsExpanded:H,leadingVisualId:b,trailingVisualId:x}},i.createElement("li",{className:(0,o.A)("PRIVATE_TreeView-item",u),ref:h,tabIndex:0,id:e,role:"treeitem","aria-label":p,"aria-labelledby":p?void 0:g||E,"aria-describedby":`${b} ${x}`,"aria-level":k,"aria-expanded":P?void 0:T,"aria-current":n?"true":void 0,"aria-selected":L?"true":"false","data-has-leading-action":!!y.leadingAction||void 0,onKeyDown:z,onFocus:e=>{var t;null===(t=e.currentTarget.firstElementChild)||void 0===t||t.scrollIntoView({block:"nearest",inline:"nearest"}),j(!0),e.stopPropagation()},onBlur:()=>j(!1),onClick:e=>{c?c(e):$(e),e.stopPropagation()},onAuxClick:e=>{c&&1===e.button&&c(e),e.stopPropagation()}},i.createElement("div",{className:"PRIVATE_TreeView-item-container",style:{"--level":k,contentVisibility:t?"auto":void 0,containIntrinsicSize:t}},i.createElement("div",{style:{gridArea:"spacer",display:"flex"}},i.createElement(N,{level:k})),y.leadingAction,V?i.createElement("div",{className:(0,o.A)("PRIVATE_TreeView-item-toggle",c&&"PRIVATE_TreeView-item-toggle--hover",1===k&&"PRIVATE_TreeView-item-toggle--end"),onClick:e=>{c&&$(e)}},T?i.createElement(r.D3D,{size:12}):i.createElement(r.vKP,{size:12})):null,i.createElement("div",{id:E,className:"PRIVATE_TreeView-item-content"},y.leadingVisual,i.createElement("span",{className:"PRIVATE_TreeView-item-content-text"},R),y.trailingVisual)),I))})),N=({level:e})=>i.createElement("div",{style:{width:"100%",display:"flex"}},Array.from({length:e-1}).map(((e,t)=>i.createElement("div",{key:t,className:"PRIVATE_TreeView-item-level-line"}))));N.displayName="LevelIndicatorLines",P.displayName="TreeView.Item";const _=({count:e,state:t,children:n})=>{const{announceUpdate:r}=i.useContext(A),{itemId:o,isExpanded:a,isSubTreeEmpty:l,setIsSubTreeEmpty:s}=i.useContext(S),c=i.useRef(null),d=i.useRef(null),[u,m]=i.useState(!1),f=function(e){const t=i.useRef(e);return i.useEffect((()=>{t.current=e}),[e]),t.current}(t),{safeSetTimeout:g}=(0,p.A)();return i.useEffect((()=>{void 0!==t&&"done"!==t||(l||n?l&&n&&s(!1):s(!0))}),[t,l,s,n]),i.useEffect((()=>{if("loading"===f&&"done"===t){var e;const t=document.getElementById(o);if(!t)return;const n=h(t);if(null!==(e=d.current)&&void 0!==e&&e.childElementCount?r(`${n} content loaded`):r(`${n} is empty`),u){const e=b(t);g(e?()=>{e.focus()}:()=>{t.focus()}),m(!1)}}}),[u,f,t,o,r,d,g]),i.useEffect((()=>{function e(){m(!0)}function t(e){e.relatedTarget&&m(!1)}const n=c.current;if(n)return n.addEventListener("focus",e),n.addEventListener("blur",t),()=>{n.removeEventListener("focus",e),n.removeEventListener("blur",t)}}),[c,t]),a?i.createElement("ul",{role:"group",style:{listStyle:"none",padding:0,margin:0},ref:d},"loading"===t?i.createElement(H,{ref:c,count:e}):n):null};_.displayName="SubTree",_.displayName="TreeView.SubTree";const M=a.Ay.span.attrs({className:"PRIVATE_TreeView-item-skeleton"}).withConfig({displayName:"TreeView__StyledSkeletonItemContainer",componentId:"sc-4ex6b6-1"})(["display:flex;align-items:center;column-gap:0.5rem;height:2rem;@media (pointer:coarse){height:2.75rem;}&:nth-of-type(5n + 1){--tree-item-loading-width:67%;}&:nth-of-type(5n + 2){--tree-item-loading-width:47%;}&:nth-of-type(5n + 3){--tree-item-loading-width:73%;}&:nth-of-type(5n + 4){--tree-item-loading-width:64%;}&:nth-of-type(5n + 5){--tree-item-loading-width:50%;}"]),L=(0,a.Ay)(V.r).withConfig({displayName:"TreeView__StyledSkeletonText",componentId:"sc-4ex6b6-2"})(["width:var(--tree-item-loading-width,67%);"]),j=()=>i.createElement(M,null,i.createElement(k.N,{size:16,square:!0}),i.createElement(L,null));j.displayName="SkeletonItem";const H=i.forwardRef((({count:e},t)=>{const n=(0,m.B)();return e?i.createElement(P,{id:n,ref:t},Array.from({length:e}).map(((e,t)=>i.createElement(j,{"aria-hidden":!0,key:t}))),i.createElement("div",{className:"PRIVATE_VisuallyHidden"},"Loading ",e," items")):i.createElement(P,{id:n,ref:t},i.createElement(D,null,i.createElement(s.A,{size:"small"})),i.createElement(c.A,{sx:{color:"fg.muted"}},"Loading..."))})),D=e=>{const{isExpanded:t,leadingVisualId:n}=i.useContext(S),r="function"==typeof e.children?e.children({isExpanded:t}):e.children;return i.createElement(i.Fragment,null,i.createElement("div",{className:"PRIVATE_VisuallyHidden","aria-hidden":!0,id:n},e.label),i.createElement("div",{className:"PRIVATE_TreeView-item-visual","aria-hidden":!0},r))};D.displayName="TreeView.LeadingVisual";const K=e=>{const{isExpanded:t,trailingVisualId:n}=i.useContext(S),r="function"==typeof e.children?e.children({isExpanded:t}):e.children;return i.createElement(i.Fragment,null,i.createElement("div",{className:"PRIVATE_VisuallyHidden","aria-hidden":!0,id:n},e.label),i.createElement("div",{className:"PRIVATE_TreeView-item-visual","aria-hidden":!0},r))};K.displayName="TreeView.TrailingVisual";const F=e=>{const{isExpanded:t}=i.useContext(S),n="function"==typeof e.children?e.children({isExpanded:t}):e.children;return i.createElement(i.Fragment,null,i.createElement("div",{className:"PRIVATE_VisuallyHidden","aria-hidden":!0},e.label),i.createElement("div",{className:"PRIVATE_TreeView-item-leading-action","aria-hidden":!0},n))};F.displayName="TreeView.LeadingAction";const $=()=>{const{isExpanded:e}=i.useContext(S),t=e?r.OpE:r.mL$;return i.createElement("div",{className:"PRIVATE_TreeView-directory-icon"},i.createElement(t,null))};$.displayName="DirectoryIcon";const z=({title:e="Error",children:t,onRetry:n,onDismiss:r})=>{const{itemId:o,setIsExpanded:a}=i.useContext(S);return i.createElement("div",{onKeyDown:e=>{["Backspace","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Enter"].includes(e.key)&&e.stopPropagation()}},i.createElement(l.K,{title:e,onClose:e=>{setTimeout((()=>{const e=document.getElementById(o);null==e||e.focus()})),"confirm"===e?null==n||n():(a(!1),null==r||r())},confirmButtonContent:"Retry",cancelButtonContent:"Dismiss"},t))};z.displayName="ErrorDialog",z.displayName="TreeView.ErrorDialog";const B=Object.assign(R,{Item:P,SubTree:_,LeadingAction:F,LeadingVisual:D,TrailingVisual:K,DirectoryIcon:$,ErrorDialog:z})},43:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(9387);const o={small:16,medium:32,large:64};function i({title:e,titleId:t,size:n,...i},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 72 72",fill:"currentColor","aria-hidden":"true",ref:a,width:n?"string"==typeof n?o[n]:n:"16px","aria-labelledby":t},i),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fill:"#D0CFCE",d:"M31.853 29.874V12.521H42.15v17.36h.048l4.051.002h13.357V40.18H46.256l-4.107-.003v18.675H31.853V40.17h-.1l-3.817-.002H14V29.87h13.933l3.836.003z"}),r.createElement("path",{fill:"none",stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,strokeWidth:2,d:"M31.853 29.874V12.521H42.15v17.36h.048l4.051.002h13.357V40.18H46.256l-4.107-.003v18.675H31.853V40.17h-.1l-3.817-.002H14V29.87h13.933l3.836.003z"}))}const a=r.forwardRef(i)},17310:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(9387);const o={small:16,medium:32,large:64};function i({title:e,titleId:t,size:n,...i},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 72 72",fill:"currentColor","aria-hidden":"true",ref:a,width:n?"string"==typeof n?o[n]:n:"16px","aria-labelledby":t},i),e?r.createElement("title",{id:t},e):null,r.createElement("circle",{cx:36.146,cy:36.428,r:22.543,fill:"#ea5a47"}),r.createElement("path",{fill:"#d22f27",d:"M52.524 20.931a22.544 22.544 0 01-36.242 26.145A22.542 22.542 0 1052.524 20.93z"}),r.createElement("path",{fill:"#f1b31c",d:"M52.794 22.755c7.674-.926 13.138-.024 14.191 2.849C68.825 30.622 56.51 39.754 39.478 46S7.146 53.242 5.306 48.224c-1.07-2.919 2.647-7.228 9.296-11.552l.076 1.553c-2.509 2.253-3.714 4.341-3.138 5.913 1.434 3.909 13.352 3.133 26.62-1.733S61.02 30.426 59.588 26.517c-.553-1.507-2.665-2.318-5.812-2.466z"}),r.createElement("g",{fill:"none",stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2},r.createElement("path",{d:"M17.156 46.594a21.539 21.539 0 1138.77-18.688M57.677 37.164a21.555 21.555 0 01-34.892 16.164"}),r.createElement("path",{d:"M52.794 22.755c7.674-.926 13.138-.024 14.191 2.849C68.825 30.622 56.51 39.754 39.478 46S7.146 53.242 5.306 48.224c-1.07-2.919 2.647-7.228 9.296-11.552"}),r.createElement("path",{d:"M53.776 24.05c3.147.15 5.259.96 5.811 2.467 1.434 3.91-8.16 11.023-21.428 15.888s-25.185 5.642-26.619 1.733c-.576-1.572.63-3.66 3.138-5.913"})))}const a=r.forwardRef(i)}}]);