"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2249],{9725:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>I,contentTitle:()=>w,default:()=>T,frontMatter:()=>S,metadata:()=>s,toc:()=>D});const s=JSON.parse('{"id":"data-platforms/data_platforms/index","title":"Data and Platforms","description":"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea","source":"@site/docs/data-platforms/2_data_platforms/index.mdx","sourceDirName":"data-platforms/2_data_platforms","slug":"/data-platforms/data_platforms/","permalink":"/content/f14ebb0a-f6f7-4eda-be53-b9a117d28a6b/static/docs-cdc-datahub/docs/data-platforms/data_platforms/","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/data-platforms/2_data_platforms/index.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Data and Platforms","sidebar_label":"Data and Platforms"},"sidebar":"data_platforms","previous":{"title":"Data Dictionary Decision","permalink":"/content/f14ebb0a-f6f7-4eda-be53-b9a117d28a6b/static/docs-cdc-datahub/docs/data-platforms/cdc-data-hub/Data Dictionary_Decision"},"next":{"title":"About Platforms","permalink":"/content/f14ebb0a-f6f7-4eda-be53-b9a117d28a6b/static/docs-cdc-datahub/docs/data-platforms/data_platforms/about"}}');var i=a(4848),r=a(8453),o=a(6540),n=a(4809),l=a.n(n),c=a(8445),d=a(2102),m=a(5107);const u={container:"container_Ctat",searchContainer:"searchContainer_Aibt",searchInput:"searchInput_oogh",searchButton:"searchButton_lLAT",horizontalFiltersContainer:"horizontalFiltersContainer_xcGS",horizontalFilterButton:"horizontalFilterButton_hTKK",filterButtons:"filterButtons_aQFY",clearFiltersButton:"clearFiltersButton_IJUL",showAllFilters:"showAllFilters__phZ",horizontalFilter:"horizontalFilter_isbe",open:"open_feqV",horizontalFilterOptions:"horizontalFilterOptions_EoQT",chevron:"chevron_EW1A",active:"active_qYco",inlineToggleButton:"inlineToggleButton_wsmZ",filterWrapper:"filterWrapper_gqip",verticalFilters:"verticalFilters_mCiJ",optionsList:"optionsList_dJzD",categoryFilters:"categoryFilters_BQUj",categoryFilter:"categoryFilter_LQCU",categoryButton:"categoryButton_A1w9",optionsWrapper:"optionsWrapper_POTc",optionLabel:"optionLabel_EbF3",content:"content_Lv8s",basicContent:"basicContent_T22W",results:"results_FVM1",foundItems:"foundItems_xpwe",dataAssetGrid:"dataAssetGrid_GIYa",assetTitle:"assetTitle_aAvf",assetDescription:"assetDescription_lfuh",detailsButton:"detailsButton_gP_T",buttonContainer:"buttonContainer_BvXS",requestAccessButton:"requestAccessButton_gUxy",pagination:"pagination_yhNY",paginationButton:"paginationButton_nFUT",paginationText:"paginationText_fMFB",switchModeLink:"switchModeLink_wn4a",dataAssetCard:"dataAssetCard_uws_",cardHeader:"cardHeader_hhkC",logoContainer:"logoContainer_Mr0j",logo:"logo_Y010",avatarPlaceholder:"avatarPlaceholder_wCkO",avatarIcon:"avatarIcon_G5lC",headerContent:"headerContent_SWSD",assetType:"assetType_fDaB",assetMetadata:"assetMetadata_TjfJ",metadataLabel:"metadataLabel_kA25",metadataValue:"metadataValue_D4Bt",dataFields:"dataFields_quJt",dataField:"dataField_dmrU",paginationContainer:"paginationContainer_naVA",paginationControls:"paginationControls_G4FF",paginationNumber:"paginationNumber_lIRC",paginationActive:"paginationActive_RRFs",paginationInfo:"paginationInfo_blWY",paginationIcon:"paginationIcon_BD3Y",loadingContainer:"loadingContainer_T26k",errorContainer:"errorContainer_yAhK",mainCategory:"mainCategory_T9nv",mainCategoryButton:"mainCategoryButton_goyM",subCategories:"subCategories_bMJK",resultsHeader:"resultsHeader_l8EY",viewToggle:"viewToggle_NGta",viewButton:"viewButton_qqYJ",dataAssetList:"dataAssetList_m8gT",dataAssetComparison:"dataAssetComparison_KLsq",listItem:"listItem_ENbS",listItemLogo:"listItemLogo_NuCx",logoPlaceholder:"logoPlaceholder_ec4M",listItemContent:"listItemContent_x0NY",listItemTitle:"listItemTitle_cutt",listItemDescription:"listItemDescription_AjuD",listItemAvailability:"listItemAvailability_fxKG",comparisonCard:"comparisonCard_pwlq",comparisonContainer:"comparisonContainer_iqqd",dragging:"dragging_WvNN",cardLogo:"cardLogo_sVRu",cardDescription:"cardDescription_Dsu3",cardAvailability:"cardAvailability_EGhM",metadataSection:"metadataSection_yWi8",metadataTitle:"metadataTitle_ZkIR",metadataGrid:"metadataGrid_DMhM",metadataGroup:"metadataGroup_Z4CW",metadataItem:"metadataItem_Vyxo",metadataSubItem:"metadataSubItem_qtW2",metadataSubSubItem:"metadataSubSubItem_vTFA",checkboxGrid:"checkboxGrid_c76P",checkboxItem:"checkboxItem_VTZG",checkbox:"checkbox_rmDc",checkboxLabel:"checkboxLabel_SXKY",checked:"checked_m8L2",cardContent:"cardContent_n0oW",cardTitle:"cardTitle_CT76",dragHandle:"dragHandle_qPUl",matchCount:"matchCount_fBa7",quickFilters:"quickFilters_y7G6",quickFilterTag:"quickFilterTag_bYrw",activeQuickFilter:"activeQuickFilter_dWiu",removeFilter:"removeFilter_Ocl2",quickFiltersContainer:"quickFiltersContainer_Qjzd",quickFilter:"quickFilter_RqJd",resultsControls:"resultsControls_M6Fq",sortControls:"sortControls__w9J",sortButton:"sortButton_jM4O",sortIcon:"sortIcon_rcSP",quickFilterContainer:"quickFilterContainer_j9ul",quickFilterButton:"quickFilterButton_V0H8"},p=e=>{let{isAdvancedMode:t,setIsAdvancedMode:a,folderStructure:s,dataCache:r,selectedItems:n,setSelectedItems:l,dataAssets:c={},onFilterToggle:p}=e;const[h,g]=(0,o.useState)({}),[f,C]=(0,o.useState)(null),[b,x]=(0,o.useState)(null),j=(0,o.useRef)({}),v=(0,o.useRef)({});(0,o.useEffect)((()=>{console.log("Current data state:",{assetsCount:Object.keys(c).length})}),[c]);const A=(e,t)=>{t.preventDefault(),x(b===e?null:e)},N=(e,t)=>{const[a,s]=e.split(".");return("Data Asset Name"===s?[...t].sort(((e,t)=>{const a=e=>"string"==typeof e?e:"object"==typeof e?e.name?e.name:e.dataAssetName?e.dataAssetName:JSON.stringify(e):String(e),s=a(e),i=a(t),r=e=>e.replace(/^(the|a|an) /i,""),o=r(s.toLowerCase()),n=r(i.toLowerCase()),l=e=>/^[A-Z0-9]{2,}(?:\s|$)/.test(e),c=l(s);return c===l(i)?o.localeCompare(n,void 0,{numeric:!0,sensitivity:"base"}):c?-1:1})):t).map((t=>{const a="object"==typeof t?t.name||JSON.stringify(t):String(t),[s,r]=e.split("."),o=n[s]?.[r]?.[a]||!1,l=((e,t)=>{const[a,s]=e.split(".");switch(s){case"Population Characteristics":const e=Object.values(c).filter((e=>e?.populationCharacteristics&&e.populationCharacteristics.some((e=>String(e).toLowerCase()===t.toLowerCase())))).length;return e>0?e:null;case"Data Asset Type":const a=Object.values(c).filter((e=>e?.dataAssetTypes?.some?.((e=>e?.toLowerCase?.()===t?.toLowerCase?.()))||!1)).length;return a>0?a:null;case"DataFields":const s=Object.values(c).filter((e=>e?.dataFields?.some?.((e=>e?.toLowerCase?.()===t?.toLowerCase?.()))||!1)).length;return s>0?s:null;case"Health Setting":const i=Object.values(c).filter((e=>e?.healthSettings?.some?.((e=>e?.toLowerCase?.()===t?.toLowerCase?.()))||!1)).length;return i>0?i:null;case"Topic":const r=Object.values(c).filter((e=>e?.topics?.some?.((e=>e?.toLowerCase?.()===t?.toLowerCase?.()))||!1)).length;return r>0?r:null;default:return null}})(e,a);return(0,i.jsxs)("label",{className:u.optionLabel,children:[(0,i.jsx)("input",{type:"checkbox",checked:o,onChange:()=>((e,t)=>{console.log("Checkbox changed:",{categoryPath:e,itemName:t,currentValue:n[e]?.[t]});const[a,s]=e.split(".");"Data Asset Name"===s?console.log("Handling Data Asset Name filter:",t):console.log("Handling other filter:",t),p(e,t)})(e,a),className:u.checkbox}),(0,i.jsxs)("div",{className:u.optionContent,children:[(0,i.jsx)("span",{className:u.optionText,children:"object"==typeof t?t.name:String(t)}),null!==l&&(0,i.jsxs)("span",{className:u.matchCount,children:["(",l,")"]})]})]},a)}))};return t?(0,i.jsx)("div",{className:u.verticalFilters,children:(0,i.jsx)("div",{className:u.categoryFilters,children:Object.entries(s).map((e=>{let[t,a]=e;return(0,i.jsxs)("div",{className:u.mainCategory,children:[(0,i.jsxs)("button",{onClick:e=>((e,t)=>{t.preventDefault(),C(f===e?null:e),x(null)})(t,e),className:u.mainCategoryButton,children:[t,f===t?(0,i.jsx)(d.A,{className:u.chevron}):(0,i.jsx)(m.A,{className:u.chevron})]}),f===t&&(0,i.jsx)("div",{className:u.subCategories,children:Object.keys(a).map((e=>{const a=`${t}.${e}`,s=r[a]||[],o=b===a;return(0,i.jsxs)("div",{className:`${u.categoryFilter} ${o?u.active:""}`,children:[(0,i.jsxs)("button",{onClick:e=>A(a,e),className:u.categoryButton,children:[e,o?(0,i.jsx)(d.A,{className:u.chevron}):(0,i.jsx)(m.A,{className:u.chevron})]}),o&&(0,i.jsx)("div",{className:u.optionsList,children:N(a,s)})]},a)}))})]},t)}))})}):(0,i.jsx)("div",{className:u.horizontalFiltersContainer,children:Object.keys(s["Filtered Attributes"]||{}).map((e=>{const t=`Filtered Attributes.${e}`,a=r[t]||[];return(0,i.jsxs)("div",{ref:e=>v.current[t]=e,className:u.horizontalFilter,onMouseEnter:()=>(e=>{g((t=>({...t,[e]:!0})))})(t),onMouseLeave:()=>(e=>{g((t=>({...t,[e]:!1})))})(t),children:[(0,i.jsxs)("button",{ref:e=>j.current[t]=e,onClick:e=>A(t,e),className:u.horizontalFilterButton,children:[e,h[t]?(0,i.jsx)(d.A,{className:u.chevron}):(0,i.jsx)(m.A,{className:u.chevron})]}),h[t]&&(0,i.jsx)("div",{className:u.horizontalFilterOptions,children:N(t,a)})]},t)}))})};var h=a(8774),g=a(8686);const f=e=>{let{title:t,description:a,type:s,sampleSize:r,dataFields:o,updateCadence:n,availability:l,detailsPath:c,logo:d,dataAssetTypes:m=[],onFilterClick:p}=e;const f=c||(e=>`/docs/data-populationCharacteristics/data_populationCharacteristics/${e.split(" ")[0].toLowerCase()}`)(t);return(0,i.jsxs)("div",{className:u.dataAssetCard,children:[(0,i.jsxs)("div",{className:u.cardHeader,children:[(0,i.jsx)("div",{className:u.logoContainer,children:d?(0,i.jsx)("img",{src:d,alt:`${t} logo`,className:u.logo}):(0,i.jsx)("div",{className:u.avatarPlaceholder,children:(0,i.jsx)(g.A,{className:u.avatarIcon})})}),(0,i.jsx)("div",{className:u.headerContent,children:(0,i.jsx)("h3",{className:u.assetTitle,children:t})})]}),(0,i.jsxs)("div",{className:u.cardContent,children:[(0,i.jsx)("p",{className:u.assetDescription,children:a}),Array.isArray(m)&&m.length>0&&(0,i.jsx)("div",{className:u.dataFields,children:m.map(((e,t)=>(0,i.jsx)("button",{onClick:()=>p?.(e),className:u.dataField,children:e},`${e}-${t}`)))}),(0,i.jsx)("div",{className:u.buttonContainer,children:(0,i.jsx)(h.A,{to:f,className:u.detailsButton,children:"Explore Details"})})]})]})},C=e=>{let{title:t="",possibleItems:a=[],characteristics:s={},dataAssetName:r=""}=e;if(!t||!r||!a.length)return null;const o=e=>{const a=(e=>{switch(e){case"Data Source Type":return"dataSourceTypes";case"Data Fields":return"dataFields";case"Health Setting":return"healthSettings";case"Topic":return"topics";case"Primary Funding Source":return"fundingSources";default:return""}})(t);if(!a||!s[r])return!1;const i=s[r][a];return Array.isArray(i)&&i.includes(e)};return(0,i.jsxs)("div",{className:u.metadataSection,children:[(0,i.jsx)("h4",{className:u.metadataTitle,children:t}),(0,i.jsx)("div",{className:u.checkboxGrid,children:a.map(((e,t)=>(0,i.jsxs)("div",{className:`${u.checkboxItem} ${o(e)?u.checked:""}`,children:[(0,i.jsx)("input",{type:"checkbox",checked:o(e),readOnly:!0,className:u.checkbox}),(0,i.jsx)("span",{className:u.checkboxLabel,children:e})]},`${e}-${t}`)))})]})},b=e=>{let{dataAsset:t={},dragHandleProps:a={},dataAssets:s={},allTypes:r={}}=e;if(!t)return console.warn("ComparisonCard: dataAsset prop is required"),null;const o=t.name||t.dataAssetName||"";if(!o)return console.warn("ComparisonCard: dataAsset must have either name or dataAssetName"),null;const n={dataSourceTypes:r.dataSourceTypes||[],dataFields:r.dataFields||[],healthSettings:r.healthSettings||[],topics:r.topics||[],fundingSources:r.fundingSources||[]};return(0,i.jsxs)("div",{className:u.cardContent,children:[(0,i.jsxs)("div",{className:u.cardHeader,children:[(0,i.jsx)("h3",{className:u.cardTitle,children:o}),(0,i.jsx)("div",{...a,className:u.dragHandle,children:"\u22ee\u22ee"})]}),(0,i.jsx)("button",{onClick:()=>console.log(`Requesting access to ${o}`),className:u.requestAccessButton,children:"Request Access"}),(0,i.jsx)(C,{title:"Data Source Type",possibleItems:n.dataSourceTypes,characteristics:s,dataAssetName:o}),(0,i.jsx)(C,{title:"Data Fields",possibleItems:n.dataFields,characteristics:s,dataAssetName:o}),(0,i.jsx)(C,{title:"Health Setting",possibleItems:n.healthSettings,characteristics:s,dataAssetName:o}),(0,i.jsx)(C,{title:"Topic",possibleItems:n.topics,characteristics:s,dataAssetName:o}),(0,i.jsx)(C,{title:"Primary Funding Source",possibleItems:n.fundingSources,characteristics:s,dataAssetName:o})]})};var x=a(4625);const j=e=>{let{title:t,description:a,logo:s,availability:r,dataFields:o,dataSourceTypes:n=[]}=e;return(0,i.jsxs)("div",{className:u.listItem,children:[(0,i.jsx)("div",{className:u.listItemLogo,children:s?(0,i.jsx)("img",{src:s,alt:t,className:u.logo}):(0,i.jsx)("div",{className:u.logoPlaceholder,children:(0,i.jsx)(g.A,{className:u.avatarIcon})})}),(0,i.jsxs)("div",{className:u.listItemContent,children:[(0,i.jsx)("h3",{className:u.listItemTitle,children:t}),(0,i.jsx)("p",{className:u.listItemDescription,children:a}),n?.length>0&&(0,i.jsx)("div",{className:u.dataFields,children:n.map(((e,t)=>(0,i.jsx)("span",{className:u.dataField,children:e},t)))})]}),(0,i.jsx)("div",{className:u.buttonContainer,children:(0,i.jsx)(x.N_,{to:`/docs/data-populationCharacteristics/data_populationCharacteristics/${t.toLowerCase()}`,className:u.requestAccessButton,children:"Product Details"})})]})};var v=a(6025),A=a(468),N=a(737),y=a(9251);const F=e=>{let{currentView:t,onViewChange:a}=e;return(0,i.jsxs)("div",{className:u.viewToggle,children:[(0,i.jsxs)("button",{className:`${u.viewButton} ${"grid"===t?u.active:""}`,onClick:()=>a("grid"),title:"Grid View",children:[(0,i.jsx)(A.A,{size:20})," ",(0,i.jsx)("span",{children:" Grid"})]}),(0,i.jsxs)("button",{className:`${u.viewButton} ${"list"===t?u.active:""}`,onClick:()=>a("list"),title:"List View",children:[(0,i.jsx)(N.A,{size:20})," ",(0,i.jsx)("span",{children:"List"})]}),(0,i.jsxs)("button",{className:`${u.viewButton} ${"comparison"===t?u.active:""}`,onClick:()=>a("comparison"),title:"Comparison View",children:[(0,i.jsx)(y.A,{size:20}),(0,i.jsx)("span",{children:" Compare"})]})]})};var _=a(687);function L(){const e=(0,v.Ay)("data/comparison"),[t,a]=(0,o.useState)(!1),[s,r]=(0,o.useState)(""),[n,d]=(0,o.useState)({}),[m,h]=(0,o.useState)({}),[g,C]=(0,o.useState)(!0),[x,A]=(0,o.useState)(null),[N,y]=(0,o.useState)("grid"),[L,S]=(0,o.useState)([]),[w,I]=(0,o.useState)({dataAssetTypes:[],dataFields:[],healthSettings:[],topics:[],fundingSources:[],populationCharacteristics:[]}),[D,k]=(0,o.useState)([]),[T,B]=(0,o.useState)([]),[P,q]=(0,o.useState)({}),[$]=(0,o.useState)({"Filtered Attributes":{"Data Asset Name":!0,"Data Asset Type":!0,DataFields:!0,"Population Characteristics":!0,"Primary Funding Source":!0,"Health Setting":!0,Topic:!0},Geographies:{"Census District":!0,"Census Region":!0,County:!0,State:!0},Population:{"Age Group":!0,Race:!0},"Additional Attributes":{"Annual Sample Size":!0,Availability:!0,"Update Cadence":!0,"Data Lag":!0,"Data Size":!0,"Data Structure":!0}}),[z,O]=(0,o.useState)({field:"name",order:"asc"}),R=()=>{let e=[...D];if(console.log("Starting filtering with:",{totalAssets:e.length,dataAssetsRecord:P,selectedItems:n}),s){const t=s.toLowerCase();e=e.filter((e=>e.name?.toLowerCase().includes(t)||e.description?.toLowerCase().includes(t)))}return Object.entries(n).forEach((t=>{let[a,s]=t;Object.entries(s).forEach((t=>{let[s,i]=t;const r=Object.entries(i).filter((e=>{let[t,a]=e;return a})).map((e=>{let[t]=e;return t}));console.log("Processing filters:",{section:a,subSection:s,selectedValues:r}),r.length>0&&(e=e.filter((e=>{const t=P[e.name];switch(console.log("Checking asset:",{name:e.name,record:t}),s){case"Data Asset Name":return r.some((t=>t?.toLowerCase()===e.name?.toLowerCase()));case"Data Asset Type":const a=t?.dataAssetTypes||[],s=r.some((e=>a.some((t=>t.toLowerCase().trim()===e.toLowerCase().trim()))));return console.log("Type matching:",{assetName:e.name,types:a,selectedValues:r,matches:s}),s;case"DataFields":return r.some((e=>t?.dataFields?.some((t=>t.toLowerCase().trim()===e.toLowerCase().trim()))));case"Population Characteristics":return r.some((e=>t?.populationCharacteristics?.some((t=>t.toLowerCase().trim()===e.toLowerCase().trim()))));case"Primary Funding Source":return r.some((e=>t?.fundingSources?.some((t=>t.toLowerCase().trim()===e.toLowerCase().trim()))));case"Health Setting":return r.some((e=>t?.healthSettings?.some((t=>t.toLowerCase().trim()===e.toLowerCase().trim()))));case"Topic":return r.some((e=>t?.topics?.some((t=>t.toLowerCase().trim()===e.toLowerCase().trim()))));case"Update Cadence":return r.some((e=>t?.updateCadence?.some((t=>t.toLowerCase().trim()===e.toLowerCase().trim()))));case"Data Lag":return r.some((e=>t?.dataLag?.some((t=>t.toLowerCase().trim()===e.toLowerCase().trim()))));case"Data Size":return r.some((e=>t?.dataSize?.some((t=>t.toLowerCase().trim()===e.toLowerCase().trim()))));case"Data Structure":return r.some((e=>t?.dataStructure?.some((t=>t.toLowerCase().trim()===e.toLowerCase().trim()))));case"Annual Sample Size":return r.some((e=>t?.annualSampleSize?.some((t=>t.toLowerCase().trim()===e.toLowerCase().trim()))));default:return!0}})))}))})),console.log("Final filtered results:",{totalAssets:D.length,filteredCount:e.length}),e},M=(e,t)=>{console.log("handleFilterToggle called with:",{categoryPath:e,filterName:t}),d((a=>{const[s,i]=e.split("."),r={...a,[s]:{...a[s],[i]:{...a[s]?.[i],[t]:!a[s]?.[i]?.[t]}}};console.log("New filter state:",{category:s,subSection:i,filterName:t,oldValue:a[s]?.[i]?.[t],newValue:!a[s]?.[i]?.[t]});const o=R();return B(o),r}))},G=e=>{let{categoryPath:t,filterName:a,label:s}=e;const r=n[t]?.[a]||{},o=Object.values(r).some(Boolean);return(0,i.jsx)("div",{className:u.quickFilterContainer,children:(0,i.jsx)("label",{className:`${u.quickFilterButton} ${o?u.active:""}`,onClick:()=>{d((e=>{const s=e[t]?.[a]||{},i=Object.values(s).every((e=>!1===e));return{...e,[t]:{...e[t],[a]:Object.keys(s).reduce(((e,t)=>({...e,[t]:i})),{})}}}))},children:s})})},H=e=>{const{source:t,destination:a}=e;if(!a)return;if(t.index===a.index)return;const s=Array.from(L),[i]=s.splice(t.index,1);s.splice(a.index,0,i),S(s)},E=e=>e&&"string"==typeof e?e.replace(/\ufffd/g,"'").replace(/[\u0080-\u009F\u00A0-\u00FF]/g,(e=>({"\ufffd":"'","\ufffd":'"',"\ufffd":'"',"\ufffd":"-","\u2026":"..."}[e]||e))).trim():"",V=async()=>{try{const t=`${e}/data_characteristics_grid.csv`,a=await fetch(t);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const s=await a.text(),i=await new Promise(((e,t)=>{l().parse(s,{header:!0,skipEmptyLines:!0,complete:t=>{console.log("Papa Parse results:",{fields:t.meta.fields,rowCount:t.data.length}),e(t)},error:e=>{console.error("Papa Parse error:",e),t(e)}})})),r=i.data.filter((e=>e.Category));if(console.log("Filtered data after Category filter:",{totalRows:r.length,categories:[...new Set(r.map((e=>e.Category)))],sampleRow:r[0]}),0===r.length)throw new Error("No data after filtering for Categories");const{processedDataAssets:o,dataAssets:n}=(e=>{if(!e||!Array.isArray(e)||0===e.length)return console.error("Invalid or empty data provided to processDataAssets"),{processedDataAssets:[],dataAssets:{}};const t=Object.keys(e[0]||{}).filter((e=>!["Category","List","List Item","Count","Years","Contract Status","Ongoing"].includes(e)&&""!==e.trim()));console.log("Data structure check:",{totalRows:e.length,descriptionRows:e.filter((e=>"Description"===e.List)).length,sampleRow:e[0],dataAssetNames:t});const a={},s=e.filter((e=>"Description"===e.List));t.forEach((e=>{const t=s.find((t=>t[e]));t?a[e]=t[e]:console.warn(`No description found for ${e}`)})),console.log("Extracted descriptions:",a);const i=t.map((t=>{const s={logo:`../../../img/logos/${t.replace(/ /g,"-")}.png`,name:t,dataAssetName:t,description:E(a[t]),availability:E(e.find((e=>"Availability"===e.List&&e[t]))?.["List Item"])};return console.log(`Processing asset ${t}:`,{rawDescription:a[t],sanitizedDescription:s.description}),s})),r={};return t.forEach((t=>{r[t]={dataAssetTypes:e.filter((e=>"Data Asset Type"===e.List&&"X"===e[t])).map((e=>E(e["List Item"]))).filter(Boolean)||[],dataFields:e.filter((e=>"Data Fields Available"===e.List&&"X"===e[t])).map((e=>E(e["List Item"]))).filter(Boolean)||[],healthSettings:e.filter((e=>"Health Setting"===e.List&&"X"===e[t])).map((e=>E(e["List Item"]))).filter(Boolean)||[],topics:e.filter((e=>"Topic"===e.List&&"X"===e[t])).map((e=>E(e["List Item"]))).filter(Boolean)||[],fundingSources:e.filter((e=>"Primary Funding Source"===e.List&&"X"===e[t])).map((e=>E(e["List Item"]))).filter(Boolean)||[],populationCharacteristics:e.filter((e=>"Population Characteristics"===e.List&&"X"===e[t])).map((e=>E(e["List Item"]))).filter(Boolean)||[],annualSampleSize:e.filter((e=>"Annual Sample Size"===e.List&&"X"===e[t])).map((e=>E(e["List Item"]))).filter(Boolean)||[],updateCadence:e.filter((e=>"Update Cadence"===e.List&&"X"===e[t])).map((e=>E(e["List Item"]))).filter(Boolean)||[],dataLag:e.filter((e=>"Data Lag"===e.List&&"X"===e[t])).map((e=>E(e["List Item"]))).filter(Boolean)||[],dataSize:e.filter((e=>"Data Size"===e.List&&"X"===e[t])).map((e=>E(e["List Item"]))).filter(Boolean)||[],dataStructure:e.filter((e=>"Data Structure"===e.List&&"X"===e[t])).map((e=>E(e["List Item"]))).filter(Boolean)||[],censusRegion:e.filter((e=>"Census Region"===e.List&&"X"===e[t])).map((e=>E(e["List Item"]))).filter(Boolean)||[],censusDistrict:e.filter((e=>"Census District"===e.List&&"X"===e[t])).map((e=>E(e["List Item"]))).filter(Boolean)||[],county:e.filter((e=>"County"===e.List&&"X"===e[t])).map((e=>E(e["List Item"]))).filter(Boolean)||[],state:e.filter((e=>"State"===e.List&&"X"===e[t])).map((e=>E(e["List Item"]))).filter(Boolean)||[],ageGroup:e.filter((e=>"Age Group"===e.List&&"X"===e[t])).map((e=>E(e["List Item"]))).filter(Boolean)||[],race:e.filter((e=>"Race"===e.List&&"X"===e[t])).map((e=>E(e["List Item"]))).filter(Boolean)||[]}})),{processedDataAssets:i,dataAssets:r}})(r);k(o),q(n);const c=e=>{console.log(`Getting types for ${e}:`,{totalRows:r.length,sampleRow:r[0]});const t=r.filter((t=>t.List===e));console.log("After List filter:",{listName:e,matchingRows:t.length,firstFewRows:t.slice(0,3)});const a=t.map((e=>e["List Item"]));console.log("After mapping to List Items:",{listName:e,totalItems:a.length,firstFewItems:a.slice(0,3),nullOrUndefinedCount:a.filter((e=>!e)).length});const s=a.filter((e=>e&&!e.startsWith("Any")));return console.log("Final filtered items:",{listName:e,totalFinalItems:s.length,allFinalItems:s,removedItemsCount:a.length-s.length}),s};I({dataAssetTypes:c("Data Asset Type"),dataFields:c("Data Fields Available"),healthSettings:c("Health Setting"),topics:c("Topic"),fundingSources:c("Primary Funding Source"),populationCharacteristics:c("Population Characteristics")});const m={},u={};Object.entries($).forEach((e=>{let[t,a]=e;u[t]={},Object.entries(a).forEach((e=>{let[a]=e,s=[];switch(a){case"Data Asset Name":s=o.map((e=>e.name));break;case"Data Asset Type":s=c("Data Asset Type");break;case"DataFields":s=c("Data Fields Available");break;case"Population Characteristics":s=c("Population Characteristics");break;case"Primary Funding Source":s=c("Primary Funding Source");break;case"Health Setting":s=c("Health Setting");break;case"Topic":s=c("Topic");break;case"Census Region":s=c("Census Region");break;case"Census District":s=c("Census District");break;case"County":s=c("County");break;case"State":s=c("State");break;case"Age Group":s=c("Age Group");break;case"Race":s=c("Race");break;default:s=r.filter((e=>e.List===a)).map((e=>e["List Item"])).filter((e=>e&&e.trim()))}if(s.length>0){m[`${t}.${a}`]=s.map((e=>({name:e}))),u[t][a]=s.reduce(((e,t)=>({...e,[t]:!1})),{})}}))})),h(m),d(u),console.log("Processed DataAssets:",o),console.log("dataAssets:",n),console.log("Data Cache:",m),console.log("Selected Items:",u)}catch(x){throw console.error("Error in loadAllData:",x),A("Failed to load data"),x}};(0,o.useEffect)((()=>{(async()=>{try{C(!0),await V(),C(!1)}catch(x){A("Failed to initialize component"),C(!1)}})()}),[e]),(0,o.useEffect)((()=>{if("comparison"===N){const e=R();0!==L.length&&e.every((e=>L.includes(e.name||e.dataAssetName)))||S(e.map((e=>e.name||e.dataAssetName)))}}),[N,D,s,n]),(0,o.useEffect)((()=>{console.log("SelectedItems updated:",n)}),[n]),(0,o.useEffect)((()=>{const e=R();B(e)}),[D]);const X=()=>{const e=R();switch(N){case"list":return(0,i.jsx)("div",{className:u.dataAssetList,children:e.map(((e,t)=>(0,i.jsx)(j,{title:e.name,description:e.description,availability:e.availability,logo:e.logo,dataFields:e.dataFields?e.dataFields:[]},t)))});case"comparison":return(0,i.jsx)(_.JY,{onDragEnd:H,children:(0,i.jsx)(_.gL,{droppableId:"comparisonGrid",direction:"horizontal",children:t=>(0,i.jsxs)("div",{className:u.comparisonContainer,ref:t.innerRef,...t.droppableProps,children:[L.map(((t,a)=>{const s=e.find((e=>e.name===t));return s?(0,i.jsx)(_.sx,{draggableId:t,index:a,children:(e,t)=>(0,i.jsx)("div",{ref:e.innerRef,...e.draggableProps,className:`${u.comparisonCard} ${t.isDragging?u.dragging:""}`,children:(0,i.jsx)(b,{dataAsset:s,dragHandleProps:e.dragHandleProps,dataAssets:P,allTypes:w,dataFields:s.dataFields?s.dataFields:[]})})},t):null})),t.placeholder]})})});default:return(0,i.jsx)("div",{className:u.dataAssetGrid,children:e.map(((e,t)=>(0,i.jsx)(f,{title:e.name,type:e.type,sampleSize:e.sampleSize,dataFields:e.dataFields,updateCadence:D[t]?.updateCadence,availability:e.availability,detailsPath:e.detailsPath,logo:e.logo,dataAssetTypes:P[e.name]?.dataAssetTypes||[],description:e.description,onFilterClick:e=>{console.log("Filter clicked:",e),M("Filtered Attributes.Data Asset Type",e)}},t)))})}};return g?(0,i.jsx)("div",{className:u.loadingContainer,children:(0,i.jsx)("div",{className:u.loadingSpinner,children:"Loading data assets..."})}):x?(0,i.jsx)("div",{className:u.errorContainer,children:(0,i.jsx)("div",{className:u.errorMessage,children:x})}):(0,i.jsxs)("div",{className:u.container,children:[(0,i.jsxs)("div",{className:u.searchContainer,children:[(0,i.jsxs)("div",{style:{display:"flex",flex:1},children:[(0,i.jsx)("input",{type:"text",value:s,onChange:e=>r(e.target.value),placeholder:"Search Data Assets",className:u.searchInput}),(0,i.jsx)("button",{className:u.searchButton,children:(0,i.jsx)(c.A,{className:u.searchIcon})})]}),(0,i.jsxs)("div",{className:u.filterButtons,children:[(0,i.jsx)("button",{onClick:()=>a(!t),className:u.showAllFilters,children:t?"Show Basic Filters":"Show All Filters"}),(0,i.jsx)("button",{onClick:()=>{d((e=>Object.keys(e).reduce(((t,a)=>({...t,[a]:Object.keys(e[a]).reduce(((e,t)=>({...e,[t]:!1})),{})})),{}))),r("")},className:u.clearFiltersButton,children:"Clear Filters"})]})]}),t?(0,i.jsxs)("div",{className:u.content,children:[(0,i.jsx)(p,{isAdvancedMode:t,setIsAdvancedMode:a,folderStructure:$,dataCache:m,selectedItems:n,setSelectedItems:d,dataAssets:P,onFilterToggle:(e,t)=>{console.log("Filter clicked in FilterNavigation:",{categoryPath:e,filterName:t}),M(e,t)}}),(0,i.jsxs)("div",{className:u.results,children:[(0,i.jsxs)("div",{className:u.resultsHeader,children:[(0,i.jsxs)("div",{className:u.resultsControls,children:[(0,i.jsxs)("p",{className:u.foundItems,children:["Found ",R().length," Items"]}),(0,i.jsxs)("div",{className:u.sortControls,children:[(0,i.jsx)("span",{children:"Quick Filter by:"}),(0,i.jsx)(G,{categoryPath:"Additional Attributes",filterName:"Data Lag.<1 Month",label:"<1 Month Data Lag"}),(0,i.jsx)(G,{categoryPath:"Additional Attributes",filterName:"Data Lag.<1 Month",label:"Provided at no charge to program"})]})]}),(0,i.jsx)(F,{currentView:N,onViewChange:y})]}),X()]})]}):(0,i.jsxs)("div",{className:u.basicContent,children:[(0,i.jsx)(p,{isAdvancedMode:t,setIsAdvancedMode:a,folderStructure:$,dataCache:m,selectedItems:n,setSelectedItems:d,dataAssets:P,onFilterToggle:(e,t)=>{console.log("Filter clicked in FilterNavigation:",{categoryPath:e,filterName:t}),M(e,t)}}),(0,i.jsxs)("div",{className:u.results,children:[(0,i.jsxs)("div",{className:u.resultsHeader,children:[(0,i.jsxs)("p",{className:u.foundItems,children:["Found ",R().length," Items"]}),(0,i.jsxs)("div",{className:u.sortControls,children:[(0,i.jsx)("span",{children:"Quick Filter by:"}),(0,i.jsx)(G,{categoryPath:"Additional Attributes",filterName:"Data Lag.<1 Month",label:"<1 Month Data Lag"}),(0,i.jsx)(G,{categoryPath:"Additional Attributes",filterName:"Data Lag.<1 Month",label:"Provided at no charge to program"})]}),(0,i.jsx)(F,{currentView:N,onViewChange:y})]}),X()]})]})]})}const S={sidebar_position:1,title:"Data and Platforms",sidebar_label:"Data and Platforms"},w="Data and Platforms",I={},D=[];function k(e){const t={h1:"h1",header:"header",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"data-and-platforms",children:"Data and Platforms"})}),"\n",(0,i.jsx)(t.p,{children:"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea\r\ncommodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum\r\ndolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa."}),"\n",(0,i.jsx)(L,{})]})}function T(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(k,{...e})}):k(e)}}}]);