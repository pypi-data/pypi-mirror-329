"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4651],{6737:(n,e,o)=>{o.r(e),o.d(e,{assets:()=>b,contentTitle:()=>u,default:()=>w,frontMatter:()=>m,metadata:()=>r,toc:()=>g});const r=JSON.parse('{"id":"data-platforms/demos/dashboards","title":"Dashboards","description":"Examples of CDC Dashboard Components","source":"@site/docs/data-platforms/7_demos/dashboards.mdx","sourceDirName":"data-platforms/7_demos","slug":"/data-platforms/demos/dashboards","permalink":"/content/f14ebb0a-f6f7-4eda-be53-b9a117d28a6b/static/docs-cdc-datahub/docs/data-platforms/demos/dashboards","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/data-platforms/7_demos/dashboards.mdx","tags":[],"version":"current","frontMatter":{"title":"Dashboards","description":"Examples of CDC Dashboard Components"},"sidebar":"data_platforms","previous":{"title":"Charts","permalink":"/content/f14ebb0a-f6f7-4eda-be53-b9a117d28a6b/static/docs-cdc-datahub/docs/data-platforms/demos/charts"},"next":{"title":"Maps","permalink":"/content/f14ebb0a-f6f7-4eda-be53-b9a117d28a6b/static/docs-cdc-datahub/docs/data-platforms/demos/map"}}');var t=o(4848),a=o(8453),s=o(6540),i=o(7494);const d={"chart-container":"chart-container_ni1O","tooltip-boundary":"tooltip-boundary_Cs0q","visx-group":"visx-group_lRTS",viewConfigButton:"viewConfigButton_MzaI",modalOverlay:"modalOverlay_B3Ak",modalContent:"modalContent_zM5A",closeButton:"closeButton_xQyJ",copyButton:"copyButton__pVB"},l=n=>{let{config:e}=n;const[o,r]=(0,s.useState)(!1),[a,i]=(0,s.useState)(!1);return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("button",{onClick:()=>r(!o),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:o?"Hide Config":"View Config"}),o&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center p-4 border-b",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Configuration"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:async()=>{try{await navigator.clipboard.writeText(JSON.stringify(e,null,2)),i(!0),setTimeout((()=>i(!1)),2e3)}catch(n){console.error("Failed to copy:",n)}},className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded text-sm transition-colors",children:a?"Copied!":"Copy"}),(0,t.jsx)("button",{onClick:()=>r(!1),className:"px-3 py-1 bg-red-100 hover:bg-red-200 rounded text-sm transition-colors",children:"Close"})]})]}),(0,t.jsx)("div",{className:"overflow-auto p-4 flex-grow",children:(0,t.jsx)("pre",{className:"text-sm whitespace-pre-wrap",children:JSON.stringify(e,null,2)})})]})})]})};class c extends s.Component{constructor(n){super(n),this.state={hasError:!1,errorMessage:"",errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0,errorMessage:n.message,errorInfo:null}}componentDidCatch(n,e){console.error("Error:",n),console.error("Error Info:",e),this.setState({errorInfo:e})}handleFilterError=()=>{try{this.props.onFilterError&&this.props.onFilterError(),setTimeout((()=>{this.setState({hasError:!1,errorMessage:"",errorInfo:null})}),100)}catch(n){console.error("Error recovery failed:",n)}};render(){return this.state.hasError?(0,t.jsxs)("div",{style:{padding:"20px",margin:"10px",border:"1px solid #ffcdd2",borderRadius:"4px",backgroundColor:"#ffebee"},children:[(0,t.jsx)("h3",{style:{color:"#d32f2f"},children:"Dashboard Error"}),(0,t.jsx)("p",{children:"An error occurred while loading the dashboard."}),(0,t.jsx)("button",{onClick:()=>{this.setState({hasError:!1,errorMessage:"",errorInfo:null}),this.props.onRetry&&this.props.onRetry()},style:{padding:"8px 16px",backgroundColor:"#d32f2f",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Retry"})]}):this.props.children}}const h=n=>{let{config:e,...o}=n;const[r,a]=(0,s.useState)(0),[i,d]=(0,s.useState)(!0);(0,s.useEffect)((()=>{d(!1)}),[e]);return i?(0,t.jsx)("div",{children:"Loading dashboard..."}):(0,t.jsx)(c,{onFilterError:()=>{o.onFilterError&&o.onFilterError(),a((n=>n+1))},onRetry:()=>{d(!0),a((n=>n+1)),setTimeout((()=>d(!1)),100)},children:(0,t.jsx)("div",{style:{position:"relative",minHeight:"400px"},children:(0,t.jsx)(p,{config:e,...o})})},r)},p=n=>{const e=(0,s.useRef)(null);(0,s.useEffect)((()=>{const n=document.createElement("style");return n.innerHTML="\n    .dashboardWrapper {\n      display: flex;\n      flex-direction: column;\n      width: 100%;\n      padding: 20px;\n      background-color: #fff;\n    }\n\n    .dashboard-container {\n      width: 100%;\n      min-height: 800px;\n      padding: 0;\n      margin: 0;\n    }\n\n    .dashboard-title {\n      background-color: #0071bc;\n      color: white;\n      padding: 10px 15px;\n      margin-bottom: 20px;\n    }\n\n    .dashboard-title h2 {\n      margin: 0;\n      font-size: 18px;\n      font-weight: 600;\n    }\n\n    /* Filter container styles */\n    .cove-dashboard-filters-container {\n      background-color: #f8f9fa;\n      padding: 20px;\n      margin-bottom: 20px;\n      border: 1px solid #dee2e6;\n    }\n\n    .cove-dashboard-filters-container form {\n      display: flex;\n      gap: 20px;\n      flex-wrap: wrap;\n    }\n\n    .form-group {\n      flex: 0 1 250px;\n      margin: 0;\n    }\n\n    .form-group label {\n      display: block;\n      margin-bottom: 8px;\n      color: #333;\n      font-size: 14px;\n    }\n\n    .cove-form-select {\n      width: 100%;\n      height: 38px;\n      padding: 6px 12px;\n      font-size: 14px;\n      border: 1px solid #ced4da;\n      border-radius: 4px;\n      background-color: white;\n    }\n\n    /* Data visualization section */\n    .row {\n      margin: 0 -10px;\n      display: flex;\n      flex-wrap: wrap;\n    }\n\n    .col-12 {\n      padding: 10px;\n      width: 100%;\n    }\n\n    .col-md-6 {\n      width: 100%;\n    }\n\n    @media (min-width: 768px) {\n      .col-md-6 {\n        width: 50%;\n      }\n    }\n\n    /* Data bite styles */\n    .bite {\n      background-color: #f8f9fa;\n      border: 1px solid #dee2e6;\n      padding: 20px;\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n    }\n\n    .bite-value {\n      font-size: 48px;\n      font-weight: bold;\n      color: #0071bc;\n      margin-bottom: 10px;\n    }\n\n    .bite-text {\n      font-size: 16px;\n      color: #333;\n      margin-bottom: 10px;\n    }\n\n    .bite-subtext {\n      font-size: 12px;\n      color: #666;\n    }\n\n    /* Chart container */\n    .chart-container {\n      background-color: #f8f9fa;\n      border: 1px solid #dee2e6;\n      padding: 20px;\n      height: 100%;\n      min-height: 400px;\n    }\n\n    /* Fix SVG rendering */\n    .tooltip-boundary {\n      width: 100% !important;\n      overflow: visible !important;\n    }\n\n    svg {\n      max-width: 100%;\n      height: auto;\n    }\n\n    .chart-container {\n  width: 100%;\n  min-height: 600px;\n  height: auto;\n  position: relative;\n}\n\n.tooltip-boundary {\n  width: 100% !important;\n  min-width: 800px;\n  height: 600px;\n  position: relative;\n  overflow: visible !important;\n}\n\n.sankey-chart {\n  width: 100%;\n  height: 100%;\n}\n\n.sankey-chart__diagram {\n  width: 100% !important;\n  height: 100% !important;\n  min-width: 800px;\n  min-height: 600px;\n}\n  \n    ",document.head.appendChild(n),()=>{document.head.removeChild(n)}}),[]);if(!n.config)return(0,t.jsx)("div",{className:"error",children:"No dashboard configuration provided"});const o=(n=>{if(!n)return null;try{const e={...n};return e.data=Array.isArray(e.data)?e.data:[],e.panels=Array.isArray(e.panels)?e.panels:[],e.panels=e.panels.map((n=>({data:[],...n}))),e}catch(e){return console.error("Error processing dashboard config:",e),null}})(n.config);return o?(0,t.jsx)("div",{ref:e,style:{minHeight:"400px",width:"100%",position:"relative"},children:(0,t.jsx)(c,{children:(0,t.jsx)(i.A,{...n,config:o,onError:n=>{console.error("Dashboard error:",n)}})})}):(0,t.jsx)("div",{className:"error",children:"Invalid dashboard configuration"})},f=()=>{const[n,e]=(0,s.useState)(!1);return(0,t.jsx)("button",{onClick:async()=>{try{await navigator.clipboard.writeText("\n    .dashboardWrapper {\n      display: flex;\n      flex-direction: column;\n      width: 100%;\n      padding: 20px;\n      background-color: #fff;\n    }\n\n    .dashboard-container {\n      width: 100%;\n      min-height: 800px;\n      padding: 0;\n      margin: 0;\n    }\n\n    .dashboard-title {\n      background-color: #0071bc;\n      color: white;\n      padding: 10px 15px;\n      margin-bottom: 20px;\n    }\n\n    .dashboard-title h2 {\n      margin: 0;\n      font-size: 18px;\n      font-weight: 600;\n    }\n\n    /* Filter container styles */\n    .cove-dashboard-filters-container {\n      background-color: #f8f9fa;\n      padding: 20px;\n      margin-bottom: 20px;\n      border: 1px solid #dee2e6;\n    }\n\n    .cove-dashboard-filters-container form {\n      display: flex;\n      gap: 20px;\n      flex-wrap: wrap;\n    }\n\n    .form-group {\n      flex: 0 1 250px;\n      margin: 0;\n    }\n\n    .form-group label {\n      display: block;\n      margin-bottom: 8px;\n      color: #333;\n      font-size: 14px;\n    }\n\n    .cove-form-select {\n      width: 100%;\n      height: 38px;\n      padding: 6px 12px;\n      font-size: 14px;\n      border: 1px solid #ced4da;\n      border-radius: 4px;\n      background-color: white;\n    }\n\n    /* Data visualization section */\n    .row {\n      margin: 0 -10px;\n      display: flex;\n      flex-wrap: wrap;\n    }\n\n    .col-12 {\n      padding: 10px;\n      width: 100%;\n    }\n\n    .col-md-6 {\n      width: 100%;\n    }\n\n    @media (min-width: 768px) {\n      .col-md-6 {\n        width: 50%;\n      }\n    }\n\n    /* Data bite styles */\n    .bite {\n      background-color: #f8f9fa;\n      border: 1px solid #dee2e6;\n      padding: 20px;\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n    }\n\n    .bite-value {\n      font-size: 48px;\n      font-weight: bold;\n      color: #0071bc;\n      margin-bottom: 10px;\n    }\n\n    .bite-text {\n      font-size: 16px;\n      color: #333;\n      margin-bottom: 10px;\n    }\n\n    .bite-subtext {\n      font-size: 12px;\n      color: #666;\n    }\n\n    /* Chart container */\n    .chart-container {\n      background-color: #f8f9fa;\n      border: 1px solid #dee2e6;\n      padding: 20px;\n      height: 100%;\n      min-height: 400px;\n    }\n\n    /* Fix SVG rendering */\n    .tooltip-boundary {\n      width: 100% !important;\n      overflow: visible !important;\n    }\n\n    svg {\n      max-width: 100%;\n      height: auto;\n    }"),e(!0),setTimeout((()=>e(!1)),2e3)}catch(n){console.error("Failed to copy styles:",n)}},style:{position:"fixed",bottom:"20px",right:"20px",padding:"10px 20px",backgroundColor:n?"#28a745":"#0071bc",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",transition:"all 0.3s ease",zIndex:1e3},children:n?"Copied!":"Copy Dashboard Styles"})},x=()=>{const[n,e]=(0,s.useState)(null),[o,r]=(0,s.useState)([]),[a,i]=(0,s.useState)(""),[c,p]=(0,s.useState)([]),[x,m]=(0,s.useState)(""),[u,b]=(0,s.useState)([]),[g,y]=(0,s.useState)(null),[w,v]=(0,s.useState)(!0),[j,C]=(0,s.useState)(null),[k,E]=(0,s.useState)(""),N=()=>{b([]),y(null),a&&D(n,a,x)};(0,s.useEffect)((()=>{E((()=>{if("undefined"!=typeof window){const n=window.location.pathname.split("/"),e=n.indexOf("content");if(-1!==e)return`${n.slice(0,e+2).join("/")}/static/docs-cdc-datahub/examples/dashboard`}return"/examples/dashboard"})())}),[]);const S=(n,e)=>{if(!n||!e)return p([]),void b([]);try{const o=n[e]||{},r=Object.keys(o||{}).filter((n=>"files"!==n&&o[n]&&"object"==typeof o[n]))||[];p(r),Array.isArray(o.files)&&o.files.length>0?D(n,e):r.length>0?(m(r[0]),D(n,e,r[0])):b([])}catch(j){console.error("Error loading subcategories:",j),p([]),C("Error loading dashboard categories"),b([])}};(0,s.useEffect)((()=>{k&&(async()=>{v(!0),C(null);try{const n=`${k}/manifest.json`,o=await fetch(n);if(!o.ok)throw new Error(`Failed to load manifest: ${o.status}`);const t=await o.json();if(e(t||{}),t&&"object"==typeof t){const n=Object.keys(t||{}).filter((n=>"files"!==n&&t[n]&&"object"==typeof t[n]))||[];r(n),n.length>0?(i(n[0]),S(t,n[0])):(C("No dashboard categories found"),b([]))}else C("Invalid manifest format"),r([]),b([])}catch(j){console.error("Error loading manifest:",j),C("Error loading dashboard manifest"),r([]),b([])}finally{v(!1)}})()}),[k]);const D=async function(n,e,o){void 0===o&&(o=null),v(!0),C(null);try{if(!n||!e)throw new Error("Invalid manifest data or category");let r=[],t="";o&&n[e]&&n[e][o]?(r=n[e][o]?.files||[],t=`/${e}/${o}`):n[e]&&(r=n[e]?.files||[],t=`/${e}`);const a=await Promise.all(r.map((async n=>{try{const e=`${k}/${n.path}`;console.log("Loading dashboard from:",e);const o=await fetch(e);if(!o.ok)throw new Error(`Failed to load ${n.path}: ${o.status}`);const r=((n,e,o)=>{if(!n)return n;try{const e={...n};if(e.dataUrl){const n=e.dataUrl.split("/").pop();e.dataUrl=`${o}/feature/__data__/${n}`}return e}catch(j){return console.error("Error updating data URLs:",j),n}})(await o.json(),0,k);return{name:n.name.replace(".json",""),config:r}}catch(j){return console.error(`Error loading ${n.path}:`,j),null}}))),s=a.filter(Boolean);b(s),0===s.length&&C("No valid dashboard configurations found")}catch(j){console.error("Error loading dashboards:",j),b([]),C("Error loading dashboards")}finally{v(!1)}};return(0,s.useEffect)((()=>{k&&(async()=>{v(!0),C(null);try{const n=`${k}/manifest.json`,o=await fetch(n);if(!o.ok)throw new Error(`Failed to load manifest: ${o.status}`);const t=await o.json();if(e(t),t&&"object"==typeof t){const n=Object.keys(t||{}).filter((n=>"files"!==n&&t[n]&&"object"==typeof t[n]));r(n),n.length>0?(i(n[0]),S(t,n[0])):C("No dashboard categories found")}else C("Invalid manifest format")}catch(j){console.error("Error loading manifest:",j),C("Error loading dashboard manifest"),r([])}finally{v(!1)}})()}),[k]),j?(0,t.jsx)("div",{className:d.container,children:(0,t.jsx)("div",{className:"error",children:j})}):(0,t.jsxs)("div",{className:d.container,children:[(0,t.jsxs)("div",{className:d.navigation,children:[(0,t.jsx)("div",{className:d.mainCategories,children:o.map((e=>(0,t.jsx)("button",{onClick:()=>(e=>{C(null),i(e),m(""),y(null),S(n,e)})(e),className:`${d.categoryButton} ${a===e?d.active:""}`,children:e},e)))}),c.length>0&&(0,t.jsx)("div",{className:d.subCategories,children:c.map((e=>(0,t.jsx)("button",{onClick:()=>(e=>{C(null),m(e),y(null),D(n,a,e)})(e),className:`${d.categoryButton} ${x===e?d.active:""}`,children:e},e)))})]}),(0,t.jsx)("div",{className:d.dashboardsContainer,children:w?(0,t.jsx)("div",{className:"loading",children:"Loading dashboards..."}):u&&0!==u.length?(0,t.jsxs)("div",{className:d.dashboardsGrid,children:[u.map(((n,e)=>(0,t.jsxs)("div",{className:`${d.dashboardCard} ${g===n?d.expanded:""}`,children:[(0,t.jsx)("h3",{children:n?.name||"Unnamed Dashboard"}),(0,t.jsx)("div",{className:"dashboardWrapper",children:(0,t.jsx)("div",{className:"dashboard-container",children:n?.config?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h,{config:n.config,onFilterError:N}),(0,t.jsx)(l,{config:n.config})]}):(0,t.jsx)("div",{className:"error",children:"Invalid dashboard configuration"})})})]},e))),(0,t.jsx)(f,{})]}):(0,t.jsxs)("div",{className:d.noDashboards,children:["No dashboards found for ",x||a||"selected category"]})}),g&&(0,t.jsx)("div",{className:d.backButtonContainer,children:(0,t.jsx)("button",{className:d.categoryButton,onClick:()=>y(null),children:"Back to Grid"})})]})},m={title:"Dashboards",description:"Examples of CDC Dashboard Components"},u="Dashboard Gallery",b={},g=[];function y(n){const e={h1:"h1",header:"header",p:"p",...(0,a.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"dashboard-gallery",children:"Dashboard Gallery"})}),"\n",(0,t.jsx)(e.p,{children:"Below you can explore various chart examples:"}),"\n",(0,t.jsx)(x,{})]})}function w(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(y,{...n})}):y(n)}}}]);