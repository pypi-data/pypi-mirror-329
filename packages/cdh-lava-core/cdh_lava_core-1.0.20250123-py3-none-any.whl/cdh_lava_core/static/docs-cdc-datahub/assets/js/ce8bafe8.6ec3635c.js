"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7299],{7183:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>f,contentTitle:()=>u,default:()=>b,frontMatter:()=>p,metadata:()=>a,toc:()=>m});const a=JSON.parse('{"id":"data-platforms/demos/charts","title":"Charts","description":"Examples of CDC Chart Components","source":"@site/docs/data-platforms/7_demos/charts.mdx","sourceDirName":"data-platforms/7_demos","slug":"/data-platforms/demos/charts","permalink":"/content/f14ebb0a-f6f7-4eda-be53-b9a117d28a6b/static/docs-cdc-datahub/docs/data-platforms/demos/charts","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/data-platforms/7_demos/charts.mdx","tags":[],"version":"current","frontMatter":{"title":"Charts","description":"Examples of CDC Chart Components"},"sidebar":"data_platforms","previous":{"title":"Component","permalink":"/content/f14ebb0a-f6f7-4eda-be53-b9a117d28a6b/static/docs-cdc-datahub/docs/data-platforms/demos/"},"next":{"title":"Dashboards","permalink":"/content/f14ebb0a-f6f7-4eda-be53-b9a117d28a6b/static/docs-cdc-datahub/docs/data-platforms/demos/dashboards"}}');var o=n(4848),r=n(8453),s=n(6540),i=n(4118);const l={"chart-container":"chart-container_pl6V","tooltip-boundary":"tooltip-boundary_V5jc","visx-group":"visx-group_WWGz",viewConfigButton:"viewConfigButton_UYBb",modalOverlay:"modalOverlay_GwyE",modalContent:"modalContent_vHPm",closeButton:"closeButton__s3N",copyButton:"copyButton_GDbu"},c=e=>{const t=(0,s.useRef)(null),n=Element.prototype.setAttribute;(0,s.useEffect)((()=>{const e=document.createElement("style");return e.innerHTML="\n/* Parent container for chart and legend */\n.tooltip-boundary {\n \n  min-width: 800px;\n  height: 600px;\n  position: relative;\n  overflow: visible !important;\n}\n\n.sankey-chart {\n  width: 100%;\n  height: 100%;\n}\n\n.sankey-chart__diagram {\n  width: 100% !important;\n  height: 100% !important;\n  min-width: 800px;\n  min-height: 600px;\n}\n\n.filters-section__intro-text {\n  white-space: normal; /* Allows normal wrapping */\n  word-break: break-word; /* Breaks words if they're too long */\n  width: 100px; /* Ensures the element uses full width */\n}\n.filters-section__intro-text {\n  white-space: normal; /* Allows normal wrapping */\n  word-break: break-word; /* Breaks words if they're too long */\n  width: 100px; /* Ensures the element uses full width */\n}\n\n.subtext{\n  word-wrap: break-word; /* Allows long words to break and wrap */\n  overflow-wrap: break-word; /* Modern alternative to word-wrap */\n    width: 100px; /* Ensures the element uses full width */\n}\n\n \n\n.chartWrapper {\n  display: flex; /* Use flexbox for layout */\n  flex-direction: row; /* Place chart and legend side-by-side */\n  justify-content: space-between; /* Spread chart and legend */\n  align-items: flex-start; /* Align to top */\n  width: 100%; /* Full container width */\n  box-sizing: border-box;\n  padding: 10px; /* Add padding for spacing */\n  gap: 10px; /* Add space between chart and legend */\n}\n\n/* Chart container */\n.tooltip-boundary {\n  flex: 1 1 75%; /* Chart takes 75% of the container */\n  height: auto; /* Flexible height */\n  background-color: #f9f9f9;\n  border: 1px solid #ddd;\n  box-sizing: border-box;\n  padding-right: 20px; /* Prevent content from touching legend */\n}\n\n/* Legend wrapper */\n.legend-wrapper {\n  flex: 1 1 20%; /* Legend takes 20% of the container */\n  min-width: 150px; /* Ensure the legend is not too narrow */\n  text-align: left;\n  background-color: #fff;\n  border: 1px solid #ccc;\n  box-sizing: border-box;\n  padding: 10px;\n}\n\n/* Legend items */\n.legend-wrapper .visx-legend {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.legend-wrapper .legend-item {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n\n.legend-wrapper .legend-item span {\n  display: inline-block;\n  width: 12px;\n  height: 12px;\n  background-color: #377eb8; /* Default color */\n  border-radius: 50%;\n}\n\n/* Bar chart spacing fixes */\n.bar-chart .bar {\n  margin: 0 2px; /* Add slight margin between bars */\n}\n\n.bar-chart text {\n  font-size: 12px; /* Reduce label text size */\n  fill: #333; /* Darker color for readability */\n}\n\n/* Ensure table at bottom remains aligned */\n.tableWrapper {\n  width: 100%; /* Full width */\n  margin-top: 20px; /* Space from chart */\n  background-color: #fff;\n  border: 1px solid #ddd;\n  padding: 10px;\n  box-sizing: border-box;\n}\n\n \n\n    ",document.head.appendChild(e),()=>{document.head.removeChild(e)}}),[]),(0,s.useEffect)((()=>{if(!t.current)return;Element.prototype.setAttribute=function(e,t){if("rect"===this.tagName&&"width"===e){const a=parseFloat(t);if(!isNaN(a)&&a<0)return n.call(this,e,"0")}return n.call(this,e,t)};const e=new MutationObserver((e=>{e.forEach((e=>{if("attributes"===e.type&&"width"===e.attributeName&&"rect"===e.target.tagName){const t=parseFloat(e.target.getAttribute("width"));!isNaN(t)&&t<0&&e.target.setAttribute("width","0")}}))}));return e.observe(t.current,{subtree:!0,attributes:!0,attributeFilter:["width"]}),()=>{Element.prototype.setAttribute=n,e.disconnect()}}),[]);return(0,o.jsx)("div",{ref:t,style:{minHeight:"200px",width:"100%",position:"relative"},children:e.config&&(0,o.jsx)(i.A,{...e,config:(e=>{const t={...e};return Array.isArray(t.data)&&(t.data=t.data.map((e=>({...e,value:Math.max(0,Number(e.value||e.Value||0))})))),t})(e.config),onError:e=>{console.error("Chart error:",e)}})})},d=e=>{let{config:t,onClose:n}=e;const[a,r]=(0,s.useState)("");return(0,o.jsx)("div",{className:l.modalOverlay,children:(0,o.jsxs)("div",{className:l.modalContent,children:[(0,o.jsx)("button",{onClick:n,className:l.closeButton,children:"Close"}),(0,o.jsx)("h3",{children:"Chart Configuration"}),(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,o.jsx)("button",{onClick:()=>{const e=JSON.stringify(t,null,2);navigator.clipboard.writeText(e).then((()=>{r("Copied!"),setTimeout((()=>r("")),2e3)})).catch((e=>{console.error("Failed to copy:",e),r("Failed to copy!")}))},className:l.copyButton,title:"Copy Config to Clipboard",children:"Copy Config"}),(0,o.jsx)("span",{children:a})]}),(0,o.jsx)("pre",{style:{whiteSpace:"pre-wrap",overflowY:"auto",maxHeight:"60vh"},children:JSON.stringify(t,null,2)})]})})},h=()=>{const[e,t]=(0,s.useState)(null),[n,a]=(0,s.useState)([]),[r,i]=(0,s.useState)(""),[h,p]=(0,s.useState)([]),[u,f]=(0,s.useState)(""),[m,g]=(0,s.useState)([]),[b,x]=(0,s.useState)(null),[w,y]=(0,s.useState)(!0),[C,v]=(0,s.useState)(!1),[j,k]=(0,s.useState)("");(0,s.useEffect)((()=>{k((()=>{if("undefined"!=typeof window){const e=window.location.pathname.split("/"),t=e.indexOf("content");if(-1!==t)return`${e.slice(0,t+2).join("/")}/static/docs-cdc-datahub/examples/charts`}return"/examples/charts"})())}),[]);const N=(e,t)=>{if(!e||!t)return;const n=Object.keys(e[t]).filter((n=>"files"!==n&&"object"==typeof e[t][n]));p(n),e[t].files?.length>0?E(e,t):n.length>0&&(f(n[0]),E(e,t,n[0]))},E=async function(e,t,n){void 0===n&&(n=null),y(!0);try{let a=[],o="";n?(a=e[t][n]?.files||[],o=`/${t}/${n}`):(a=e[t]?.files||[],o=`/${t}`),console.log("Loading files for path:",o),console.log("Files to load:",a);const r=await Promise.all(a.map((async e=>{try{const t=`${j}/${e.path}`;console.log("Loading chart from:",t);const n=await fetch(t);if(!n.ok)throw new Error(`Failed to load ${e.path}: ${n.status}`);const a=((e,t,n)=>{const a={...e};if(a.dataUrl){const t=a.dataUrl.split("/").pop();a.dataUrl=`${n}/feature/__data__/${t}`,console.log("URL Resolution:",{original:e.dataUrl,final:a.dataUrl})}return a})(await n.json(),0,j);return{name:e.name.replace(".json",""),config:a}}catch(t){return console.error(`Error loading ${e.path}:`,t),null}}))),s=r.filter(Boolean);console.log(`Loaded ${s.length} valid configurations`),g(s)}catch(a){console.error("Error loading charts:",a),g([])}finally{y(!1)}};return(0,s.useEffect)((()=>{j&&(async()=>{try{const e=`${j}/manifest.json`;console.log("Current baseUrl:",j),console.log("Full manifest URL:",e),console.log("Window location:",window.location.pathname);const n=await fetch(e);if(!n.ok)throw new Error(`Failed to load manifest: ${n.status}`);const o=await n.json();console.log("Loaded manifest:",o),t(o);const r=Object.keys(o).filter((e=>"files"!==e&&"object"==typeof o[e]));console.log("Found categories:",r),a(r),r.length>0&&(i(r[0]),N(o,r[0]))}catch(e){console.error("Error loading manifest:",e)}finally{y(!1)}})()}),[j]),(0,o.jsxs)("div",{className:l.container,children:[(0,o.jsxs)("div",{className:l.navigation,children:[(0,o.jsx)("div",{className:l.mainCategories,children:n.map((t=>(0,o.jsx)("button",{onClick:()=>(t=>{i(t),f(""),x(null),N(e,t)})(t),className:`${l.categoryButton} ${r===t?l.active:""}`,children:t},t)))}),h.length>0&&(0,o.jsx)("div",{className:l.subCategories,children:h.map((t=>(0,o.jsx)("button",{onClick:()=>(t=>{f(t),x(null),E(e,r,t)})(t),className:`${l.categoryButton} ${u===t?l.active:""}`,children:t},t)))})]}),(0,o.jsxs)("div",{className:l.chartsContainer,children:[w?(0,o.jsx)("div",{className:l.loading,children:"Loading charts..."}):0===m.length?(0,o.jsxs)("div",{className:l.noCharts,children:["No charts found for ",u||r]}):(0,o.jsx)("div",{className:l.chartsGrid,children:m.map(((e,t)=>(0,o.jsxs)("div",{className:`${l.chartCard} ${b===e?l.expanded:""}`,children:[(0,o.jsx)("h3",{children:e.name}),(0,o.jsx)("div",{className:"chartWrapper",children:(0,o.jsxs)("div",{className:"tooltip-boundary",children:[(0,o.jsx)(c,{config:e.config}),(0,o.jsx)("button",{onClick:()=>(e=>{x(e),v(!0)})(e),className:l.viewConfigButton,children:"View Config"})]})}),b===e&&(0,o.jsx)("div",{className:l.config,children:(0,o.jsx)("pre",{children:JSON.stringify(e.config,null,2)})})]},t)))}),C&&b&&(0,o.jsx)(d,{config:b.config,onClose:()=>{v(!1),x(null)}})]}),b&&(0,o.jsx)("div",{className:l.backButtonContainer,children:(0,o.jsx)("button",{className:l.categoryButton,onClick:()=>x(null),children:"Back to Grid"})})]})},p={title:"Charts",description:"Examples of CDC Chart Components"},u="Chart Gallery",f={},m=[];function g(e){const t={h1:"h1",header:"header",p:"p",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"chart-gallery",children:"Chart Gallery"})}),"\n",(0,o.jsx)(t.p,{children:"Below you can explore various chart examples:"}),"\n",(0,o.jsx)(h,{})]})}function b(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(g,{...e})}):g(e)}}}]);