<div class="section-area">
    <div class="row">
        <div class="col-md-12">
            <!-- Back Button - Gray and Left Aligned -->
            <div class="d-flex justify-content-start mb-2">
                <button class="btn btn-primary" onclick="window.history.back();">Back</button>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <!-- Add, Select, Copy, Paste, and Delete Buttons -->
            <div class="d-flex justify-content-start mb-2">
                <button class="btn btn-secondary mr-2" id="add-row">Add Row</button>
                <button class="btn btn-secondary mr-2" id="select-row">Select Row</button>
                <button class="btn btn-info mr-2" id="copy-row" disabled>Copy Row</button>
                <button class="btn btn-warning mr-2" id="paste-row" disabled>Paste Row</button>
                <button class="btn btn-danger" id="delete-row" disabled>Delete Row</button>
            </div>

            <!-- CSV Table with Editable Cells -->
            <table id="excel-table" class="table table-striped table-theme-blue">
                <thead>
                    <tr>
                        <th scope="col">Meta Ingress File Path</th>
                        <th scope="col">Column Batch Group</th>
                        <th scope="col">Column Group</th>
                        <th scope="col">Column Name</th>
                        <th scope="col">Column Label</th>
                        <th scope="col">Column Description</th>
                        <th scope="col">Compare Filter</th>
                        <th scope="col">Compare Table</th>
                        <th scope="col">Compare Row Id Keys</th>
                        <th scope="col">Compare Row Columns</th>
                        <th scope="col">Column Name New</th>
                        <th scope="col">Custom Function</th>
                        <th scope="col">Database Name</th>
                        <th scope="col">Dataset Name</th>
                        <th scope="col">Date Format</th>
                        <th scope="col">Function</th>
                        <th scope="col">Data Product Id</th>
                        <th scope="col">Expected Percent Null</th>
                        <th scope="col">Expected Percent to Not be Null</th>
                        <th scope="col">Expected Column Values to be in Set</th>
                        <th scope="col">Expected Column Values to Not be in Set</th>
                        <th scope="col">Apply Expectations by Date</th>
                        <th scope="col">Apply Expectations for N Dates Back</th>
                    </tr>
                </thead>
                <tbody id="table-body">
                    {% for row in columns %}
                    <tr>
                        <td contenteditable="false" data-name="__meta_ingress_file_path">{{ row.__meta_ingress_file_path }}</td>
                        <td contenteditable="true" data-name="column_batch_group" class="only-numbers">{{ row.column_batch_group }}</td>
                        <td contenteditable="true" data-name="column_group">{{ row.column_group }}</td>
                        <td contenteditable="true" data-name="column_name">{{ row.column_name }}</td>
                        <td contenteditable="true" data-name="column_label">{{ row.column_label }}</td>
                        <td contenteditable="true" data-name="column_description">{{ row.column_description }}</td>
                        <td contenteditable="true" data-name="compare_filter">{{ row.compare_filter }}</td>
                        <td contenteditable="true" data-name="compare_table">{{ row.compare_table }}</td>
                        <td contenteditable="true" data-name="compare_row_id_keys">{{ row.compare_row_id_keys }}</td>
                        <td contenteditable="true" data-name="compare_row_columns">{{ row.compare_row_columns }}</td>
                        <td contenteditable="true" data-name="column_name_new">{{ row.column_name_new }}</td>
                        <td contenteditable="true" data-name="custom_function">{{ row.custom_function }}</td>
                        <td contenteditable="false" data-name="database_name">{{ row.database_name }}</td>
                        <td contenteditable="false" data-name="dataset_name">{{ row.dataset_name }}</td>
                        <td contenteditable="true" data-name="date_format">{{ row.date_format }}</td>
                        <td contenteditable="true" data-name="function">{{ row.function }}</td>
                        <td contenteditable="false" data-name="data_product_id">{{ row.data_product_id }}</td>
                        <td contenteditable="true" data-name="expected_percent_null">{{ row.expected_percent_null }}</td>
                        <td contenteditable="true" data-name="expected_percent_to_not_be_null">{{ row.expected_percent_to_not_be_null }}</td>
                        <td contenteditable="true" data-name="expect_column_values_to_be_in_set">{{ row.expect_column_values_to_be_in_set }}</td>
                        <td contenteditable="true" data-name="expect_column_values_to_not_be_in_set">{{ row.expect_column_values_to_not_be_in_set }}</td>
                        <td contenteditable="true" data-name="apply_expectations_by_date">{{ row.apply_expectations_by_date }}</td>
                        <td contenteditable="true" data-name="apply_expectations_for_n_dates_back">{{ row.apply_expectations_for_n_dates_back }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>

            <!-- Save Button to trigger saving of changes -->
            <div class="d-flex justify-content-end mt-2">
                <button class="btn btn-success" id="save-changes">Save Changes</button>
            </div>
        </div>
    </div>
</div>
