(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1827],{66726:function(e,t,i){var r=i(11611),n=i(82846),a=i(91936),s=Math.max,l=Math.min;e.exports=function(e,t,i){var o,c,u,d,p,g,x=0,f=!1,h=!1,v=!0;if("function"!=typeof e)throw TypeError("Expected a function");function j(t){var i=o,r=c;return o=c=void 0,x=t,d=e.apply(r,i)}function m(e){var i=e-g,r=e-x;return void 0===g||i>=t||i<0||h&&r>=u}function C(){var e,i,r,a=n();if(m(a))return y(a);p=setTimeout(C,(e=a-g,i=a-x,r=t-e,h?l(r,u-i):r))}function y(e){return(p=void 0,v&&o)?j(e):(o=c=void 0,d)}function I(){var e,i=n(),r=m(i);if(o=arguments,c=this,g=i,r){if(void 0===p)return x=e=g,p=setTimeout(C,t),f?j(e):d;if(h)return clearTimeout(p),p=setTimeout(C,t),j(g)}return void 0===p&&(p=setTimeout(C,t)),d}return t=a(t)||0,r(i)&&(f=!!i.leading,u=(h="maxWait"in i)?s(a(i.maxWait)||0,t):u,v="trailing"in i?!!i.trailing:v),I.cancel=function(){void 0!==p&&clearTimeout(p),x=0,o=g=c=p=void 0},I.flush=function(){return void 0===p?d:y(n())},I}},82846:function(e,t,i){var r=i(77400);e.exports=function(){return r.Date.now()}},53359:function(e,t,i){"use strict";i.d(t,{H:function(){return a},V:function(){return r.V}});var r=i(75139),n=i(60136);let a=()=>{let{errorAlert:e}=(0,r.V)();return{handleError:t=>{let i="An unexpected error occurred. Please try again.";(0,n.Ot)(t)?i=t.data.detail:(0,n.tB)(t)&&(i=t.data.detail[0].msg),e(i)}}}},75139:function(e,t,i){"use strict";i.d(t,{V:function(){return a}});var r=i(24246),n=i(96013);let a=()=>{let e=(0,n.pmc)();return{errorAlert:(t,i,a)=>{let s={...a,position:(null==a?void 0:a.position)||"top",render:e=>{let{onClose:a}=e;return(0,r.jsxs)(n.bZj,{alignItems:"normal",status:"error","data-testid":"error-alert",children:[(0,r.jsx)(n.zMQ,{}),(0,r.jsxs)(n.xuv,{children:[i&&(0,r.jsx)(n.CdC,{children:i}),(0,r.jsx)(n.XaZ,{children:t})]}),(0,r.jsx)(n.PZ7,{onClick:a,position:"relative",right:0,size:"sm",top:-1})]})}};(null==a?void 0:a.id)&&e.isActive(a.id)?e.update(a.id,s):e(s)},successAlert:(t,i,a)=>{let s={...a,position:(null==a?void 0:a.position)||"top",render:e=>{let{onClose:a}=e;return(0,r.jsxs)(n.bZj,{alignItems:"normal",status:"success",variant:"subtle","data-testid":"success-alert",children:[(0,r.jsx)(n.zMQ,{}),(0,r.jsxs)(n.xuv,{children:[i&&(0,r.jsx)(n.CdC,{children:i}),(0,r.jsx)(n.XaZ,{children:t})]}),(0,r.jsx)(n.PZ7,{onClick:a,position:"relative",right:0,size:"sm",top:-1})]})}};(null==a?void 0:a.id)&&e.isActive(a.id)?e.update(a.id,s):e(s)}}}},99526:function(e,t,i){"use strict";var r=i(24246),n=i(96013);t.Z=()=>(0,r.jsxs)(n.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"empty-state",alignSelf:"center",margin:"auto",children:[(0,r.jsx)(n.xvT,{fontSize:"md",fontWeight:"600",children:"No resources found"}),(0,r.jsx)(n.xvT,{fontSize:"sm",children:"You're up to date!"})]})},67219:function(e,t,i){"use strict";i.d(t,{Z:function(){return R}});var r=i(24246),n=i(59003),a=i(92222),s=i(96013),l=i(27378),o=i(8540),c=i(99526),u=i(68299),d=i(98320),p=i(53359),g=i(59973),x=i(70629),f=i(6111),h=e=>{let{resource:t,onDetailClick:i}=e,{successAlert:n}=(0,p.V)(),a=(0,x.u)(t),[l,{isLoading:o}]=(0,f.v8)(),[c,{isLoading:u}]=(0,f.cM)(),[d,{isLoading:h}]=(0,f.vi)(),v=async()=>{var e;await l({staged_resource_urn:t.urn,monitor_config_id:t.monitor_config_id,unmute_children:!0,classify_monitored_resources:!0}),n("Started classification on ".concat(null!==(e=t.name)&&void 0!==e?e:"this resource"))},j=async()=>{var e;await c({staged_resource_urn:t.urn}),n("Approved ".concat(null!==(e=t.name)&&void 0!==e?e:" resource"))},m=async()=>{var e;await d({staged_resource_urn:t.urn}),n("Hid ".concat(null!==(e=t.name)&&void 0!==e?e:" resource"))},C=o||u||h;return(0,r.jsxs)(s.kCb,{gap:2,justify:"space-between",children:[a===x.e.ATTENTION_REQUIRED&&(0,r.jsx)(s.wpx,{size:"small",onClick:v,loading:o,disabled:C,"data-testid":"classify-btn",children:"Classify"}),a===x.e.IN_REVIEW&&(0,r.jsx)(s.wpx,{size:"small",onClick:j,loading:u,disabled:C,"data-testid":"approve-btn",children:"Approve"}),(0,r.jsx)(s.LZC,{}),(0,r.jsx)(g.Z,{onHideClick:m,onDetailClick:i})]})},v=i(55490),j=i(51254),m=i(52810),C=i(61934),y=i(59104);let I=(0,a.Cl)();var L=(e,t)=>{let i=[];return e?e===y.X.TABLE?[I.display({id:"name",cell:e=>{let{row:t}=e;return(0,r.jsx)(v.Z,{resource:t.original})},header:"Table"}),I.display({id:"status",cell:e=>{let{row:t}=e;return(0,r.jsx)(j.Z,{status:(0,x.u)(t.original)})},header:"Status"}),I.display({id:"category",cell:e=>{let{row:t}=e;return(0,r.jsx)(m.Z,{resource:t.original})},header:"Data categories",minSize:280,meta:{disableRowClick:!0}}),I.accessor(e=>e.description,{id:"description",cell:e=>(0,r.jsx)(o.G3,{value:e.getValue()}),header:"Description"}),I.accessor(e=>e.updated_at,{id:"lastUpdated",cell:e=>(0,r.jsx)(d.Cy,{time:e.getValue()}),header:"Updated"}),I.display({id:"actions",cell:e=>{let{row:i}=e;return(0,r.jsx)(h,{resource:i.original,onDetailClick:()=>t(i.original)})},header:"Actions",meta:{disableRowClick:!0}})]:e===y.X.FIELD?[I.display({id:"name",cell:e=>{let{row:t}=e;return(0,r.jsx)(v.Z,{resource:t.original})},header:"Field"}),I.display({id:"status",cell:e=>{let{row:t}=e;return(0,r.jsx)(j.Z,{status:(0,x.u)(t.original)})},header:"Status"}),I.accessor(e=>e.data_type,{id:"dataType",cell:e=>(0,r.jsx)(C.Z,{type:e.getValue()}),header:"Data type"}),I.display({id:"category",cell:e=>{let{row:t}=e;return(0,r.jsx)(m.Z,{resource:t.original})},header:"Data categories",minSize:280,meta:{disableRowClick:!0}}),I.accessor(e=>e.description,{id:"description",cell:e=>(0,r.jsx)(o.G3,{value:e.getValue()}),header:"Description"}),I.accessor(e=>e.updated_at,{id:"lastUpdated",cell:e=>(0,r.jsx)(d.Cy,{time:e.getValue()}),header:"Updated"}),I.display({id:"actions",cell:e=>{let{row:i}=e;return(0,r.jsx)(h,{resource:i.original,onDetailClick:()=>t(i.original)})},header:"Actions",meta:{disableRowClick:!0}})]:i:i},_=i(22770),b=i(52962),k=i(6170),w=i(46042);let T=[w.LL.ADDITION,w.LL.CLASSIFYING,w.LL.CLASSIFICATION_ADDITION,w.LL.CLASSIFICATION_QUEUED,w.LL.CLASSIFICATION_UPDATE,w.LL.MONITORED,w.LL.PROMOTING,w.LL.REMOVAL,w.LL.REMOVING],A={items:[],total:0,page:1,size:50,pages:1};var R=e=>{var t;let{resourceUrn:i,onRowClick:d}=e,{PAGE_SIZES:p,pageSize:g,setPageSize:x,onPreviousPageClick:h,isPreviousPageDisabled:v,onNextPageClick:j,isNextPageDisabled:m,startRange:C,endRange:I,pageIndex:w,setTotalPages:R,resetPageIndexToDefault:S}=(0,o.oi)(),[Z,E]=(0,l.useState)("");(0,l.useEffect)(()=>{S()},[i,S]);let{isFetching:N,isLoading:P,data:D}=(0,f.z8)({staged_resource_urn:i,page:w,size:g,diff_status:T,search:Z}),{items:z,total:M,pages:O}=(0,l.useMemo)(()=>null!=D?D:A,[D]);(0,l.useEffect)(()=>{R(O)},[O,R]);let[V,U]=(0,l.useState)(void 0),F=L((0,b.G)(null!==(t=z[0])&&void 0!==t?t:y.X.NONE),U),G=(0,n.b7)({getCoreRowModel:(0,a.sC)(),getGroupedRowModel:(0,a.qe)(),getExpandedRowModel:(0,a.rV)(),columns:F,manualPagination:!0,data:z,columnResizeMode:"onChange",getRowId:e=>e.urn});return P||N?(0,r.jsx)(o.I4,{rowHeight:36,numRows:36}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Q$,{children:(0,r.jsx)(s.kCb,{gap:6,align:"center",children:(0,r.jsx)(s.xuv,{flexShrink:0,children:(0,r.jsx)(_.M,{value:Z,onChange:E})})})}),(0,r.jsx)(o.ZK,{tableInstance:G,emptyTableNotice:(0,r.jsx)(c.Z,{}),getRowIsClickable:e=>(0,k.Z)(e),onRowClick:d}),(0,r.jsx)(o.s8,{totalRows:M||0,pageSizes:p,setPageSize:x,onPreviousPageClick:h,isPreviousPageDisabled:v,onNextPageClick:j,isNextPageDisabled:m,startRange:C,endRange:I}),(0,r.jsx)(u.Z,{resource:V,onClose:()=>U(void 0)})]})}},71819:function(e,t,i){"use strict";i.d(t,{X5:function(){return l},pN:function(){return o},sv:function(){return a}});var r=i(24246),n=i(96013);let a=e=>e.split(".")[1],s=[(0,r.jsx)(n.PJP.S9g,{},"layers"),(0,r.jsx)(n.PJP.iA_,{},"table"),(0,r.jsx)(n.PJP.$4y,{style:{transform:"rotate(-90deg)"}},"field")],l=(e,t)=>{if(!e)return[];let i=e.split(".");if(i.length<2)return[];let l=i.splice(0,2).join("."),o=[];return i.reduce((e,r,n)=>{let a=n===i.length-1,c="".concat(e).concat(".").concat(r);return o.push({title:r,href:a?void 0:"".concat(t,"/").concat(l,"/").concat(c),icon:s[n]}),c},l),[{title:a(l),href:"".concat(t,"/").concat(l),icon:(0,r.jsx)(n.PJP.ehp,{})},...o]},o=(e,t)=>{if(!e)return[];let i=e.split(".");if(i.length<2)return[];let r=i.shift(),n=[];return i.reduce((e,r,a)=>{let l=a===i.length-1,o="".concat(e).concat(".").concat(r);return n.push({title:r,href:l?void 0:"".concat(t,"/").concat(o),icon:s[a]}),o},r),n}},22770:function(e,t,i){"use strict";i.d(t,{M:function(){return o}});var r=i(24246),n=i(66726),a=i.n(n),s=i(27378),l=i(33312);let o=e=>{let{value:t,onChange:i}=e,[n,o]=(0,s.useState)(t),c=a()(i,500),u=(0,s.useCallback)(e=>{o(e),c(e)},[]);return(0,r.jsx)(l.Z,{search:n,onChange:u,onClear:()=>{o(""),i("")}})}},61934:function(e,t,i){"use strict";var r=i(24246),n=i(96013);t.Z=e=>{let{type:t}=e;return(0,r.jsx)(n.kCb,{align:"center",h:"full",children:!!t&&(0,r.jsx)(n.j8w,{children:t})})}}}]);