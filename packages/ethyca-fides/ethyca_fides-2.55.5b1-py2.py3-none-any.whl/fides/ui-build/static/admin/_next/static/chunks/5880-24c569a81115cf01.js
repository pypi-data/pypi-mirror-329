"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5880],{38615:function(e,t,n){n.d(t,{Tg:function(){return s}});var r=n(24246),i=n(44296),a=n(96451);let s=e=>(0,i.C)(a.uu).filter(t=>e.includes(t)).length>0;t.ZP=e=>{let{scopes:t,children:n}=e;return s(t)?(0,r.jsx)(r.Fragment,{children:n}):null}},60136:function(e,t,n){n.d(t,{D4:function(){return a.D4},MM:function(){return f},Ot:function(){return u},c6:function(){return i},cj:function(){return g},e$:function(){return l},fn:function(){return o},iC:function(){return p},nU:function(){return d},tB:function(){return c}});var r,i,a=n(41164);let s="An unexpected error occurred. Please try again.",l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;if((0,a.Bw)(e)){if((0,a.hE)(e.data))return e.data.detail;if((0,a.cz)(e.data)){var n;let t=null===(n=e.data.detail)||void 0===n?void 0:n[0];return"".concat(null==t?void 0:t.msg,": ").concat(null==t?void 0:t.loc)}if(409===e.status&&(0,a.Dy)(e.data)||404===e.status&&(0,a.XD)(e.data))return"".concat(e.data.detail.error," (").concat(e.data.detail.fides_key,")")}return t};function o(e){return"object"==typeof e&&null!=e&&"status"in e}function u(e){return"object"==typeof e&&null!=e&&"data"in e&&"string"==typeof e.data.detail}function c(e){return"object"==typeof e&&null!=e&&"data"in e&&Array.isArray(e.data.detail)}let d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:500,message:s};if((0,a.oK)(e))return{status:e.originalStatus,message:e.data};if((0,a.Bw)(e)){let{status:n}=e;return{status:n,message:l(e,t.message)}}return t},f=e=>Object.entries(e).map(e=>({value:e[1],label:e[1]}));(r=i||(i={})).GVL="gvl",r.AC="gacp",r.COMPASS="compass";let p={gvl:{label:"GVL",fullName:"Global Vendor List"},gacp:{label:"AC",fullName:"Google Additional Consent List"},compass:{label:"",fullName:""}},g=e=>{let t=e.split(".")[0];return"gacp"===t?"gacp":"gvl"===t?"gvl":"compass"}},16781:function(e,t,n){n.d(t,{MA:function(){return l},Vo:function(){return u},t5:function(){return o}});var r=n(24246),i=n(41748);let a=e=>{let{children:t}=e;return(0,r.jsxs)(i.xvT,{"data-testid":"toast-success-msg",children:[(0,r.jsx)("strong",{children:"Success:"})," ",t]})},s=e=>{let{children:t}=e;return(0,r.jsxs)(i.xvT,{"data-testid":"toast-error-msg",children:[(0,r.jsx)("strong",{children:"Error:"})," ",t]})},l={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},o=e=>{let t=(0,r.jsx)(a,{children:e});return{...l,description:t}},u=e=>{let t=(0,r.jsx)(s,{children:e});return{...l,description:t,status:"error"}}},50204:function(e,t,n){n.d(t,{Z:function(){return x}});var r=n(24246),i=n(41748),a=n(27378),s=n(44833),l=n(45007),o=n(60136),u=n(16781),c=n(69477),d=n(89319),f=n(52020),p=n(21618);let{reducer:g}=(0,d.oM)({name:"connectorTemplate",initialState:{},reducers:{}}),{useRegisterConnectorTemplateMutation:m}=p.u.injectEndpoints({endpoints:e=>({registerConnectorTemplate:e.mutation({query:e=>{let t=new FormData;return t.append("file",e),{url:"".concat(f.o4,"/register"),method:"POST",body:t}},invalidatesTags:()=>["Connection Type"]})})});var x=e=>{let{isOpen:t,onClose:n,testId:d="connector-template-modal"}=e,f=(0,l.I0)(),[p,g]=(0,a.useState)(null),x=(0,i.pmc)(),{getRootProps:h,getInputProps:y,isDragActive:j}=(0,s.uI)({onDrop:e=>{var t;if("zip"!==(null===(t=e[0].name.split(".").pop())||void 0===t?void 0:t.toLowerCase())){x((0,u.Vo)("Only zip files are allowed."));return}g(e[0])}}),[v,{isLoading:b}]=m(),{refetch:C}=(0,c.$I)({search:""},{skip:!1}),w=async()=>{if(p)try{var e;await v(p).unwrap(),x((0,u.t5)("Integration template uploaded successfully."));let{data:t}=await C();f((0,c.fP)(null!==(e=null==t?void 0:t.items)&&void 0!==e?e:[])),n()}catch(e){x((0,u.Vo)((0,o.e$)(e)))}finally{g(null)}};return(0,r.jsxs)(i.u_l,{isOpen:t,onClose:n,size:"2xl",children:[(0,r.jsx)(i.ZAr,{}),(0,r.jsxs)(i.hzk,{textAlign:"left",p:2,"data-testid":d,children:[(0,r.jsx)(i.xBx,{children:"Upload integration template"}),(0,r.jsxs)(i.fef,{children:[(0,r.jsx)(i.xvT,{fontSize:"sm",mb:4,children:"Drag and drop your integration template zip file here, or click to browse your files."}),(0,r.jsxs)(i.xuv,{...h(),bg:j?"gray.100":"gray.50",border:"2px dashed",borderColor:j?"gray.300":"gray.200",borderRadius:"md",cursor:"pointer",minHeight:"150px",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",children:[(0,r.jsx)("input",{...y()}),p?(0,r.jsx)(i.xvT,{children:p.name}):j?(0,r.jsx)(i.xvT,{children:"Drop the file here..."}):(0,r.jsx)(i.xvT,{children:"Click or drag and drop your file here."})]}),(0,r.jsx)(i.xvT,{fontSize:"sm",mt:4,children:"An integration template zip file must include a SaaS config and dataset, but may also contain an icon (.svg) as an optional file."})]}),(0,r.jsxs)(i.mzw,{className:"flex w-full justify-end gap-2",children:[(0,r.jsx)(i.wpx,{onClick:n,"data-testid":"cancel-btn",disabled:b,children:"Cancel"}),(0,r.jsx)(i.wpx,{type:"primary",htmlType:"submit",disabled:!p||b,onClick:w,"data-testid":"submit-btn",children:"Submit"})]})]})]})}},9699:function(e,t,n){var r=n(24246),i=n(41748),a=n(34090);t.Z=e=>{let{disabled:t=!1,displayHelpIcon:n=!0,helpIconVisibility:s=!1,isRequired:l=!1,label:o,placeholder:u,type:c="text",...d}=e,{id:f,autoFocus:p}=d,[g,m]=(0,a.U$)(d);return(0,r.jsxs)(i.NIc,{display:"flex",isRequired:l,isInvalid:!!(m.error&&m.touched),children:[o&&(0,r.jsx)(i.lXp,{color:"gray.900",fontSize:"14px",fontWeight:"semibold",htmlFor:f,minWidth:"150px",children:o}),(0,r.jsxs)(i.gCW,{align:"flex-start",w:"inherit",children:["number"===c&&(0,r.jsxs)(i.Y2U,{allowMouseWheel:!0,color:"gray.700",defaultValue:0,min:0,size:"sm",children:[(0,r.jsx)(i.zuI,{...g,autoComplete:"off",autoFocus:p}),(0,r.jsxs)(i.FiK,{children:[(0,r.jsx)(i.WQu,{}),(0,r.jsx)(i.Y_d,{})]})]}),"text"===c&&(0,r.jsx)(i.IIB,{...g,autoComplete:"off",autoFocus:p,color:"gray.700",isDisabled:t,placeholder:u,size:"sm"}),"textarea"===c&&(0,r.jsx)(i.gxH,{...g,autoComplete:"off",autoFocus:p,color:"gray.700",placeholder:u,resize:"none",size:"sm",value:g.value||""}),(0,r.jsx)(i.J1D,{children:m.error})]}),n&&(0,r.jsx)(i.kCb,{alignContent:"center",h:"32px",visibility:s?"visible":"hidden",children:(0,r.jsx)(i.ITP,{marginLeft:"8px",_hover:{cursor:"pointer"}})})]})}},41164:function(e,t,n){n.d(t,{Bw:function(){return s},D4:function(){return i},Dy:function(){return o},XD:function(){return u},cz:function(){return c},hE:function(){return l},oK:function(){return a}});var r=n(76649);let i=e=>"error"in e,a=e=>(0,r.Ln)({status:"string"},e)&&"PARSING_ERROR"===e.status,s=e=>(0,r.Ln)({status:"number",data:{}},e),l=e=>(0,r.Ln)({detail:"string"},e),o=e=>(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e),u=e=>(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e),c=e=>(0,r.Ln)({detail:[{loc:["string","number"],msg:"string",type:"string"}]},e)},76649:function(e,t,n){n.d(t,{Ln:function(){return r}});let r=(e,t)=>a(e,t),i=Symbol("SOME"),a=(e,t)=>"string"==typeof e?e===typeof t:Array.isArray(e)?i in e?e.some(e=>a(e,t)):!!Array.isArray(t)&&(0===e.length||t.every(t=>e.some(e=>a(e,t)))):"object"==typeof t&&null!==t&&Object.entries(e).every(([e,n])=>a(n,t[e]));class s{static narrow(e){return new s(t=>r(e,t))}constructor(e){this.NF=void 0,this.NF=e}satisfied(e){return this.NF(e)}build(e){return e}and(e){let t=this.NF,n=e instanceof s?e.NF:e instanceof Function?e:t=>r(e,t);return new s(e=>t(e)&&n(e))}}new s(e=>!0)}}]);