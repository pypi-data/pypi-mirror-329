"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8001],{36848:function(e,t,a){a.d(t,{q:function(){return l}});var s=a(24246),i=a(41748);let l=e=>{let{label:t,isDisabled:a,...l}=e;return(0,s.jsx)(i.OK9,{"data-testid":"tab-".concat(t),_selected:{fontWeight:"600",color:"complimentary.500",borderColor:"complimentary.500"},fontSize:l.fontSize,fontWeight:"500",color:"gray.500",isDisabled:a||!1,children:t})};t.Z=e=>{let{data:t,border:a="partial",...n}=e;return(0,s.jsxs)(i.mQc,{colorScheme:"complimentary",...n,children:[(0,s.jsx)(i.tdY,{width:"partial"===a?"max-content":void 0,children:t.map(e=>(0,s.jsx)(l,{label:e.label,isDisabled:e.isDisabled,fontSize:n.fontSize},e.label))}),(0,s.jsx)(i.nPR,{children:t.map(e=>(0,s.jsx)(i.x45,{px:0,"data-testid":"tab-panel-".concat(e.label),children:e.content},e.label))})]})}},11574:function(e,t,a){var s=a(24246),i=a(41748),l=a(36848);t.Z=e=>{let{data:t,border:a="partial",borderWidth:n=2,...r}=e;return(0,s.jsx)(i.mQc,{colorScheme:"complimentary",...r,children:(0,s.jsx)(i.tdY,{width:"partial"===a?"max-content":void 0,borderBottomWidth:n,children:t.map(e=>(0,s.jsx)(l.q,{label:e.label,"data-testid":e.label,isDisabled:e.isDisabled,fontSize:r.fontSize},e.label))})})}},66857:function(e,t,a){var s=a(24246),i=a(74588),l=a(19310);t.Z=e=>{let{selectedTaxonomies:t,showDisabled:a=!1,...n}=e,{getDataCategoryDisplayNameProps:r,getDataCategories:o}=(0,l.Z)(),d=(a?o():o().filter(e=>e.active)).filter(e=>!t.includes(e.fides_key)).map(e=>{let{name:t,primaryName:a}=r(e.fides_key);return{value:e.fides_key,name:t,primaryName:a,description:e.description||""}});return(0,s.jsx)(i.l,{options:d,...n})}},76552:function(e,t,a){var s=a(24246),i=a(11574);t.Z=e=>{let{filterTabs:t,onChange:a,filterTabIndex:l}=e;return(0,s.jsx)(i.Z,{border:"full-width",mb:5,size:"sm",data:t,borderWidth:1,index:l,onChange:a})}},8339:function(e,t,a){a.d(t,{Y:function(){return n}});var s=a(24246),i=a(41748),l=a(53614);let n=[(0,s.jsx)(i.PJP.S9g,{},"layers"),(0,s.jsx)(i.PJP.ehp,{},"dataset"),(0,s.jsx)(i.PJP.iA_,{},"table"),(0,s.jsx)(i.PJP.$4y,{style:{transform:"rotate(-90deg)"}},"field")];t.Z=e=>{let{resourceUrn:t,parentLink:a,onPathClick:i=()=>{}}=e,r=[];if(t||r.push({title:"All activity"}),t){r.push({title:"All activity",href:a});let e=t.split(".");e.forEach((t,a)=>{0!==a&&r.push({title:t,icon:n[a-1],onClick:t=>{t.preventDefault(),i(e.slice(0,a+1).join("."))}})})}return(0,s.jsx)(l.m,{"data-testid":"results-breadcrumb",items:r})}},21917:function(e,t,a){a.d(t,{Z:function(){return z}});var s,i,l=a(24246),n=a(59003),r=a(92222),o=a(41748),d=a(86677),c=a(27378),u=a(8540),g=a(76552),x=a(6111),h=a(98320),m=a(61934),j=a(38575),C=a(51557),f=a(59104),p=a(15025),v=a(46042),I=a(33890),_=a(67690),b=a(62448),y=e=>{let{resourceType:t}=e,a=(0,r.Cl)();return t===f.X.SCHEMA?{columns:[a.accessor(e=>e.name,{id:"name",cell:e=>(0,l.jsx)(b.Z,{result:e.row.original,changeTypeOverride:C.E.CLASSIFICATION}),header:e=>(0,l.jsx)(u.Rr,{value:"Name",...e})}),a.accessor(e=>e.urn,{id:"project",cell:e=>(0,l.jsx)(u.G3,{value:(0,p.Z)(e.getValue())}),header:e=>(0,l.jsx)(u.Rr,{value:"Project",...e})}),a.display({id:"status",cell:e=>(0,l.jsx)(j.Z,{result:e.row.original}),header:e=>(0,l.jsx)(u.Rr,{value:"Status",...e})}),a.accessor(e=>e.system,{id:"system",cell:e=>(0,l.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,l.jsx)(u.Rr,{value:"System",...e})}),a.accessor(e=>e.monitor_config_id,{id:"monitor",cell:e=>(0,l.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,l.jsx)(u.Rr,{value:"Detected by",...e})}),a.accessor(e=>e.updated_at,{id:"time",cell:e=>(0,l.jsx)(h.Cy,{time:e.getValue()}),header:e=>(0,l.jsx)(u.Rr,{value:"When",...e})}),a.display({id:"action",cell:e=>e.row.original.diff_status!==v.LL.MUTED?(0,l.jsx)(I.Z,{resource:e.row.original}):(0,l.jsx)(u.G3,{value:"--"}),header:"Actions",meta:{width:"auto"}})]}:t===f.X.TABLE?{columns:[a.display({id:"select",cell:e=>{var t;let{row:a}=e;return(0,l.jsx)(h.k,{isChecked:a.getIsSelected(),onChange:a.getToggleSelectedHandler(),dataTestId:"select-".concat(null!==(t=a.original.name)&&void 0!==t?t:a.id)})},header:e=>{let{table:t}=e;return(0,l.jsx)(h.k,{isChecked:t.getIsAllPageRowsSelected(),isIndeterminate:t.getIsSomeRowsSelected(),onChange:t.getToggleAllRowsSelectedHandler(),dataTestId:"select-all-rows"})},maxSize:40}),a.accessor(e=>e.name,{id:"tables",cell:e=>(0,l.jsx)(b.Z,{result:e.row.original}),header:e=>(0,l.jsx)(u.Rr,{value:"Table name",...e})}),a.accessor(e=>e.description,{id:"description",cell:e=>(0,l.jsx)(u.G3,{value:e.getValue(),cellProps:e}),header:e=>(0,l.jsx)(u.Rr,{value:"Description",...e}),meta:{showHeaderMenu:!0}}),a.display({id:"status",cell:e=>(0,l.jsx)(j.Z,{result:e.row.original}),header:e=>(0,l.jsx)(u.Rr,{value:"Status",...e})}),a.display({id:"type",cell:()=>(0,l.jsx)(u.G3,{value:"Table"}),header:"Type"}),a.accessor(e=>e.updated_at,{id:"time",cell:e=>(0,l.jsx)(h.Cy,{time:e.getValue()}),header:"Time"}),a.display({id:"actions",cell:e=>(0,l.jsx)(I.Z,{resource:e.row.original}),header:"Actions",meta:{width:"auto"}})]}:t===f.X.FIELD?{columns:[a.accessor(e=>e.name,{id:"name",cell:e=>(0,l.jsx)(b.Z,{result:e.row.original}),header:e=>(0,l.jsx)(u.Rr,{value:"Field name",...e})}),a.accessor(e=>e.source_data_type,{id:"data-type",cell:e=>(0,l.jsx)(m.Z,{type:e.getValue()}),header:e=>(0,l.jsx)(u.Rr,{value:"Data type",...e})}),a.accessor(e=>e.description,{id:"description",cell:e=>(0,l.jsx)(u.G3,{value:e.getValue(),cellProps:e}),header:e=>(0,l.jsx)(u.Rr,{value:"Description",...e}),meta:{showHeaderMenu:!0}}),a.display({id:"status",cell:e=>(0,l.jsx)(j.Z,{result:e.row.original}),header:e=>(0,l.jsx)(u.Rr,{value:"Status",...e})}),a.display({id:"type",cell:()=>(0,l.jsx)(u.G3,{value:"Field"}),header:"Type"}),a.display({id:"classifications",cell:e=>{let{row:t}=e;return(0,l.jsx)(_.Z,{resource:t.original})},meta:{overflow:"visible",disableRowClick:!0},header:"Data category",minSize:280}),a.accessor(e=>e.updated_at,{id:"time",cell:e=>(0,l.jsx)(h.Cy,{time:e.getValue()}),header:e=>(0,l.jsx)(u.Rr,{value:"When",...e})}),a.display({id:"actions",cell:e=>(0,l.jsx)(I.Z,{resource:e.row.original}),header:"Actions",meta:{width:"auto"}})]}:{columns:[]}};(s=i||(i={}))[s.ACTION_REQUIRED=0]="ACTION_REQUIRED",s[s.UNMONITORED=1]="UNMONITORED";var S=e=>{let{initialFilterTabIndex:t=0}=e,[a,s]=(0,c.useState)(t),i=(0,c.useMemo)(()=>[{label:"Action Required",filters:[v.LL.CLASSIFICATION_ADDITION,v.LL.CLASSIFICATION_UPDATE],childFilters:[v.LL.CLASSIFICATION_ADDITION,v.LL.CLASSIFICATION_UPDATE]},{label:"In progress",filters:[v.LL.CLASSIFYING,v.LL.CLASSIFICATION_QUEUED],childFilters:[v.LL.CLASSIFYING,v.LL.CLASSIFICATION_QUEUED]},{label:"Unmonitored",filters:[v.LL.MUTED],childFilters:[]}],[]);return{filterTabs:i,filterTabIndex:a,setFilterTabIndex:s,activeDiffFilters:i[a].filters,activeChildDiffFilters:i[a].childFilters}},L=a(38637),w=a(87573),T=a(35682),A=e=>{let{resourceUrn:t}=e,[a,{isLoading:s}]=(0,x.Hf)(),[i,{isLoading:n}]=(0,x.zV)(),r=s||n,d=async e=>{await i({staged_resource_urns:e})},c=async e=>{await a({staged_resource_urns:e})};return(0,l.jsx)(o.jqI,{"data-testid":"bulk-actions-menu",children:(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(T.Z,{title:"Confirm all",icon:(0,l.jsx)(o.nQG,{}),onClick:()=>c([t]),disabled:r,loading:s,type:"primary",size:"middle"}),(0,l.jsx)(T.Z,{title:"Ignore all",icon:(0,l.jsx)(o.tpL,{}),onClick:()=>d([t]),disabled:r,loading:n,size:"middle"})]})})},Z=e=>{let{selectedUrns:t}=e,[a,{isLoading:s}]=(0,x.Hf)(),[i,{isLoading:n}]=(0,x.zV)(),r=s||n,d=async e=>{await a({staged_resource_urns:e})},c=async e=>{await i({staged_resource_urns:e})};return t.length?(0,l.jsxs)(o.jqI,{className:"items-center","data-testid":"bulk-actions-menu",children:[(0,l.jsx)(o.xvT,{fontSize:"xs",fontWeight:"semibold",minW:16,mr:4,children:"".concat(t.length," selected")}),(0,l.jsxs)(o.jqI,{className:"gap-2",children:[(0,l.jsx)(T.Z,{title:"Confirm",icon:(0,l.jsx)(o.nQG,{}),onClick:()=>d(t),disabled:r,loading:s,type:"primary",size:"middle"}),(0,l.jsx)(T.Z,{title:"Ignore",icon:(0,l.jsx)(o.tpL,{}),disabled:r,loading:n,onClick:()=>c(t),size:"middle"})]})]}):null},R=a(52962),N=a(71329),D=a(2053),k=a(22770);let E={items:[],total:0,page:1,size:50,pages:1},F=()=>(0,l.jsx)(o.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"empty-state",alignSelf:"center",margin:"auto",children:(0,l.jsxs)(o.gCW,{children:[(0,l.jsx)(o.xvT,{fontSize:"md",fontWeight:"600",children:"No activity found"}),(0,l.jsx)(o.xvT,{fontSize:"sm",children:"You're up to date!"})]})});var z=e=>{var t,a;let{resourceUrn:s}=e,h=(0,d.useRouter)(),[m,j]=(0,c.useState)(""),{filterTabs:C,setFilterTabIndex:p,filterTabIndex:v,activeDiffFilters:I,activeChildDiffFilters:_}=S({initialFilterTabIndex:(null===(t=h.query)||void 0===t?void 0:t.filterTabIndex)?Number(null===(a=h.query)||void 0===a?void 0:a.filterTabIndex):void 0}),[b,T]=(0,c.useState)({}),{PAGE_SIZES:z,pageSize:P,setPageSize:O,onPreviousPageClick:M,isPreviousPageDisabled:U,onNextPageClick:G,isNextPageDisabled:V,startRange:W,endRange:q,pageIndex:Q,setTotalPages:H,resetPageIndexToDefault:X}=(0,u.oi)();(0,c.useEffect)(()=>{X()},[s,m,X,I,_]);let{isFetching:Y,isLoading:B,data:J}=(0,x.z8)({staged_resource_urn:s,page:Q,size:P,child_diff_status:_,diff_status:I,search:m}),K=(0,R.G)(null==J?void 0:J.items[0]),{items:$,total:ee,pages:et}=(0,c.useMemo)(()=>null!=J?J:E,[J]);(0,c.useEffect)(()=>{H(et)},[et,H]);let{columns:ea}=y({resourceType:K}),es=(0,c.useMemo)(()=>ea,[ea]),{navigateToDiscoveryResults:ei}=(0,L.Z)(),el=(0,n.b7)({getCoreRowModel:(0,r.sC)(),getGroupedRowModel:(0,r.qe)(),getExpandedRowModel:(0,r.rV)(),columns:es,manualPagination:!0,onRowSelectionChange:T,state:{rowSelection:b},getRowId:N.Z,data:$,columnResizeMode:"onChange"}),en=Object.keys(b).filter(e=>b[e]);return B?(0,l.jsx)(u.I4,{rowHeight:36,numRows:36}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(g.Z,{filterTabs:C,filterTabIndex:v,onChange:p}),(0,l.jsxs)(u.Q$,{children:[(0,l.jsxs)(o.kCb,{gap:6,align:"center",children:[(0,l.jsx)(o.xuv,{flexShrink:0,children:(0,l.jsx)(k.M,{value:m,onChange:j})}),(0,l.jsx)(w.Z,{})]}),K===f.X.TABLE&&!!en.length&&(0,l.jsx)(Z,{selectedUrns:en}),K===f.X.FIELD&&v!==i.UNMONITORED&&(0,l.jsx)(A,{resourceUrn:s})]}),(0,l.jsx)(u.ZK,{tableInstance:el,onRowClick:e=>ei({resourceUrn:e.urn,filterTabIndex:v}),getRowIsClickable:e=>K!==f.X.FIELD||(0,D.Z)(e),emptyTableNotice:(0,l.jsx)(F,{})}),(0,l.jsx)(u.s8,{totalRows:ee||0,pageSizes:z,setPageSize:O,onPreviousPageClick:M,isPreviousPageDisabled:U||Y,onNextPageClick:G,isNextPageDisabled:V||Y,startRange:W,endRange:q})]})}},33890:function(e,t,a){var s=a(24246),i=a(41748),l=a(53359),n=a(90049),r=a(46042),o=a(35682),d=a(6111);t.Z=e=>{let{resource:t}=e,[a,{isLoading:c}]=(0,d.v8)(),[u,{isLoading:g}]=(0,d.cM)(),[x,{isLoading:h}]=(0,d.vi)(),m=g||h||c,{diff_status:j,child_diff_statuses:C,top_level_field_name:f}=t,{successAlert:p}=(0,l.V)(),v=j===r.LL.CLASSIFICATION_ADDITION||j===r.LL.CLASSIFICATION_UPDATE,I=C&&(C[r.LL.CLASSIFICATION_ADDITION]||C[r.LL.CLASSIFICATION_UPDATE]),_=(v||I)&&!f,b=v||I,y=_&&b,S=async()=>{await u({staged_resource_urn:t.urn}),p('These changes have been added to a Fides dataset. To view, navigate to "Manage datasets".',"Table changes confirmed")},L=async()=>{await x({staged_resource_urn:t.urn}),p("Ignored changes will not be added to a Fides dataset.","".concat(t.name||"Changes"," ignored"))},w=async()=>{await a({staged_resource_urn:t.urn,monitor_config_id:t.monitor_config_id,start_classification:!0,classify_monitored_resources:!0}),p("Reclassification of ".concat((0,n.Z)(t)||"the resource"," has begun.  The results may take some time to appear in the “Data discovery“ tab."),"Reclassification started")};return(0,s.jsxs)(i.Ugi,{onClick:e=>e.stopPropagation(),gap:2,children:[_&&(0,s.jsx)(o.Z,{title:"Confirm",icon:(0,s.jsx)(i.nQG,{}),onClick:S,disabled:m,loading:g}),b&&(0,s.jsx)(o.Z,{title:"Ignore",icon:(0,s.jsx)(i.tpL,{}),onClick:L,disabled:m,loading:h}),!y&&(0,s.jsx)(o.Z,{title:"Reclassify",icon:(0,s.jsx)(i.nyI,{}),onClick:w,disabled:m,loading:c}),(0,s.jsx)(i.LZC,{}),y&&(0,s.jsxs)(i.v2r,{children:[(0,s.jsx)(i.j2t,{as:i.wpx,size:"small",type:"text",icon:(0,s.jsx)(i.nXP,{transform:"rotate(90deg)"}),className:"w-6 gap-0","data-testid":"actions-overflow-btn"}),(0,s.jsx)(i.qyq,{children:(0,s.jsx)(i.sNh,{onClick:w,icon:(0,s.jsx)(i.nyI,{}),"data-testid":"action-reclassify",children:"Reclassify"})})]})]})}},67690:function(e,t,a){a.d(t,{Z:function(){return h}});var s=a(24246),i=a(41748),l=a(27378),n=a(66857),r=a(19310);let o=(0,i.IUT)({displayName:"SparkleIcon",viewBox:"0 0 18 18",path:(0,s.jsx)("path",{fill:"currentColor",d:"M9.53604 15.8107C9.81449 15.8107 10.0158 15.6256 10.0681 15.3471C10.7648 11.6208 11.1324 11.0552 14.8315 10.559C15.1373 10.518 15.3337 10.303 15.3337 10.0245C15.3337 9.74611 15.1373 9.53357 14.8315 9.49254C11.1609 8.99636 10.6349 8.45671 10.0681 4.71568C10.0246 4.42354 9.81449 4.22717 9.53604 4.22717C9.28 4.22717 9.05872 4.41234 9.01768 4.70447C8.34835 8.43318 7.95089 8.99143 4.24063 9.49254C3.94849 9.53357 3.74963 9.74611 3.74963 10.0245C3.74963 10.303 3.94849 10.5155 4.24063 10.559C7.91753 11.0847 8.446 11.5836 9.01768 15.3359C9.04995 15.6256 9.26003 15.8107 9.53604 15.8107ZM3.62366 7.96543C3.82881 7.96543 3.9954 7.81253 4.03397 7.60739C4.40352 5.74358 4.25772 5.75481 6.22471 5.41918C6.44356 5.38938 6.58033 5.21404 6.58033 5.0089C6.58033 4.81497 6.44109 4.63717 6.22471 4.5986C4.26265 4.27148 4.40105 4.26655 4.03397 2.43529C3.9954 2.22768 3.84249 2.06358 3.62366 2.06358C3.41604 2.06358 3.26314 2.21648 3.21335 2.43529C2.84873 4.25179 2.9896 4.25179 1.02259 4.5986C0.814976 4.63963 0.666992 4.81497 0.666992 5.0089C0.666992 5.23894 0.814976 5.38938 1.05241 5.41918C2.98714 5.74249 2.84626 5.73868 3.21335 7.58252C3.26314 7.80132 3.40483 7.96543 3.62366 7.96543ZM8.03377 3.9032C8.17054 3.9032 8.27749 3.80747 8.30485 3.6707C8.5461 2.4508 8.47882 2.4732 9.75105 2.22703C9.89903 2.19969 9.9923 2.09273 9.9923 1.95599C9.9923 1.81922 9.89656 1.71472 9.74858 1.68738C8.46759 1.43874 8.52367 1.43874 8.30485 0.254909C8.27749 0.106937 8.18175 0 8.03377 0C7.897 0 7.80126 0.106939 7.76269 0.257375C7.50393 1.43874 7.60488 1.43874 6.31652 1.68738C6.16851 1.71472 6.08647 1.81922 6.08647 1.95599C6.08647 2.10396 6.16851 2.19723 6.33265 2.22703C7.60488 2.43956 7.50393 2.45079 7.76269 3.64827C7.80126 3.80747 7.897 3.9032 8.03377 3.9032Z"})});var d=a(1051),c=a(74473),u=a(52104),g=a(6111);let x=e=>{let{onClick:t}=e;return(0,s.jsx)(i.wpx,{onClick:t,icon:(0,s.jsx)(i.Two,{boxSize:2}),size:"small",type:"text",className:"max-h-4 max-w-4","aria-label":"Remove category"})};var h=e=>{var t,a,h;let{resource:m}=e,[j,C]=(0,l.useState)(!1),{getDataCategoryDisplayName:f}=(0,r.Z)(),[p]=(0,g.NA)(),v=(null===(t=m.classifications)||void 0===t?void 0:t.length)?m.classifications[0].label:null,I=null!==(h=m.user_assigned_data_categories)&&void 0!==h?h:[],_=!v&&!(null==I?void 0:I.length),b=null===(a=m.sub_field_urns)||void 0===a?void 0:a.length,y=e=>{p({staged_resource_urn:m.urn,monitor_config_id:m.monitor_config_id,user_assigned_data_categories:[...I,e]})},S=e=>{var t;p({staged_resource_urn:m.urn,monitor_config_id:m.monitor_config_id,user_assigned_data_categories:null!==(t=null==I?void 0:I.filter(t=>t!==e))&&void 0!==t?t:[]})},L=!j&&!!I.length,w=!j&&!!v&&!I.length;return(0,s.jsxs)(c.Z,{"data-testid":"edit-category-cell",children:[_&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.Z,{"data-testid":"no-classifications",children:"None"}),!b&&(0,s.jsx)(d.Z,{onClick:()=>C(!0),"aria-label":"Add category"})]}),L&&(0,s.jsxs)(s.Fragment,{children:[I.map(e=>(0,s.jsx)(u.Z,{"data-testid":"user-classification-".concat(e),closeButton:(0,s.jsx)(x,{onClick:()=>S(e)}),children:f(e)},e)),(0,s.jsx)(d.Z,{onClick:()=>C(!0),"aria-label":"Add category"})]}),w&&(0,s.jsxs)(u.Z,{onClick:()=>C(!0),cursor:"pointer","data-testid":"classification-".concat(v),children:[(0,s.jsx)(o,{mt:.5}),f(v),(0,s.jsx)(i.dY8,{})]}),j&&(0,s.jsx)(i.xuv,{className:"select-wrapper",position:"absolute",zIndex:10,top:"0",left:"0",width:"100%",height:"max",bgColor:"#fff",children:(0,s.jsx)(n.Z,{selectedTaxonomies:I,onChange:e=>{C(!1),y(e)},onBlur:()=>C(!1),open:!0})})]})}},61934:function(e,t,a){var s=a(24246),i=a(41748);t.Z=e=>{let{type:t}=e;return(0,s.jsx)(i.kCb,{align:"center",h:"full",children:!!t&&(0,s.jsx)(i.Cts,{fontSize:"xs",fontWeight:"normal",children:t})})}}}]);