# codex_processor

Система для подготовки документов СтудЧР.

## Как работает

Превращает маркдаун вида

```
---
title: Регламент музыкальных стульев
---

## § Общие положения

§§ Музыкальные стулья — это кайфово.

§§ok Оргкомитет всегда прав.

§§ Когда оргкомитет неправ, см. п. <^^ok>
```

в готовый документ вида

<img src="mus_st.jpg" width="600" />

## Установка

Ставим miniconda отсюда: <https://docs.conda.io/en/latest/miniconda.html>

Нужен более-менее свежий питон. Если у вас уже есть более старая миниконда, создаёте новое окружение: `conda create -n codex python=3.11`.

Затем, если вы на Windows, открываем Anaconda Prompt, если на маке/линуксе, просто заново откройте терминал и введите `pip install codex_processor`.

После установки запустите `cpr install` — установятся нужные для работы тулы и шрифты. А затем `cpr healthcheck` — эта команда проверит, что всё установилось правильно. Если выдаст какую-то ошибку, пишите мне в телеграм: <https://t.me/pecheny>

## Запуск

Перейдите в папку `example` и запустите `cpr -o latex mus_st.md` — должен появиться pdf регламента.

Если не появится, попробуйте запустить ещё раз, увеличив таймаут: `cpr -o latex --timeout 999 mus_st.md`. Во время самого первого запуска он подтягивает некоторые латех-библиотеки, поэтому время выполнения может быть дольше.

## История версий

### v0.0.14

- Добавлены опции для команды `cpr install`: `--skip-on-error` и `--ctan-mirror-override`. Полезны в случае если у вас что-то не ставится из-за проблем с сетью, но вы готовы доставить это руками.