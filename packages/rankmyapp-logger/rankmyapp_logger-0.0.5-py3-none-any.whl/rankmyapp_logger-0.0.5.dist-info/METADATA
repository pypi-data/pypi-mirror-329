Metadata-Version: 2.2
Name: rankmyapp_logger
Version: 0.0.5
Summary: A internal logger library
Author: rankmyapp
Classifier: Programming Language :: Python :: 3
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Requires-Python: >=3.8
Description-Content-Type: text/markdown
Requires-Dist: requests==2.32.3
Requires-Dist: pika==1.3.2
Dynamic: author
Dynamic: classifier
Dynamic: description
Dynamic: description-content-type
Dynamic: requires-dist
Dynamic: requires-python
Dynamic: summary

## Python (portable)

- Install libraries
```
cd core/python

pip install -r requirements.txt
```

#### Audit logger

This logger is built to send logs to through a AMQP GELF Input queue.
Internally, this logger will include the timestamp for each log in UTC ISO String format.

###### RabbitMQ Transport Logger

```python
from rankmyapp_logger import (
  Message, 
  AuditMessage, 
  AuditAmqpTransport, 
  AuditHttpTransport,
  LogActionEnum,
  LogAuditKindEnum,
  LogProviderDestinationEnum,
  LogLevelEnum,
  LogProtocolEnum,
  Logger,
)
msg_base = Message(level="info", message="Mensagem")

msg_audit = AuditMessage(
  message="mensagem",
  service_name='service',
  kind=LogAuditKindEnum.OPERATIONAL,
  log_level=LogLevelEnum.WARN,
  log_provider=LogProviderDestinationEnum.GRAYLOG,
  origin="test",
  protocol=LogProtocolEnum.HTTP_1_1,
  target="test_target",
  action=LogActionEnum.CREATE_MANY,
  user_id="56",
  metadata=dict(),
)

audit_http_transport = AuditHttpTransport("http://localhost:33000")
audit_amqp_transport = AuditAmqpTransport("amqp://rabbitmq:rabbitmq@localhost:5672", "audit")

l = Logger(name="My First Logger", transports=[
  audit_http_transport,
  audit_amqp_transport,
])

l.info(
  msg_audit
)
```

#### How to install this package
```sh
$ pip install rankmyapp-logger
```

#### How to contribute

- Just make code into `core/python` packages
- Send this code throught Pull Request
- You can make tests file or test in `examples/python/main.py` directory or both

- How to build
```sh
$ python setup.py sdist bdist_wheel
```

- How to send it to pypi
```sh
$ py -m twine upload dist/*
```
